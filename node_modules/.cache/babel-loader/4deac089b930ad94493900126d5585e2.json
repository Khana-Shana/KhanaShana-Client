{"ast":null,"code":"import app from 'firebase/app';\nimport firebase from 'firebase';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport { Component } from 'react';\nvar config = {\n  apiKey: \"AIzaSyCoI_Hy_IJsXqDp_CtkdD1K81sqvTnzx7E\",\n  authDomain: \"khana-shana-2020.firebaseapp.com\",\n  databaseURL: \"https://khana-shana-2020.firebaseio.com\",\n  projectId: \"khana-shana-2020\",\n  storageBucket: \"khana-shana-2020.appspot.com\",\n  messagingSenderId: \"734527584801\",\n  appId: \"1:734527584801:web:f6cda3a79788e9af12c160\",\n  measurementId: \"G-SC8N0VD5FC\"\n};\n\nclass firebase_integration extends Component {\n  constructor() {\n    super();\n\n    this.doSignInWithFacebook = () => this.auth.signInWithPopup(this.facebookProvider);\n\n    this.doSendEmailVerification = () => this.auth.currentUser.sendEmailVerification({\n      url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT\n    });\n\n    firebase.initializeApp(config);\n    this.auth = firebase.auth();\n    this.db = firebase.firestore();\n    this.storage = firebase.storage();\n    this.facebookProvider = new firebase.auth.FacebookAuthProvider();\n  }\n\n  login(email, password) {\n    return this.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  logout() {\n    return this.auth.signOut();\n  }\n\n  async register(name, email, password) {\n    await this.auth.createUserWithEmailAndPassword(email, password);\n    this.auth.currentUser.sendEmailVerification();\n    return this.auth.currentUser.updateProfile({\n      displayName: name // email: email,\n      // password: password\n\n    });\n  }\n\n  passwordreset() {\n    return this.auth.sendPasswordResetEmail(this.auth.currentUser.email).then(function () {\n      alert(\"Email Sent!\");\n    }).catch(function (error) {// An error happened.\n    });\n  } // addQuote(quote) {\n  // \tif(!this.auth.currentUser) {\n  // \t\treturn alert('Not authorized')\n  // \t}\n  // \treturn this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).set({\n  // \t\tquote\n  // \t})\n  // }\n\n\n  isInitialized() {\n    return new Promise(resolve => {\n      this.auth.onAuthStateChanged(resolve);\n    });\n  }\n\n  getCurrentUsername() {\n    // alert(this.auth.currentUser.displayName)\n    return this.auth.currentUser && this.auth.currentUser.displayName;\n  }\n\n  getDisplayName() {\n    var name = this.auth.currentUser.displayName;\n    console.log(name);\n    var nameArr = name.split(' ');\n    console.log(nameArr);\n    return nameArr[0];\n  }\n\n  getImageURL(divID, mainreferencefolder, path, imagename) {\n    this.storage.ref(mainreferencefolder).child(path + '/' + imagename).getDownloadURL().then(function (url) {\n      document.getElementById(divID).src = url;\n    });\n  } // async getCurrentUserQuote() {\n  // \tconst quote = await this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).get()\n  // \treturn quote.get('quote')\n  // }\n\n\n}\n\nexport default new firebase_integration();","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/KhanaWeb/khanaweb/src/components/fire.js"],"names":["app","firebase","Component","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase_integration","constructor","doSignInWithFacebook","auth","signInWithPopup","facebookProvider","doSendEmailVerification","currentUser","sendEmailVerification","url","process","env","REACT_APP_CONFIRMATION_EMAIL_REDIRECT","initializeApp","db","firestore","storage","FacebookAuthProvider","login","email","password","signInWithEmailAndPassword","logout","signOut","register","name","createUserWithEmailAndPassword","updateProfile","displayName","passwordreset","sendPasswordResetEmail","then","alert","catch","error","isInitialized","Promise","resolve","onAuthStateChanged","getCurrentUsername","getDisplayName","console","log","nameArr","split","getImageURL","divID","mainreferencefolder","path","imagename","ref","child","getDownloadURL","document","getElementById","src"],"mappings":"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","sourcesContent":["import app from 'firebase/app';\r\nimport firebase from 'firebase';\r\nimport 'firebase/auth';\r\nimport 'firebase/firebase-firestore';\r\nimport { Component } from 'react';\r\n\r\nvar config = {\r\n\tapiKey: \"AIzaSyCoI_Hy_IJsXqDp_CtkdD1K81sqvTnzx7E\",\r\n\tauthDomain: \"khana-shana-2020.firebaseapp.com\",\r\n\tdatabaseURL: \"https://khana-shana-2020.firebaseio.com\",\r\n\tprojectId: \"khana-shana-2020\",\r\n\tstorageBucket: \"khana-shana-2020.appspot.com\",\r\n\tmessagingSenderId: \"734527584801\",\r\n\tappId: \"1:734527584801:web:f6cda3a79788e9af12c160\",\r\n\tmeasurementId: \"G-SC8N0VD5FC\"\r\n};\r\n\r\nclass firebase_integration extends Component{\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tfirebase.initializeApp(config);\r\n\t\tthis.auth = firebase.auth()\r\n\t\tthis.db = firebase.firestore()\r\n\t\tthis.storage = firebase.storage();\r\n\t\tthis.facebookProvider = new firebase.auth.FacebookAuthProvider();\r\n\t}\r\n\r\n\tlogin(email, password) {\r\n\t\treturn this.auth.signInWithEmailAndPassword(email, password)\r\n\t}\r\n\r\n\tlogout() {\r\n\t\treturn this.auth.signOut();\r\n\t}\r\n\r\n\tasync register(name, email, password) {\r\n\t\tawait this.auth.createUserWithEmailAndPassword(email, password)\r\n\t\tthis.auth.currentUser.sendEmailVerification();\r\n\t\treturn this.auth.currentUser.updateProfile({\r\n\t\t\tdisplayName: name,\r\n\t\t\t// email: email,\r\n\t\t\t// password: password\r\n\t\t})\r\n\t}\r\n\r\n\tpasswordreset() {\r\n\t\treturn this.auth.sendPasswordResetEmail(this.auth.currentUser.email).then(function () {\r\n\t\t\talert(\"Email Sent!\")\r\n\t\t}).catch(function (error) {\r\n\t\t\t// An error happened.\r\n\t\t});\r\n\t}\r\n\r\n\t// addQuote(quote) {\r\n\t// \tif(!this.auth.currentUser) {\r\n\t// \t\treturn alert('Not authorized')\r\n\t// \t}\r\n\r\n\t// \treturn this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).set({\r\n\t// \t\tquote\r\n\t// \t})\r\n\t// }\r\n\r\n\tisInitialized() {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.auth.onAuthStateChanged(resolve)\r\n\t\t})\r\n\t}\r\n\r\n\tdoSignInWithFacebook = () =>\r\n\t\tthis.auth.signInWithPopup(this.facebookProvider);\r\n\r\n\tgetCurrentUsername() {\r\n\t\t// alert(this.auth.currentUser.displayName)\r\n\t\treturn this.auth.currentUser && this.auth.currentUser.displayName\r\n\t}\r\n\r\n\tgetDisplayName() {\r\n\r\n\t\tvar name = this.auth.currentUser.displayName;\r\n\t\tconsole.log(name);\r\n\t\tvar nameArr = name.split(' ');\r\n\t\tconsole.log(nameArr);\r\n\t\treturn nameArr[0];\r\n\t}\r\n\r\n\tgetImageURL(divID, mainreferencefolder, path, imagename) {\r\n\t\tthis.storage.ref(mainreferencefolder).child(path+'/'+imagename).getDownloadURL().then(function(url) {\r\n\t\t  document.getElementById(divID).src = url;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\t// async getCurrentUserQuote() {\r\n\t// \tconst quote = await this.db.doc(`users_codedamn_video/${this.auth.currentUser.uid}`).get()\r\n\t// \treturn quote.get('quote')\r\n\t// }\r\n\r\n\r\n\tdoSendEmailVerification = () =>\r\n\t\tthis.auth.currentUser.sendEmailVerification({\r\n\t\t\turl: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT,\r\n\t\t});\r\n}\r\n\r\nexport default new firebase_integration();"]},"metadata":{},"sourceType":"module"}