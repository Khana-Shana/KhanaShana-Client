{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/profile/CustomerProfile.jsx\";\nimport React from 'react';\nimport firebase_integration from '../fire.js';\nimport './profilestyles.css';\nimport Header from '../navigation/Header';\nimport { Link } from 'react-router-dom';\n\nfunction CustomerProfile() {\n  const [editname, seteditname] = React.useState(false);\n  const [editemail, seteditemail] = React.useState(false);\n  const [editnumber, seteditnumber] = React.useState(false);\n  const [editpassword, seteditpassword] = React.useState(false);\n  const [editgender, seteditgender] = React.useState(false);\n  const [ID, setID] = React.useState();\n  const [name, setname] = React.useState();\n  const [email, setemail] = React.useState();\n  const [number, setnumber] = React.useState();\n  const [dob, setdob] = React.useState();\n  const [password, setpassword] = React.useState();\n  const [gender, setgender] = React.useState();\n  React.useEffect(() => {\n    firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot(snapshot => {\n      console.log(firebase_integration.auth.currentUser);\n      var customerdata = {};\n      snapshot.docs.forEach(doc => {\n        customerdata = doc.data();\n      });\n      setID(customerdata.CustomerID);\n      setname(customerdata.Name);\n      setemail(customerdata.Email);\n      setnumber(customerdata.ContactNo);\n      setdob(customerdata.DOB.toDate().getDate() + \"-\" + customerdata.DOB.toDate().getMonth() + 1 + \"-\" + customerdata.DOB.toDate().getFullYear());\n      setpassword(customerdata.Password);\n      setgender(customerdata.Gender);\n    });\n  }, [ID]);\n\n  async function updatename(value) {\n    firebase_integration.auth.currentUser.updateProfile({\n      displayName: value\n    }).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Name: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updateemail(value) {\n    firebase_integration.auth.currentUser.updateEmail(value).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Email: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatenumber(value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      ContactNo: value\n    });\n  }\n\n  async function updatepassword(value) {\n    firebase_integration.auth.currentUser.updatePassword(value).then(function () {\n      alert(\"Your password has been updated\");\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updategender(value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      Gender: value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default CustomerProfile;","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/profile/CustomerProfile.jsx"],"names":["React","firebase_integration","Header","Link","CustomerProfile","editname","seteditname","useState","editemail","seteditemail","editnumber","seteditnumber","editpassword","seteditpassword","editgender","seteditgender","ID","setID","name","setname","email","setemail","number","setnumber","dob","setdob","password","setpassword","gender","setgender","useEffect","database","collection","where","auth","currentUser","uid","toString","onSnapshot","snapshot","console","log","customerdata","docs","forEach","doc","data","CustomerID","Name","Email","ContactNo","DOB","toDate","getDate","getMonth","getFullYear","Password","Gender","updatename","value","updateProfile","displayName","then","update","catch","error","alert","message","updateemail","updateEmail","updatenumber","updatepassword","updatePassword","updategender"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport firebase_integration from '../fire.js';\r\nimport './profilestyles.css';\r\nimport Header from '../navigation/Header';\r\nimport {Link} from 'react-router-dom';\r\nfunction CustomerProfile() {\r\n    const [editname, seteditname] = React.useState(false)\r\n    const [editemail, seteditemail] = React.useState(false)\r\n    const [editnumber, seteditnumber] = React.useState(false)\r\n    const [editpassword, seteditpassword] = React.useState(false)\r\n    const [editgender, seteditgender] = React.useState(false)\r\n    const [ID, setID] = React.useState()\r\n    const [name, setname] = React.useState()\r\n    const [email, setemail] = React.useState()\r\n    const [number, setnumber] = React.useState()\r\n    const [dob, setdob] = React.useState()\r\n    const [password, setpassword] = React.useState()\r\n    const [gender, setgender] = React.useState()\r\n\r\n    React.useEffect(() => {\r\n        firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot((snapshot) => {\r\n            console.log(firebase_integration.auth.currentUser)\r\n            var customerdata = {};\r\n            snapshot.docs.forEach(doc => {\r\n                customerdata = doc.data()\r\n            });\r\n            setID(customerdata.CustomerID)\r\n            setname(customerdata.Name)\r\n            setemail(customerdata.Email)\r\n            setnumber(customerdata.ContactNo)\r\n            setdob(customerdata.DOB.toDate().getDate()+\"-\"+customerdata.DOB.toDate().getMonth()+1+\"-\"+customerdata.DOB.toDate().getFullYear())\r\n            setpassword(customerdata.Password)\r\n            setgender(customerdata.Gender)\r\n        })\r\n    },[ID]);\r\n\r\n    async function updatename(value){\r\n        firebase_integration.auth.currentUser.updateProfile({\r\n            displayName: value,\r\n          }).then(function() {\r\n                firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                    Name : value\r\n                })\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n        \r\n    }\r\n    async function updateemail(value){\r\n        firebase_integration.auth.currentUser.updateEmail(value).then(function() {\r\n            firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                Email : value\r\n            })\r\n        }).catch(function(error) {\r\n            alert(error.message);\r\n        });\r\n        \r\n    }\r\n    async function updatenumber(value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            ContactNo : value\r\n        })\r\n    }\r\n    async function updatepassword(value){\r\n        firebase_integration.auth.currentUser.updatePassword(value).then(function() {\r\n            alert(\"Your password has been updated\");\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n    }\r\n    async function updategender(value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            Gender : value\r\n        })\r\n    }        \r\n    return (\r\n        <div>\r\n            <Header/>\r\n            \r\n        </div>\r\n    );\r\n}\r\nexport default CustomerProfile;"]},"metadata":{},"sourceType":"module"}