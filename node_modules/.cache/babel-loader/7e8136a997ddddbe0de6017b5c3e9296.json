{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isNil from \"lodash/isNil\";\nimport _get from \"lodash/get\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { on } from 'dom-lib';\nimport InputGroup from '../InputGroup/InputGroup';\nimport InputGroupAddon from '../InputGroup/InputGroupAddon';\nimport Input from '../Input';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport { prefix, defaultProps, getUnhandledProps, partitionHTMLProps, createChainedFunction } from '../utils';\n\nvar isFloat = function isFloat(value) {\n  return /(^-?|^\\+?|^\\d?)\\d*\\.\\d+$/.test(value + '');\n};\n\nfunction getDecimalLength(value) {\n  if (isFloat(value)) {\n    return value.toString().split('.')[1].length;\n  }\n\n  return 0;\n}\n\nfunction decimals() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  var lengths = values.map(getDecimalLength);\n  return Math.max.apply(Math, lengths);\n}\n\nfunction getButtonStatus(value, min, max) {\n  var status = {\n    disabledUpButton: false,\n    disabledDownButton: false\n  };\n\n  if (typeof value !== 'undefined' && value !== null) {\n    status.disabledUpButton = +value >= max;\n    status.disabledDownButton = +value <= min;\n  }\n\n  return status;\n}\n\nvar InputNumber = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(InputNumber, _React$Component);\n\n  function InputNumber(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.input = null;\n    _this.inputWheelListener = null;\n\n    _this.bindInputRef = function (ref) {\n      _this.input = ref;\n    };\n\n    _this.handleOnChange = function (value, event) {\n      if (!/^-?(?:\\d+)?(\\.)?(\\d+)*$/.test(value) && value !== '') {\n        return;\n      }\n\n      var isUnControl = _isUndefined(_this.props.value);\n\n      _this.handleValue(value, event, isUnControl);\n    };\n\n    _this.handleBlur = function (event) {\n      var targetValue = Number.parseFloat(_get(event, 'target.value'));\n\n      _this.handleValue(_this.getSafeValue(targetValue), event);\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props = _this.props,\n          onWheel = _this$props.onWheel,\n          disabled = _this$props.disabled;\n\n      if (!disabled && event.target === document.activeElement) {\n        event.preventDefault();\n        var delta = _get(event, 'wheelDelta') || -event.deltaY || -_get(event, 'detail');\n\n        if (delta > 0) {\n          _this.handleMinus(event);\n        }\n\n        if (delta < 0) {\n          _this.handlePlus(event);\n        }\n      }\n\n      onWheel && onWheel(event);\n    };\n\n    _this.handlePlus = function (event) {\n      var step = _this.props.step;\n      var value = +(_this.getValue() || 0);\n      var bit = decimals(value, step);\n      var nextValue = (value + step).toFixed(bit);\n\n      _this.handleValue(_this.getSafeValue(nextValue), event);\n    };\n\n    _this.handleMinus = function (event) {\n      var step = _this.props.step;\n      var value = +(_this.getValue() || 0);\n      var bit = decimals(value, step);\n      var nextValue = (value - step).toFixed(bit);\n\n      _this.handleValue(_this.getSafeValue(nextValue), event);\n    };\n\n    var _value = props.value,\n        defaultValue = props.defaultValue,\n        max = props.max,\n        min = props.min;\n\n    var _getButtonStatus = getButtonStatus(_isUndefined(_value) ? defaultValue : _value, min, max),\n        disabledUpButton = _getButtonStatus.disabledUpButton,\n        disabledDownButton = _getButtonStatus.disabledDownButton;\n\n    _this.state = {\n      value: defaultValue,\n      disabledUpButton: disabledUpButton,\n      disabledDownButton: disabledDownButton\n    };\n    return _this;\n  }\n\n  InputNumber.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    if (typeof nextProps.value !== 'undefined') {\n      var value = nextProps.value,\n          min = nextProps.min,\n          max = nextProps.max;\n      return getButtonStatus(value, min, max);\n    }\n\n    return null;\n  };\n\n  var _proto = InputNumber.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.input) {\n      this.inputWheelListener = on(this.input, 'wheel', this.handleWheel, {\n        passive: false\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.inputWheelListener) {\n      this.inputWheelListener.off();\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    var value = this.props.value;\n    return _isUndefined(value) ? this.state.value : value;\n  };\n\n  _proto.getSafeValue = function getSafeValue(value) {\n    var _this$props2 = this.props,\n        max = _this$props2.max,\n        min = _this$props2.min;\n\n    if (!Number.isNaN(value)) {\n      if (+value > max) {\n        value = max;\n      }\n\n      if (+value < min) {\n        value = min;\n      }\n    } else {\n      value = '';\n    }\n\n    return value.toString();\n  };\n\n  _proto.handleValue = function handleValue(currentValue, event, input) {\n    var value = this.state.value;\n    var _this$props3 = this.props,\n        onChange = _this$props3.onChange,\n        min = _this$props3.min,\n        max = _this$props3.max;\n\n    if (currentValue !== value) {\n      this.setState(_extends({}, getButtonStatus(currentValue, min, max), {\n        value: currentValue\n      }));\n\n      if (!input) {\n        onChange === null || onChange === void 0 ? void 0 : onChange(currentValue, event);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        disabled = _this$props4.disabled,\n        size = _this$props4.size,\n        prefixElement = _this$props4.prefix,\n        postfix = _this$props4.postfix,\n        className = _this$props4.className,\n        classPrefix = _this$props4.classPrefix,\n        step = _this$props4.step,\n        buttonAppearance = _this$props4.buttonAppearance,\n        props = _objectWithoutPropertiesLoose(_this$props4, [\"disabled\", \"size\", \"prefix\", \"postfix\", \"className\", \"classPrefix\", \"step\", \"buttonAppearance\"]);\n\n    var _this$state = this.state,\n        disabledUpButton = _this$state.disabledUpButton,\n        disabledDownButton = _this$state.disabledDownButton;\n    var value = this.getValue();\n    var addPrefix = prefix(classPrefix);\n    var classes = classNames(classPrefix, className);\n    var unhandled = getUnhandledProps(InputNumber, props);\n\n    var _partitionHTMLProps = partitionHTMLProps(unhandled),\n        htmlInputProps = _partitionHTMLProps[0],\n        rest = _partitionHTMLProps[1];\n\n    return React.createElement(InputGroup, _extends({}, rest, {\n      className: classes,\n      disabled: disabled,\n      size: size\n    }), prefixElement && React.createElement(InputGroupAddon, null, prefixElement), React.createElement(Input, _extends({}, htmlInputProps, {\n      type: \"text\",\n      autoComplete: \"off\",\n      step: step,\n      inputRef: this.bindInputRef,\n      onChange: this.handleOnChange,\n      onBlur: createChainedFunction(this.handleBlur, _get(htmlInputProps, 'onBlur')),\n      value: _isNil(value) ? '' : \"\" + value,\n      disabled: disabled\n    })), React.createElement(\"span\", {\n      className: addPrefix('btn-group-vertical')\n    }, React.createElement(Button, {\n      appearance: buttonAppearance,\n      className: addPrefix('touchspin-up'),\n      onClick: this.handlePlus,\n      disabled: disabledUpButton || disabled\n    }, React.createElement(Icon, {\n      icon: \"arrow-up-line\"\n    })), React.createElement(Button, {\n      appearance: buttonAppearance,\n      className: addPrefix('touchspin-down'),\n      onClick: this.handleMinus,\n      disabled: disabledDownButton || disabled\n    }, React.createElement(Icon, {\n      icon: \"arrow-down-line\"\n    }))), postfix && React.createElement(InputGroupAddon, null, postfix));\n  };\n\n  return InputNumber;\n}(React.Component);\n\nInputNumber.propTypes = {\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: PropTypes.number,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  prefix: PropTypes.node,\n  postfix: PropTypes.node,\n  disabled: PropTypes.bool,\n  size: PropTypes.oneOf(['lg', 'md', 'sm', 'xs']),\n  buttonAppearance: PropTypes.oneOf(['default', 'primary', 'link', 'subtle', 'ghost']),\n  onWheel: PropTypes.func,\n  onChange: PropTypes.func\n};\nInputNumber.defaultProps = {\n  min: -Infinity,\n  max: Infinity,\n  step: 1,\n  buttonAppearance: 'subtle'\n};\npolyfill(InputNumber);\nexport default defaultProps({\n  classPrefix: 'input-number'\n})(InputNumber);","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/KhanaWeb/khanaweb/node_modules/rsuite/es/InputNumber/InputNumber.js"],"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","_isNil","_get","_isUndefined","React","PropTypes","classNames","polyfill","on","InputGroup","InputGroupAddon","Input","Button","Icon","prefix","defaultProps","getUnhandledProps","partitionHTMLProps","createChainedFunction","isFloat","value","test","getDecimalLength","toString","split","length","decimals","_len","arguments","values","Array","_key","lengths","map","Math","max","apply","getButtonStatus","min","status","disabledUpButton","disabledDownButton","InputNumber","_React$Component","props","_this","call","input","inputWheelListener","bindInputRef","ref","handleOnChange","event","isUnControl","handleValue","handleBlur","targetValue","Number","parseFloat","getSafeValue","handleWheel","_this$props","onWheel","disabled","target","document","activeElement","preventDefault","delta","deltaY","handleMinus","handlePlus","step","getValue","bit","nextValue","toFixed","_value","defaultValue","_getButtonStatus","state","getDerivedStateFromProps","nextProps","_proto","prototype","componentDidMount","passive","componentWillUnmount","off","_this$props2","isNaN","currentValue","_this$props3","onChange","setState","render","_this$props4","size","prefixElement","postfix","className","classPrefix","buttonAppearance","_this$state","addPrefix","classes","unhandled","_partitionHTMLProps","htmlInputProps","rest","createElement","type","autoComplete","inputRef","onBlur","appearance","onClick","icon","Component","propTypes","string","number","oneOfType","node","bool","oneOf","func","Infinity"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isNil from \"lodash/isNil\";\nimport _get from \"lodash/get\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { on } from 'dom-lib';\nimport InputGroup from '../InputGroup/InputGroup';\nimport InputGroupAddon from '../InputGroup/InputGroupAddon';\nimport Input from '../Input';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport { prefix, defaultProps, getUnhandledProps, partitionHTMLProps, createChainedFunction } from '../utils';\n\nvar isFloat = function isFloat(value) {\n  return /(^-?|^\\+?|^\\d?)\\d*\\.\\d+$/.test(value + '');\n};\n\nfunction getDecimalLength(value) {\n  if (isFloat(value)) {\n    return value.toString().split('.')[1].length;\n  }\n\n  return 0;\n}\n\nfunction decimals() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  var lengths = values.map(getDecimalLength);\n  return Math.max.apply(Math, lengths);\n}\n\nfunction getButtonStatus(value, min, max) {\n  var status = {\n    disabledUpButton: false,\n    disabledDownButton: false\n  };\n\n  if (typeof value !== 'undefined' && value !== null) {\n    status.disabledUpButton = +value >= max;\n    status.disabledDownButton = +value <= min;\n  }\n\n  return status;\n}\n\nvar InputNumber =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(InputNumber, _React$Component);\n\n  function InputNumber(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.input = null;\n    _this.inputWheelListener = null;\n\n    _this.bindInputRef = function (ref) {\n      _this.input = ref;\n    };\n\n    _this.handleOnChange = function (value, event) {\n      if (!/^-?(?:\\d+)?(\\.)?(\\d+)*$/.test(value) && value !== '') {\n        return;\n      }\n\n      var isUnControl = _isUndefined(_this.props.value);\n\n      _this.handleValue(value, event, isUnControl);\n    };\n\n    _this.handleBlur = function (event) {\n      var targetValue = Number.parseFloat(_get(event, 'target.value'));\n\n      _this.handleValue(_this.getSafeValue(targetValue), event);\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props = _this.props,\n          onWheel = _this$props.onWheel,\n          disabled = _this$props.disabled;\n\n      if (!disabled && event.target === document.activeElement) {\n        event.preventDefault();\n        var delta = _get(event, 'wheelDelta') || -event.deltaY || -_get(event, 'detail');\n\n        if (delta > 0) {\n          _this.handleMinus(event);\n        }\n\n        if (delta < 0) {\n          _this.handlePlus(event);\n        }\n      }\n\n      onWheel && onWheel(event);\n    };\n\n    _this.handlePlus = function (event) {\n      var step = _this.props.step;\n      var value = +(_this.getValue() || 0);\n      var bit = decimals(value, step);\n      var nextValue = (value + step).toFixed(bit);\n\n      _this.handleValue(_this.getSafeValue(nextValue), event);\n    };\n\n    _this.handleMinus = function (event) {\n      var step = _this.props.step;\n      var value = +(_this.getValue() || 0);\n      var bit = decimals(value, step);\n      var nextValue = (value - step).toFixed(bit);\n\n      _this.handleValue(_this.getSafeValue(nextValue), event);\n    };\n\n    var _value = props.value,\n        defaultValue = props.defaultValue,\n        max = props.max,\n        min = props.min;\n\n    var _getButtonStatus = getButtonStatus(_isUndefined(_value) ? defaultValue : _value, min, max),\n        disabledUpButton = _getButtonStatus.disabledUpButton,\n        disabledDownButton = _getButtonStatus.disabledDownButton;\n\n    _this.state = {\n      value: defaultValue,\n      disabledUpButton: disabledUpButton,\n      disabledDownButton: disabledDownButton\n    };\n    return _this;\n  }\n\n  InputNumber.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    if (typeof nextProps.value !== 'undefined') {\n      var value = nextProps.value,\n          min = nextProps.min,\n          max = nextProps.max;\n      return getButtonStatus(value, min, max);\n    }\n\n    return null;\n  };\n\n  var _proto = InputNumber.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.input) {\n      this.inputWheelListener = on(this.input, 'wheel', this.handleWheel, {\n        passive: false\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.inputWheelListener) {\n      this.inputWheelListener.off();\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    var value = this.props.value;\n    return _isUndefined(value) ? this.state.value : value;\n  };\n\n  _proto.getSafeValue = function getSafeValue(value) {\n    var _this$props2 = this.props,\n        max = _this$props2.max,\n        min = _this$props2.min;\n\n    if (!Number.isNaN(value)) {\n      if (+value > max) {\n        value = max;\n      }\n\n      if (+value < min) {\n        value = min;\n      }\n    } else {\n      value = '';\n    }\n\n    return value.toString();\n  };\n\n  _proto.handleValue = function handleValue(currentValue, event, input) {\n    var value = this.state.value;\n    var _this$props3 = this.props,\n        onChange = _this$props3.onChange,\n        min = _this$props3.min,\n        max = _this$props3.max;\n\n    if (currentValue !== value) {\n      this.setState(_extends({}, getButtonStatus(currentValue, min, max), {\n        value: currentValue\n      }));\n\n      if (!input) {\n        onChange === null || onChange === void 0 ? void 0 : onChange(currentValue, event);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        disabled = _this$props4.disabled,\n        size = _this$props4.size,\n        prefixElement = _this$props4.prefix,\n        postfix = _this$props4.postfix,\n        className = _this$props4.className,\n        classPrefix = _this$props4.classPrefix,\n        step = _this$props4.step,\n        buttonAppearance = _this$props4.buttonAppearance,\n        props = _objectWithoutPropertiesLoose(_this$props4, [\"disabled\", \"size\", \"prefix\", \"postfix\", \"className\", \"classPrefix\", \"step\", \"buttonAppearance\"]);\n\n    var _this$state = this.state,\n        disabledUpButton = _this$state.disabledUpButton,\n        disabledDownButton = _this$state.disabledDownButton;\n    var value = this.getValue();\n    var addPrefix = prefix(classPrefix);\n    var classes = classNames(classPrefix, className);\n    var unhandled = getUnhandledProps(InputNumber, props);\n\n    var _partitionHTMLProps = partitionHTMLProps(unhandled),\n        htmlInputProps = _partitionHTMLProps[0],\n        rest = _partitionHTMLProps[1];\n\n    return React.createElement(InputGroup, _extends({}, rest, {\n      className: classes,\n      disabled: disabled,\n      size: size\n    }), prefixElement && React.createElement(InputGroupAddon, null, prefixElement), React.createElement(Input, _extends({}, htmlInputProps, {\n      type: \"text\",\n      autoComplete: \"off\",\n      step: step,\n      inputRef: this.bindInputRef,\n      onChange: this.handleOnChange,\n      onBlur: createChainedFunction(this.handleBlur, _get(htmlInputProps, 'onBlur')),\n      value: _isNil(value) ? '' : \"\" + value,\n      disabled: disabled\n    })), React.createElement(\"span\", {\n      className: addPrefix('btn-group-vertical')\n    }, React.createElement(Button, {\n      appearance: buttonAppearance,\n      className: addPrefix('touchspin-up'),\n      onClick: this.handlePlus,\n      disabled: disabledUpButton || disabled\n    }, React.createElement(Icon, {\n      icon: \"arrow-up-line\"\n    })), React.createElement(Button, {\n      appearance: buttonAppearance,\n      className: addPrefix('touchspin-down'),\n      onClick: this.handleMinus,\n      disabled: disabledDownButton || disabled\n    }, React.createElement(Icon, {\n      icon: \"arrow-down-line\"\n    }))), postfix && React.createElement(InputGroupAddon, null, postfix));\n  };\n\n  return InputNumber;\n}(React.Component);\n\nInputNumber.propTypes = {\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: PropTypes.number,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  prefix: PropTypes.node,\n  postfix: PropTypes.node,\n  disabled: PropTypes.bool,\n  size: PropTypes.oneOf(['lg', 'md', 'sm', 'xs']),\n  buttonAppearance: PropTypes.oneOf(['default', 'primary', 'link', 'subtle', 'ghost']),\n  onWheel: PropTypes.func,\n  onChange: PropTypes.func\n};\nInputNumber.defaultProps = {\n  min: -Infinity,\n  max: Infinity,\n  step: 1,\n  buttonAppearance: 'subtle'\n};\npolyfill(InputNumber);\nexport default defaultProps({\n  classPrefix: 'input-number'\n})(InputNumber);"]},"metadata":{},"sourceType":"module"}