{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isNumber from \"lodash/isNumber\";\nimport _isString from \"lodash/isString\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isArray from \"lodash/isArray\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport List from 'react-virtualized/dist/commonjs/List';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized/dist/commonjs/CellMeasurer';\nimport { polyfill } from 'react-lifecycles-compat';\nimport shallowEqual from '../utils/shallowEqual';\nimport CheckTreeNode from './CheckTreeNode';\nimport { CHECK_STATE, PLACEMENT } from '../constants';\nimport { clone, defaultProps, prefix, defaultClassPrefix, getUnhandledProps, createChainedFunction } from '../utils';\nimport { PickerToggle, getToggleWrapperClassName, onMenuKeyDown, MenuWrapper, SearchBar, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, shouldDisplay } from '../Picker';\nimport { isEveryChildChecked, isSomeChildChecked, isSomeNodeHasChildren, getSiblingNodeUncheckable, getEveryFisrtLevelNodeUncheckable, getUncheckableState, getFormattedTree, getDisabledState } from './utils';\nimport { compareArray, shouldShowNodeByExpanded, flattenTree, getNodeParents, getVirtualLisHeight, hasVisibleChildren, treeDeprecatedWarning, getExpandItemValues, getExpandAll, getExpandState } from '../utils/treeUtils'; // default value for virtualized\n\nvar defaultHeight = 360;\nvar defaultWidth = 200;\n\nvar CheckTreePicker = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CheckTreePicker, _React$Component);\n\n  function CheckTreePicker(_props) {\n    var _this;\n\n    _this = _React$Component.call(this, _props) || this;\n    _this.menuRef = void 0;\n    _this.treeViewRef = void 0;\n    _this.positionRef = void 0;\n    _this.listRef = void 0;\n    _this.triggerRef = void 0;\n    _this.toggleRef = void 0;\n\n    _this.getValue = function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n\n      var _props2 = props,\n          value = _props2.value,\n          defaultValue = _props2.defaultValue,\n          _props2$uncheckableIt = _props2.uncheckableItemValues,\n          uncheckableItemValues = _props2$uncheckableIt === void 0 ? [] : _props2$uncheckableIt;\n\n      if (value && value.length) {\n        return value.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n\n      if (defaultValue && defaultValue.length > 0) {\n        return defaultValue.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n\n      return [];\n    };\n\n    _this.getElementByDataKey = function (dataKey) {\n      var ele = _this.nodeRefs[dataKey];\n\n      if (ele instanceof Element) {\n        return ele.querySelector(\".\" + _this.addTreePrefix('node-label'));\n      }\n\n      return null;\n    };\n\n    _this.getFocusableMenuItems = function () {\n      var filterData = _this.state.filterData;\n      var childrenKey = _this.props.childrenKey;\n      var items = [];\n\n      var loop = function loop(treeNodes) {\n        treeNodes.forEach(function (node) {\n          var nodeData = _extends({}, node, {}, _this.nodes[node.refKey]);\n\n          if (!getDisabledState(_this.nodes, node, _this.props) && node.visible) {\n            items.push(node);\n          }\n\n          if (node[childrenKey] && getExpandState(nodeData, _this.props)) {\n            loop(node[childrenKey]);\n          }\n        });\n      };\n\n      loop(filterData);\n      return items;\n    };\n\n    _this.nodes = {};\n    _this.activeNode = null;\n    _this.cache = new CellMeasurerCache({\n      fixedWidth: true,\n      minHeight: 20\n    });\n    _this.nodeRefs = {};\n\n    _this.bindNodeRefs = function (refKey, ref) {\n      _this.nodeRefs[refKey] = ref;\n    };\n\n    _this.getPositionInstance = function () {\n      return _this.positionRef.current;\n    };\n\n    _this.getToggleInstance = function () {\n      return _this.toggleRef.current;\n    };\n\n    _this.selectActiveItem = function (event) {\n      var _this$getActiveItem = _this.getActiveItem(),\n          nodeData = _this$getActiveItem.nodeData;\n\n      _this.handleSelect(nodeData, event);\n    };\n\n    _this.focusNextItem = function () {\n      var _node$focus;\n\n      var _this$getItemsAndActi = _this.getItemsAndActiveIndex(),\n          items = _this$getItemsAndActi.items,\n          activeIndex = _this$getItemsAndActi.activeIndex;\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n\n      var node = _this.getElementByDataKey(items[nextIndex].refKey);\n\n      node === null || node === void 0 ? void 0 : (_node$focus = node.focus) === null || _node$focus === void 0 ? void 0 : _node$focus.call(node);\n    };\n\n    _this.focusPreviousItem = function () {\n      var _node$focus2;\n\n      var _this$getItemsAndActi2 = _this.getItemsAndActiveIndex(),\n          items = _this$getItemsAndActi2.items,\n          activeIndex = _this$getItemsAndActi2.activeIndex;\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var prevIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n      prevIndex = prevIndex >= 0 ? prevIndex : 0;\n\n      var node = _this.getElementByDataKey(items[prevIndex].refKey);\n\n      node === null || node === void 0 ? void 0 : (_node$focus2 = node.focus) === null || _node$focus2 === void 0 ? void 0 : _node$focus2.call(node);\n    };\n\n    _this.handleCloseDropdown = function () {\n      if (_this.triggerRef.current) {\n        _this.triggerRef.current.hide();\n      }\n    };\n\n    _this.handleOpenDropdown = function () {\n      if (_this.triggerRef.current) {\n        _this.triggerRef.current.show();\n      }\n    };\n\n    _this.open = function () {\n      var _this$handleOpenDropd, _this2;\n\n      (_this$handleOpenDropd = (_this2 = _this).handleOpenDropdown) === null || _this$handleOpenDropd === void 0 ? void 0 : _this$handleOpenDropd.call(_this2);\n    };\n\n    _this.close = function () {\n      var _this$handleCloseDrop, _this3;\n\n      (_this$handleCloseDrop = (_this3 = _this).handleCloseDropdown) === null || _this$handleCloseDrop === void 0 ? void 0 : _this$handleCloseDrop.call(_this3);\n    };\n\n    _this.handleToggleDropdown = function () {\n      var active = _this.state.active;\n\n      if (active) {\n        _this.handleCloseDropdown();\n\n        return;\n      }\n\n      _this.handleOpenDropdown();\n    };\n\n    _this.everyChildChecked = function (nodes, node) {\n      var list = [];\n      Object.keys(nodes).forEach(function (refKey) {\n        var _curNode$parentNode;\n\n        var curNode = nodes[refKey];\n\n        if (((_curNode$parentNode = curNode.parentNode) === null || _curNode$parentNode === void 0 ? void 0 : _curNode$parentNode.refKey) === node.refKey && !curNode.uncheckable) {\n          list.push(curNode);\n        }\n      });\n      return list.every(function (l) {\n        return l.check;\n      });\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.addTreePrefix = function (name) {\n      return prefix(defaultClassPrefix('check-tree'))(name);\n    };\n\n    _this.handleSelect = function (activeNode, event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          onSelect = _this$props.onSelect,\n          value = _this$props.value;\n\n      var selectedValues = _this.toggleChecked(activeNode, !_this.nodes[activeNode.refKey].check);\n\n      if (!_isUndefined(value)) {\n        _this.activeNode = activeNode;\n      } else {\n        _this.unserializeLists({\n          check: selectedValues\n        });\n\n        _this.setState({\n          activeNode: activeNode,\n          selectedValues: selectedValues,\n          hasValue: !!selectedValues.length\n        });\n      }\n\n      onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(activeNode, selectedValues, event);\n    };\n\n    _this.handleToggle = function (node) {\n      var _this$props2 = _this.props,\n          valueKey = _this$props2.valueKey,\n          childrenKey = _this$props2.childrenKey,\n          onExpand = _this$props2.onExpand,\n          expandItemValues = _this$props2.expandItemValues;\n\n      var nextExpandItemValues = _this.toggleExpand(node, !node.expand);\n\n      if (_isUndefined(expandItemValues)) {\n        _this.unserializeLists({\n          expand: nextExpandItemValues\n        });\n\n        _this.setState({\n          expandItemValues: nextExpandItemValues\n        });\n      }\n\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n        valueKey: valueKey,\n        childrenKey: childrenKey\n      }));\n    };\n\n    _this.handleKeyDown = function (event) {\n      onMenuKeyDown(event, {\n        down: _this.focusNextItem,\n        up: _this.focusPreviousItem,\n        enter: _this.selectActiveItem,\n        del: _this.handleClean\n      });\n    };\n\n    _this.handleToggleKeyDown = function (event) {\n      var _this$state = _this.state,\n          activeNode = _this$state.activeNode,\n          active = _this$state.active; // enter\n\n      if ((!activeNode || !active) && event.keyCode === 13) {\n        _this.handleToggleDropdown();\n      } // delete\n\n\n      if (event.keyCode === 8) {\n        _this.handleClean(event);\n      }\n\n      if (!_this.treeViewRef.current) {\n        return;\n      }\n\n      if (event.target instanceof HTMLElement) {\n        var className = event.target.className;\n\n        if (className.includes(_this.addPrefix('toggle')) || className.includes(_this.addPrefix('toggle-custom')) || className.includes(_this.addPrefix('search-bar-input'))) {\n          onMenuKeyDown(event, {\n            down: _this.focusNextItem\n          });\n        }\n      }\n    };\n\n    _this.handleSearch = function (value, event) {\n      var filterData = _this.state.filterData;\n      var _this$props3 = _this.props,\n          onSearch = _this$props3.onSearch,\n          searchKeyword = _this$props3.searchKeyword;\n\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData(value, filterData),\n          searchKeyword: value\n        });\n      }\n\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(value, event);\n    };\n\n    _this.handleClean = function (evnet) {\n      var _this$props$onChange, _this$props4;\n\n      _this.setState({\n        selectedValues: [],\n        hasValue: false,\n        activeNode: {}\n      });\n\n      _this.unserializeLists({\n        check: []\n      });\n\n      (_this$props$onChange = (_this$props4 = _this.props).onChange) === null || _this$props$onChange === void 0 ? void 0 : _this$props$onChange.call(_this$props4, [], evnet);\n    };\n\n    _this.handleOnOpen = function () {\n      var _this$props$onOpen, _this$props5;\n\n      var activeNode = _this.state.activeNode;\n\n      if (activeNode) {\n        var _node$focus3;\n\n        var node = _this.getElementByDataKey(activeNode.refKey);\n\n        node === null || node === void 0 ? void 0 : (_node$focus3 = node.focus) === null || _node$focus3 === void 0 ? void 0 : _node$focus3.call(node);\n      }\n\n      (_this$props$onOpen = (_this$props5 = _this.props).onOpen) === null || _this$props$onOpen === void 0 ? void 0 : _this$props$onOpen.call(_this$props5);\n\n      _this.setState({\n        active: true\n      });\n    };\n\n    _this.handleOnClose = function () {\n      var filterData = _this.state.filterData;\n      var _this$props6 = _this.props,\n          onClose = _this$props6.onClose,\n          searchKeyword = _this$props6.searchKeyword;\n\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData('', filterData),\n          searchKeyword: ''\n        });\n      }\n\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n\n      _this.setState({\n        active: false\n      });\n    };\n\n    _this.measureRowRenderer = function (nodes) {\n      return function (_ref) {\n        var key = _ref.key,\n            index = _ref.index,\n            style = _ref.style,\n            parent = _ref.parent;\n        var node = nodes[index];\n        return React.createElement(CellMeasurer, {\n          cache: _this.cache,\n          columnIndex: 0,\n          key: key,\n          rowIndex: index,\n          parent: parent\n        }, function () {\n          return _this.renderVirtualNode(node, {\n            key: key,\n            style: style\n          });\n        });\n      };\n    };\n\n    var _value = _props.value,\n        data = _props.data,\n        cascade = _props.cascade,\n        _childrenKey = _props.childrenKey,\n        _searchKeyword = _props.searchKeyword;\n    _this.nodes = {};\n\n    var nextValue = _this.getValue(_props);\n\n    var _nextExpandItemValues = getExpandItemValues(_props);\n\n    var nextData = [].concat(data);\n\n    _this.flattenNodes(nextData, _props);\n\n    _this.unserializeLists({\n      check: nextValue,\n      expand: _nextExpandItemValues\n    }, _props);\n\n    _this.state = {\n      data: data,\n      value: _value,\n      cascade: cascade,\n      hasValue: _this.hasValue(nextValue),\n      expandAll: getExpandAll(_props),\n      filterData: _this.getFilterData(_searchKeyword, nextData, _props),\n      searchKeyword: _searchKeyword || '',\n      selectedValues: nextValue,\n      expandItemValues: _this.serializeList('expand'),\n      uncheckableItemValues: _props.uncheckableItemValues,\n      isSomeNodeHasChildren: isSomeNodeHasChildren(data, _childrenKey)\n    };\n    _this.treeViewRef = React.createRef();\n    _this.positionRef = React.createRef();\n    _this.listRef = React.createRef();\n    _this.triggerRef = React.createRef();\n    _this.toggleRef = React.createRef(); // for test\n\n    _this.menuRef = React.createRef();\n    treeDeprecatedWarning(_props, ['expandAll']);\n    return _this;\n  }\n\n  CheckTreePicker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        data = nextProps.data,\n        cascade = nextProps.cascade,\n        expandAll = nextProps.expandAll,\n        searchKeyword = nextProps.searchKeyword,\n        uncheckableItemValues = nextProps.uncheckableItemValues,\n        expandItemValues = nextProps.expandItemValues;\n    var nextState = {};\n\n    if (_isArray(data) && _isArray(prevState.data) && prevState.data !== data) {\n      nextState.data = data;\n    }\n\n    if (compareArray(value, prevState.value)) {\n      nextState.value = value;\n    }\n\n    if (compareArray(expandItemValues, prevState.expandItemValues)) {\n      nextState.expandItemValues = expandItemValues;\n    }\n\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues)) {\n      nextState.uncheckableItemValues = uncheckableItemValues;\n    }\n\n    if (!_isUndefined(searchKeyword) && searchKeyword !== prevState.searchKeyword) {\n      nextState.searchKeyword = searchKeyword;\n    }\n\n    if (cascade !== prevState.cascade) {\n      nextState.cascade = cascade;\n    }\n\n    if (expandAll !== prevState.expandAll) {\n      nextState.expandAll = expandAll;\n    }\n\n    return Object.keys(nextState).length ? nextState : null;\n  };\n\n  var _proto = CheckTreePicker.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(_prevProps, prevState) {\n    this.updateDataChange(prevState);\n    this.updateValueChange(prevState);\n    this.updateExpandItemValuesChange(prevState);\n    this.updateUncheckableItemValuesChange(prevState);\n    this.updateCascadeChange(prevState);\n    this.updateSearchKeywordChange(prevState);\n\n    if (this.listRef.current) {\n      this.listRef.current.forceUpdateGrid();\n    }\n  };\n\n  _proto.updateDataChange = function updateDataChange(prevState) {\n    var _this$state2 = this.state,\n        searchKeyword = _this$state2.searchKeyword,\n        expandItemValues = _this$state2.expandItemValues;\n    var _this$props7 = this.props,\n        _this$props7$data = _this$props7.data,\n        data = _this$props7$data === void 0 ? [] : _this$props7$data,\n        childrenKey = _this$props7.childrenKey;\n\n    if (prevState.data !== data) {\n      var nextData = [].concat(data);\n      this.nodes = {};\n      this.flattenNodes(nextData);\n      this.unserializeLists({\n        check: this.getValue(),\n        expand: expandItemValues\n      });\n      this.setState({\n        data: nextData,\n        filterData: this.getFilterData(searchKeyword, nextData),\n        isSomeNodeHasChildren: isSomeNodeHasChildren(nextData, childrenKey),\n        hasValue: this.hasValue(),\n        expandItemValues: this.serializeList('expand')\n      });\n    }\n  };\n\n  _proto.updateValueChange = function updateValueChange(prevState) {\n    var expandItemValues = this.state.expandItemValues;\n    var value = this.props.value;\n\n    if (compareArray(value, prevState.value)) {\n      this.unserializeLists({\n        check: value,\n        expand: expandItemValues\n      });\n      this.setState({\n        selectedValues: value,\n        hasValue: this.hasValue(value),\n        activeNode: value.length ? this.activeNode : null\n      });\n    }\n  };\n\n  _proto.updateExpandItemValuesChange = function updateExpandItemValuesChange(prevState) {\n    var expandItemValues = this.props.expandItemValues;\n\n    if (compareArray(expandItemValues, prevState.expandItemValues)) {\n      this.unserializeLists({\n        expand: expandItemValues\n      });\n      this.setState({\n        expandItemValues: expandItemValues\n      });\n    }\n  };\n\n  _proto.updateUncheckableItemValuesChange = function updateUncheckableItemValuesChange(prevState) {\n    var _this$state3 = this.state,\n        filterData = _this$state3.filterData,\n        selectedValues = _this$state3.selectedValues,\n        expandItemValues = _this$state3.expandItemValues;\n    var uncheckableItemValues = this.props.uncheckableItemValues;\n\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues)) {\n      this.flattenNodes(filterData);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        hasValue: this.hasValue()\n      });\n    }\n  };\n\n  _proto.updateCascadeChange = function updateCascadeChange(prevState) {\n    var _this$state4 = this.state,\n        filterData = _this$state4.filterData,\n        selectedValues = _this$state4.selectedValues,\n        expandItemValues = _this$state4.expandItemValues;\n    var cascade = this.props.cascade; // cascade 改变时，重新初始化\n\n    if (cascade !== prevState.cascade && cascade) {\n      this.flattenNodes(filterData);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        cascade: cascade\n      });\n    }\n  };\n\n  _proto.updateSearchKeywordChange = function updateSearchKeywordChange(prevState) {\n    var filterData = this.state.filterData;\n    var searchKeyword = this.props.searchKeyword;\n\n    if (!_isUndefined(searchKeyword) && prevState.searchKeyword !== searchKeyword) {\n      this.setState({\n        filterData: this.getFilterData(searchKeyword, filterData)\n      });\n    }\n  };\n\n  _proto.getNodeCheckState = function getNodeCheckState(node, cascade) {\n    var childrenKey = this.props.childrenKey;\n\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      this.nodes[node.refKey].checkAll = false;\n      return node.check ? CHECK_STATE.CHECK : CHECK_STATE.UNCHECK;\n    }\n\n    if (isEveryChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = true;\n      return CHECK_STATE.CHECK;\n    }\n\n    if (isSomeChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = false;\n      return CHECK_STATE.INDETERMINATE;\n    }\n\n    return CHECK_STATE.UNCHECK;\n  };\n\n  _proto.getFilterData = function getFilterData(searchKeyword, data, props) {\n    if (searchKeyword === void 0) {\n      searchKeyword = '';\n    }\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var _props3 = props,\n        labelKey = _props3.labelKey,\n        childrenKey = _props3.childrenKey,\n        searchBy = _props3.searchBy;\n\n    var setVisible = function setVisible(nodes) {\n      if (nodes === void 0) {\n        nodes = [];\n      }\n\n      return nodes.forEach(function (item) {\n        item.visible = searchBy ? searchBy(searchKeyword, item[labelKey], item) : shouldDisplay(item[labelKey], searchKeyword);\n\n        if (_isArray(item[childrenKey])) {\n          setVisible(item[childrenKey]);\n          item[childrenKey].forEach(function (child) {\n            if (child.visible) {\n              item.visible = child.visible;\n            }\n          });\n        }\n      });\n    };\n\n    setVisible(data);\n    return data;\n  };\n\n  _proto.getActiveElementOption = function getActiveElementOption(options, refKey) {\n    var childrenKey = this.props.childrenKey;\n\n    for (var i = 0; i < options.length; i += 1) {\n      var _options$i$childrenKe;\n\n      if (options[i].refKey === refKey) {\n        return options[i];\n      } else if ((_options$i$childrenKe = options[i][childrenKey]) === null || _options$i$childrenKe === void 0 ? void 0 : _options$i$childrenKe.length) {\n        var active = this.getActiveElementOption(options[i][childrenKey], refKey);\n\n        if (!_isEmpty(active)) {\n          return active;\n        }\n      }\n    }\n\n    return {};\n  };\n\n  _proto.getFlattenTreeData = function getFlattenTreeData(nodes) {\n    var _this4 = this;\n\n    var expandItemValues = this.state.expandItemValues;\n    var _this$props8 = this.props,\n        childrenKey = _this$props8.childrenKey,\n        valueKey = _this$props8.valueKey;\n    return flattenTree(nodes, childrenKey, function (node) {\n      var formatted = {};\n      var curNode = _this4.nodes[node.refKey];\n      var parentKeys = getNodeParents(curNode, 'parentNode', valueKey);\n\n      if (curNode) {\n        formatted = _extends({}, node, {\n          check: curNode.check,\n          expand: curNode.expand,\n          uncheckable: curNode.uncheckable,\n          layer: curNode.layer,\n          parentNode: curNode.parentNode,\n          showNode: shouldShowNodeByExpanded(expandItemValues, parentKeys)\n        });\n      }\n\n      return formatted;\n    });\n  };\n\n  _proto.getItemsAndActiveIndex = function getItemsAndActiveIndex() {\n    var items = this.getFocusableMenuItems();\n    var activeIndex = -1;\n    items.forEach(function (item, index) {\n      if (document.activeElement !== null) {\n        if (item.refKey === document.activeElement.getAttribute('data-key')) {\n          activeIndex = index;\n        }\n      }\n    });\n    return {\n      items: items,\n      activeIndex: activeIndex\n    };\n  };\n\n  _proto.getActiveItem = function getActiveItem() {\n    var filterData = this.state.filterData;\n    var activeItem = document.activeElement;\n\n    if (activeItem !== null) {\n      var _activeItem$dataset, _activeItem$dataset2, _this$nodes$nodeData$, _this$nodes$nodeData$2;\n\n      var key = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset = activeItem.dataset) === null || _activeItem$dataset === void 0 ? void 0 : _activeItem$dataset.key;\n      var layer = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset2 = activeItem.dataset) === null || _activeItem$dataset2 === void 0 ? void 0 : _activeItem$dataset2.layer;\n      var nodeData = this.getActiveElementOption(filterData, key);\n      nodeData.check = !((_this$nodes$nodeData$ = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$ === void 0 ? void 0 : _this$nodes$nodeData$.check);\n      nodeData.parentNode = (_this$nodes$nodeData$2 = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$2 === void 0 ? void 0 : _this$nodes$nodeData$2.parentNode;\n      return {\n        nodeData: nodeData,\n        layer: layer\n      };\n    }\n\n    return {};\n  }\n  /**\n   * 获取已选择的items，用于显示在placeholder\n   */\n  ;\n\n  _proto.getSelectedItems = function getSelectedItems(selectedValues) {\n    var _this5 = this;\n\n    var valueKey = this.props.valueKey;\n    var checkItems = [];\n    Object.keys(this.nodes).map(function (refKey) {\n      var node = _this5.nodes[refKey];\n\n      if (selectedValues.some(function (value) {\n        return shallowEqual(node[valueKey], value);\n      })) {\n        checkItems.push(node);\n      }\n    });\n    return checkItems;\n  }\n  /**\n   * 判断传入的 value 是否存在于data 中\n   * @param {*} values\n   */\n  ;\n\n  _proto.hasValue = function hasValue(values) {\n    var _this6 = this;\n\n    if (values === void 0) {\n      values = this.state.selectedValues;\n    }\n\n    var valueKey = this.props.valueKey;\n    var selectedValues = Object.keys(this.nodes).map(function (refKey) {\n      return _this6.nodes[refKey][valueKey];\n    }).filter(function (item) {\n      return values.some(function (v) {\n        return shallowEqual(v, item);\n      });\n    });\n    return !!selectedValues.length;\n  }\n  /**\n   * 拍平数组，将tree 转换为一维对象\n   * @param {*} nodes tree data\n   * @param {*} ref 当前层级\n   */\n  ;\n\n  _proto.flattenNodes = function flattenNodes(nodes, props, ref, parentNode, layer) {\n    var _this7 = this;\n\n    if (ref === void 0) {\n      ref = '0';\n    }\n\n    if (layer === void 0) {\n      layer = 0;\n    }\n\n    var _ref2 = props || this.props,\n        labelKey = _ref2.labelKey,\n        valueKey = _ref2.valueKey,\n        childrenKey = _ref2.childrenKey;\n\n    if (!Array.isArray(nodes) || nodes.length === 0) {\n      return;\n    }\n\n    nodes.forEach(function (node, index) {\n      var _this7$nodes$refKey;\n\n      var refKey = ref + \"-\" + index;\n      node.refKey = refKey;\n      _this7.nodes[refKey] = (_this7$nodes$refKey = {\n        layer: layer\n      }, _this7$nodes$refKey[labelKey] = node[labelKey], _this7$nodes$refKey[valueKey] = node[valueKey], _this7$nodes$refKey.expand = getExpandState(node, props || _this7.props), _this7$nodes$refKey.uncheckable = getUncheckableState(node, props || _this7.props), _this7$nodes$refKey.refKey = refKey, _this7$nodes$refKey);\n\n      if (parentNode) {\n        _this7.nodes[refKey].parentNode = parentNode;\n      }\n\n      _this7.flattenNodes(node[childrenKey], props, refKey, _this7.nodes[refKey], layer + 1);\n    });\n  }\n  /**\n   * 过滤选中的values中不包含 uncheckableItemValues 的那些值\n   * @param {*} values\n   */\n  ;\n\n  _proto.filterSelectedValues = function filterSelectedValues(values) {\n    var _this$props$uncheckab = this.props.uncheckableItemValues,\n        uncheckableItemValues = _this$props$uncheckab === void 0 ? [] : _this$props$uncheckab;\n    return values.filter(function (value) {\n      return !uncheckableItemValues.includes(value);\n    });\n  };\n\n  _proto.serializeList = function serializeList(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      if (nodes[refKey][key]) {\n        list.push(nodes[refKey][valueKey]);\n      }\n    });\n    return list;\n  };\n\n  _proto.serializeListOnlyParent = function serializeListOnlyParent(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      var currentNode = nodes[refKey];\n\n      if (currentNode.parentNode) {\n        var _currentNode$parentNo;\n\n        var parentNode = nodes[(_currentNode$parentNo = currentNode.parentNode) === null || _currentNode$parentNo === void 0 ? void 0 : _currentNode$parentNo.refKey];\n\n        if (currentNode[key]) {\n          if (!(parentNode === null || parentNode === void 0 ? void 0 : parentNode.checkAll)) {\n            list.push(nodes[refKey][valueKey]);\n          } else if (parentNode === null || parentNode === void 0 ? void 0 : parentNode.uncheckable) {\n            list.push(nodes[refKey][valueKey]);\n          }\n        }\n      } else {\n        if (currentNode[key]) {\n          list.push(nodes[refKey][valueKey]);\n        }\n      }\n    });\n    return list;\n  };\n\n  _proto.unserializeLists = function unserializeLists(lists, nextProps) {\n    var _this8 = this;\n\n    if (nextProps === void 0) {\n      nextProps = this.props;\n    }\n\n    var _nextProps = nextProps,\n        valueKey = _nextProps.valueKey,\n        cascade = _nextProps.cascade,\n        _nextProps$uncheckabl = _nextProps.uncheckableItemValues,\n        uncheckableItemValues = _nextProps$uncheckabl === void 0 ? [] : _nextProps$uncheckabl;\n    var expandAll = getExpandAll(nextProps); // Reset values to false\n\n    Object.keys(this.nodes).forEach(function (refKey) {\n      Object.keys(lists).forEach(function (listKey) {\n        if (listKey === 'check') {\n          var node = _this8.nodes[refKey];\n\n          if (cascade && 'parentNode' in node) {\n            node[listKey] = node.parentNode[listKey];\n          } else {\n            node[listKey] = false;\n          }\n\n          lists[listKey].forEach(function (value) {\n            if (shallowEqual(_this8.nodes[refKey][valueKey], value) && !uncheckableItemValues.some(function (uncheckableValue) {\n              return shallowEqual(value, uncheckableValue);\n            })) {\n              _this8.nodes[refKey][listKey] = true;\n            }\n          });\n        }\n\n        if (listKey === 'expand') {\n          _this8.nodes[refKey][listKey] = false;\n\n          if (lists[listKey].length) {\n            lists[listKey].forEach(function (value) {\n              if (shallowEqual(_this8.nodes[refKey][valueKey], value)) {\n                _this8.nodes[refKey][listKey] = true;\n              }\n            });\n          } else {\n            _this8.nodes[refKey][listKey] = expandAll;\n          }\n        }\n      });\n    });\n  };\n\n  _proto.toggleChecked = function toggleChecked(node, isChecked) {\n    var nodes = clone(this.nodes);\n    this.toggleDownChecked(nodes, node, isChecked);\n    node.parentNode && this.toggleUpChecked(nodes, node.parentNode, isChecked);\n    var values = this.serializeListOnlyParent('check', nodes);\n    return this.filterSelectedValues(values);\n  };\n\n  _proto.toggleUpChecked = function toggleUpChecked(nodes, node, checked) {\n    var cascade = this.props.cascade;\n    var currentNode = nodes[node.refKey];\n\n    if (cascade) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (this.everyChildChecked(nodes, node)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n\n      if (node.parentNode) {\n        this.toggleUpChecked(nodes, node.parentNode, checked);\n      }\n    }\n  };\n\n  _proto.toggleDownChecked = function toggleDownChecked(nodes, node, isChecked) {\n    var _this9 = this;\n\n    var _this$props9 = this.props,\n        childrenKey = _this$props9.childrenKey,\n        cascade = _this$props9.cascade;\n    nodes[node.refKey].check = isChecked;\n\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      nodes[node.refKey].checkAll = false;\n    } else {\n      nodes[node.refKey].checkAll = isChecked;\n      node[childrenKey].forEach(function (child) {\n        _this9.toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  };\n\n  _proto.toggleNode = function toggleNode(key, node, toggleValue) {\n    // 如果该节点处于 disabledChecbox，则忽略该值\n    if (!node.uncheckable) {\n      this.nodes[node.refKey][key] = toggleValue;\n    }\n  };\n\n  _proto.toggleExpand = function toggleExpand(node, isExpand) {\n    var valueKey = this.props.valueKey;\n    var expandItemValues = new Set(this.serializeList('expand'));\n\n    if (isExpand) {\n      expandItemValues.add(node[valueKey]);\n    } else {\n      expandItemValues.delete(node[valueKey]);\n    }\n\n    return Array.from(expandItemValues);\n  };\n\n  _proto.renderDropdownMenu = function renderDropdownMenu() {\n    var _this$props10 = this.props,\n        _this$props10$height = _this$props10.height,\n        height = _this$props10$height === void 0 ? defaultHeight : _this$props10$height,\n        locale = _this$props10.locale,\n        menuStyle = _this$props10.menuStyle,\n        searchable = _this$props10.searchable,\n        renderMenu = _this$props10.renderMenu,\n        virtualized = _this$props10.virtualized,\n        searchKeyword = _this$props10.searchKeyword,\n        renderExtraFooter = _this$props10.renderExtraFooter,\n        menuClassName = _this$props10.menuClassName,\n        menuAutoWidth = _this$props10.menuAutoWidth;\n    var keyword = !_isUndefined(searchKeyword) ? searchKeyword : this.state.searchKeyword;\n    var classes = classNames(menuClassName, this.addPrefix('check-tree-menu'));\n    var menu = this.renderCheckTree();\n    var styles = virtualized ? _extends({\n      height: height\n    }, menuStyle) : menuStyle;\n    return React.createElement(MenuWrapper, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      ref: this.menuRef,\n      getToggleInstance: this.getToggleInstance,\n      getPositionInstance: this.getPositionInstance\n    }, searchable ? React.createElement(SearchBar, {\n      placeholder: locale.searchPlaceholder,\n      key: \"searchBar\",\n      onChange: this.handleSearch,\n      value: keyword\n    }) : null, renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n\n  _proto.renderNode = function renderNode(node, layer) {\n    var _this10 = this;\n\n    var _this$state5 = this.state,\n        activeNode = _this$state5.activeNode,\n        searchKeyword = _this$state5.searchKeyword;\n    var _this$props11 = this.props,\n        valueKey = _this$props11.valueKey,\n        labelKey = _this$props11.labelKey,\n        childrenKey = _this$props11.childrenKey,\n        renderTreeNode = _this$props11.renderTreeNode,\n        renderTreeIcon = _this$props11.renderTreeIcon,\n        cascade = _this$props11.cascade,\n        locale = _this$props11.locale;\n    var expand = node.expand,\n        visible = node.visible,\n        refKey = node.refKey;\n\n    if (!visible) {\n      return null;\n    }\n\n    var key = _isString(node[valueKey]) || _isNumber(node[valueKey]) ? node[valueKey] : refKey;\n    var children = node[childrenKey]; // 当用户进行搜索时，hasChildren的判断要变成判断是否存在 visible 为 true 的子节点\n\n    var visibleChildren = _isUndefined(searchKeyword) || searchKeyword.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      checkState: this.getNodeCheckState(node, cascade),\n      hasChildren: visibleChildren,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n\n    if (props.hasChildren) {\n      var _classNames;\n\n      layer += 1; // 是否展开树节点且子节点不为空\n\n      var openClass = this.addTreePrefix('open');\n      var expandALlState = node.expand;\n      var childrenClass = classNames(this.addTreePrefix('node-children'), (_classNames = {}, _classNames[openClass] = expandALlState && visibleChildren, _classNames));\n      var nodes = children || [];\n      return React.createElement(\"div\", {\n        className: childrenClass,\n        key: key,\n        ref: this.bindNodeRefs.bind(this, refKey)\n      }, React.createElement(CheckTreeNode, props), React.createElement(\"div\", {\n        className: this.addTreePrefix('children')\n      }, nodes.map(function (child) {\n        return _this10.renderNode(child, layer);\n      })));\n    }\n\n    return React.createElement(CheckTreeNode, _extends({\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n\n  _proto.renderVirtualNode = function renderVirtualNode(node, options) {\n    var _this$state6 = this.state,\n        activeNode = _this$state6.activeNode,\n        expandAll = _this$state6.expandAll;\n    var _this$props12 = this.props,\n        valueKey = _this$props12.valueKey,\n        labelKey = _this$props12.labelKey,\n        childrenKey = _this$props12.childrenKey,\n        renderTreeNode = _this$props12.renderTreeNode,\n        renderTreeIcon = _this$props12.renderTreeIcon,\n        cascade = _this$props12.cascade,\n        locale = _this$props12.locale;\n    var key = options.key,\n        style = options.style;\n    var layer = node.layer,\n        refKey = node.refKey,\n        expand = node.expand,\n        showNode = node.showNode;\n    var children = node[childrenKey];\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      children: children,\n      expandAll: expandAll,\n      checkState: this.getNodeCheckState(node, cascade),\n      parentNode: node.parentNode,\n      hasChildren: !!children,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n    return showNode && React.createElement(CheckTreeNode, _extends({\n      style: style,\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n\n  _proto.renderCheckTree = function renderCheckTree() {\n    var _classNames2,\n        _this11 = this,\n        _classNames3;\n\n    var _this$state7 = this.state,\n        filterData = _this$state7.filterData,\n        isSomeNodeHasChildren = _this$state7.isSomeNodeHasChildren;\n    var _this$props13 = this.props,\n        inline = _this$props13.inline,\n        style = _this$props13.style,\n        height = _this$props13.height,\n        className = _this$props13.className,\n        onScroll = _this$props13.onScroll,\n        locale = _this$props13.locale,\n        virtualized = _this$props13.virtualized,\n        searchable = _this$props13.searchable; // 树节点的层级\n\n    var layer = 0;\n    var classes = classNames(defaultClassPrefix('check-tree'), (_classNames2 = {}, _classNames2[className] = inline, _classNames2['without-children'] = !isSomeNodeHasChildren, _classNames2));\n    var formattedNodes = [];\n\n    if (!virtualized) {\n      formattedNodes = getFormattedTree(filterData, this.nodes, this.props).map(function (node) {\n        return _this11.renderNode(node, layer);\n      });\n\n      if (!formattedNodes.some(function (v) {\n        return v !== null;\n      })) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } else {\n      formattedNodes = this.getFlattenTreeData(filterData).filter(function (n) {\n        return n.showNode && n.visible;\n      });\n\n      if (!formattedNodes.length) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } // 当未定义 height 且 设置了 virtualized 为 true，treeHeight 设置默认高度\n\n\n    var treeHeight = _isUndefined(height) && virtualized ? defaultHeight : height;\n    var treeWidth = _isUndefined(style === null || style === void 0 ? void 0 : style.width) ? defaultWidth : style.width;\n    var styles = inline ? _extends({\n      height: treeHeight\n    }, style) : {};\n    var treeNodesClass = classNames(this.addTreePrefix('nodes'), (_classNames3 = {}, _classNames3[this.addTreePrefix('all-uncheckable')] = getEveryFisrtLevelNodeUncheckable(this.nodes), _classNames3));\n    var listHeight = getVirtualLisHeight(inline, searchable, treeHeight);\n    return React.createElement(\"div\", {\n      ref: this.treeViewRef,\n      className: classes,\n      style: styles,\n      onScroll: onScroll,\n      onKeyDown: this.handleKeyDown\n    }, React.createElement(\"div\", {\n      className: treeNodesClass\n    }, virtualized ? React.createElement(AutoSizer, {\n      defaultHeight: listHeight,\n      defaultWidth: treeWidth\n    }, function (_ref3) {\n      var height = _ref3.height,\n          width = _ref3.width;\n      return React.createElement(List, {\n        ref: _this11.listRef,\n        width: width || treeWidth,\n        height: height || listHeight,\n        rowHeight: 36,\n        rowCount: formattedNodes.length,\n        rowRenderer: _this11.measureRowRenderer(formattedNodes)\n      });\n    }) : formattedNodes));\n  };\n\n  _proto.render = function render() {\n    var _this$props14 = this.props,\n        cascade = _this$props14.cascade,\n        style = _this$props14.style,\n        locale = _this$props14.locale,\n        inline = _this$props14.inline,\n        disabled = _this$props14.disabled,\n        valueKey = _this$props14.valueKey,\n        labelKey = _this$props14.labelKey,\n        cleanable = _this$props14.cleanable,\n        countable = _this$props14.countable,\n        placeholder = _this$props14.placeholder,\n        toggleComponentClass = _this$props14.toggleComponentClass,\n        onExited = _this$props14.onExited,\n        onEntered = _this$props14.onEntered,\n        onClean = _this$props14.onClean,\n        renderValue = _this$props14.renderValue,\n        rest = _objectWithoutPropertiesLoose(_this$props14, [\"cascade\", \"style\", \"locale\", \"inline\", \"disabled\", \"valueKey\", \"labelKey\", \"cleanable\", \"countable\", \"placeholder\", \"toggleComponentClass\", \"onExited\", \"onEntered\", \"onClean\", \"renderValue\"]);\n\n    var _this$state8 = this.state,\n        hasValue = _this$state8.hasValue,\n        selectedValues = _this$state8.selectedValues;\n    var classes = getToggleWrapperClassName('check-tree', this.addPrefix, this.props, hasValue);\n    var selectedItems = this.getSelectedItems(selectedValues);\n    var selectedElement = placeholder;\n\n    if (hasValue && selectedValues.length) {\n      selectedElement = React.createElement(SelectedElement, {\n        selectedItems: selectedItems,\n        countable: countable,\n        valueKey: valueKey,\n        labelKey: labelKey,\n        prefix: this.addPrefix,\n        cascade: cascade,\n        locale: locale\n      });\n\n      if (renderValue) {\n        selectedElement = renderValue(selectedValues, selectedItems, selectedElement);\n      }\n    }\n\n    var unhandled = getUnhandledProps(CheckTreePicker, rest);\n\n    if (inline) {\n      return this.renderCheckTree();\n    }\n\n    return React.createElement(PickerToggleTrigger, {\n      pickerProps: this.props,\n      ref: this.triggerRef,\n      positionRef: this.positionRef,\n      onEntered: createChainedFunction(this.handleOnOpen, onEntered),\n      onExit: createChainedFunction(this.handleOnClose, onExited),\n      speaker: this.renderDropdownMenu()\n    }, React.createElement(\"div\", {\n      className: classes,\n      style: style\n    }, React.createElement(PickerToggle, _extends({}, unhandled, {\n      ref: this.toggleRef,\n      onKeyDown: this.handleToggleKeyDown,\n      onClean: createChainedFunction(this.handleClean, onClean),\n      componentClass: toggleComponentClass,\n      cleanable: cleanable && !disabled,\n      hasValue: hasValue,\n      active: this.state.active\n    }), selectedElement || locale.placeholder)));\n  };\n\n  return CheckTreePicker;\n}(React.Component);\n\nCheckTreePicker.propTypes = {\n  data: PropTypes.array,\n  open: PropTypes.bool,\n  block: PropTypes.bool,\n  style: PropTypes.object,\n  value: PropTypes.array,\n  height: PropTypes.number,\n  inline: PropTypes.bool,\n  locale: PropTypes.object,\n  cascade: PropTypes.bool,\n  disabled: PropTypes.bool,\n  valueKey: PropTypes.string,\n  labelKey: PropTypes.string,\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  className: PropTypes.string,\n  cleanable: PropTypes.bool,\n  countable: PropTypes.bool,\n  expandAll: PropTypes.bool,\n  placement: PropTypes.oneOf(PLACEMENT),\n  searchable: PropTypes.bool,\n  appearance: PropTypes.oneOf(['default', 'subtle']),\n  virtualized: PropTypes.bool,\n  classPrefix: PropTypes.string,\n  defaultOpen: PropTypes.bool,\n  childrenKey: PropTypes.string,\n  placeholder: PropTypes.node,\n  preventOverflow: PropTypes.bool,\n  defaultValue: PropTypes.array,\n  searchKeyword: PropTypes.string,\n  menuStyle: PropTypes.object,\n  menuClassName: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  toggleComponentClass: PropTypes.elementType,\n  onOpen: PropTypes.func,\n  onExit: PropTypes.func,\n  onEnter: PropTypes.func,\n  onClose: PropTypes.func,\n  onHide: PropTypes.func,\n  onSearch: PropTypes.func,\n  onChange: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  onScroll: PropTypes.func,\n  onClean: PropTypes.func,\n  onExited: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExiting: PropTypes.func,\n  onEntering: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderValue: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  renderExtraFooter: PropTypes.func,\n  searchBy: PropTypes.func\n};\nCheckTreePicker.defaultProps = {\n  locale: {\n    placeholder: 'Select',\n    searchPlaceholder: 'Search',\n    noResultsText: 'No results found',\n    checkAll: 'All'\n  },\n  cascade: true,\n  valueKey: 'value',\n  labelKey: 'label',\n  cleanable: true,\n  countable: true,\n  placement: 'bottomStart',\n  appearance: 'default',\n  searchable: true,\n  menuAutoWidth: true,\n  defaultValue: [],\n  childrenKey: 'children',\n  uncheckableItemValues: []\n};\npolyfill(CheckTreePicker);\nexport default defaultProps({\n  classPrefix: 'picker'\n})(CheckTreePicker);","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/node_modules/rsuite/es/CheckTreePicker/CheckTreePicker.js"],"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","_isNumber","_isString","_isEmpty","_isUndefined","_isArray","React","PropTypes","classNames","List","AutoSizer","CellMeasurerCache","CellMeasurer","polyfill","shallowEqual","CheckTreeNode","CHECK_STATE","PLACEMENT","clone","defaultProps","prefix","defaultClassPrefix","getUnhandledProps","createChainedFunction","PickerToggle","getToggleWrapperClassName","onMenuKeyDown","MenuWrapper","SearchBar","SelectedElement","PickerToggleTrigger","createConcatChildrenFunction","shouldDisplay","isEveryChildChecked","isSomeChildChecked","isSomeNodeHasChildren","getSiblingNodeUncheckable","getEveryFisrtLevelNodeUncheckable","getUncheckableState","getFormattedTree","getDisabledState","compareArray","shouldShowNodeByExpanded","flattenTree","getNodeParents","getVirtualLisHeight","hasVisibleChildren","treeDeprecatedWarning","getExpandItemValues","getExpandAll","getExpandState","defaultHeight","defaultWidth","CheckTreePicker","_React$Component","_props","_this","call","menuRef","treeViewRef","positionRef","listRef","triggerRef","toggleRef","getValue","props","_props2","value","defaultValue","_props2$uncheckableIt","uncheckableItemValues","length","filter","v","includes","getElementByDataKey","dataKey","ele","nodeRefs","Element","querySelector","addTreePrefix","getFocusableMenuItems","filterData","state","childrenKey","items","loop","treeNodes","forEach","node","nodeData","nodes","refKey","visible","push","activeNode","cache","fixedWidth","minHeight","bindNodeRefs","ref","getPositionInstance","current","getToggleInstance","selectActiveItem","event","_this$getActiveItem","getActiveItem","handleSelect","focusNextItem","_node$focus","_this$getItemsAndActi","getItemsAndActiveIndex","activeIndex","nextIndex","focus","focusPreviousItem","_node$focus2","_this$getItemsAndActi2","prevIndex","handleCloseDropdown","hide","handleOpenDropdown","show","open","_this$handleOpenDropd","_this2","close","_this$handleCloseDrop","_this3","handleToggleDropdown","active","everyChildChecked","list","Object","keys","_curNode$parentNode","curNode","parentNode","uncheckable","every","l","check","addPrefix","name","classPrefix","_this$props","onChange","onSelect","selectedValues","toggleChecked","unserializeLists","setState","hasValue","handleToggle","_this$props2","valueKey","onExpand","expandItemValues","nextExpandItemValues","toggleExpand","expand","handleKeyDown","down","up","enter","del","handleClean","handleToggleKeyDown","_this$state","keyCode","target","HTMLElement","className","handleSearch","_this$props3","onSearch","searchKeyword","getFilterData","evnet","_this$props$onChange","_this$props4","handleOnOpen","_this$props$onOpen","_this$props5","_node$focus3","onOpen","handleOnClose","_this$props6","onClose","measureRowRenderer","_ref","key","index","style","parent","createElement","columnIndex","rowIndex","renderVirtualNode","_value","data","cascade","_childrenKey","_searchKeyword","nextValue","_nextExpandItemValues","nextData","concat","flattenNodes","expandAll","serializeList","createRef","getDerivedStateFromProps","nextProps","prevState","nextState","_proto","prototype","componentDidUpdate","_prevProps","updateDataChange","updateValueChange","updateExpandItemValuesChange","updateUncheckableItemValuesChange","updateCascadeChange","updateSearchKeywordChange","forceUpdateGrid","_this$state2","_this$props7","_this$props7$data","_this$state3","_this$state4","getNodeCheckState","checkAll","CHECK","UNCHECK","INDETERMINATE","_props3","labelKey","searchBy","setVisible","item","child","getActiveElementOption","options","i","_options$i$childrenKe","getFlattenTreeData","_this4","_this$props8","formatted","parentKeys","layer","showNode","document","activeElement","getAttribute","activeItem","_activeItem$dataset","_activeItem$dataset2","_this$nodes$nodeData$","_this$nodes$nodeData$2","dataset","getSelectedItems","_this5","checkItems","map","some","values","_this6","_this7","_ref2","Array","isArray","_this7$nodes$refKey","filterSelectedValues","_this$props$uncheckab","serializeListOnlyParent","currentNode","_currentNode$parentNo","lists","_this8","_nextProps","_nextProps$uncheckabl","listKey","uncheckableValue","isChecked","toggleDownChecked","toggleUpChecked","checked","_this9","_this$props9","toggleNode","toggleValue","isExpand","Set","add","delete","from","renderDropdownMenu","_this$props10","_this$props10$height","height","locale","menuStyle","searchable","renderMenu","virtualized","renderExtraFooter","menuClassName","menuAutoWidth","keyword","classes","menu","renderCheckTree","styles","autoWidth","placeholder","searchPlaceholder","renderNode","_this10","_this$state5","_this$props11","renderTreeNode","renderTreeIcon","children","visibleChildren","label","rtl","disabled","checkState","hasChildren","allUncheckable","onTreeToggle","onRenderTreeNode","onRenderTreeIcon","_classNames","openClass","expandALlState","childrenClass","bind","innerRef","_this$state6","_this$props12","_classNames2","_this11","_classNames3","_this$state7","_this$props13","inline","onScroll","formattedNodes","noResultsText","n","treeHeight","treeWidth","width","treeNodesClass","listHeight","onKeyDown","_ref3","rowHeight","rowCount","rowRenderer","render","_this$props14","cleanable","countable","toggleComponentClass","onExited","onEntered","onClean","renderValue","rest","_this$state8","selectedItems","selectedElement","unhandled","pickerProps","onExit","speaker","componentClass","Component","propTypes","array","bool","block","object","number","string","container","oneOfType","func","placement","oneOf","appearance","defaultOpen","preventOverflow","defaultExpandAll","containerPadding","disabledItemValues","defaultExpandItemValues","elementType","onEnter","onHide","onExiting","onEntering"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _isNumber from \"lodash/isNumber\";\nimport _isString from \"lodash/isString\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isArray from \"lodash/isArray\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport List from 'react-virtualized/dist/commonjs/List';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { CellMeasurerCache, CellMeasurer } from 'react-virtualized/dist/commonjs/CellMeasurer';\nimport { polyfill } from 'react-lifecycles-compat';\nimport shallowEqual from '../utils/shallowEqual';\nimport CheckTreeNode from './CheckTreeNode';\nimport { CHECK_STATE, PLACEMENT } from '../constants';\nimport { clone, defaultProps, prefix, defaultClassPrefix, getUnhandledProps, createChainedFunction } from '../utils';\nimport { PickerToggle, getToggleWrapperClassName, onMenuKeyDown, MenuWrapper, SearchBar, SelectedElement, PickerToggleTrigger, createConcatChildrenFunction, shouldDisplay } from '../Picker';\nimport { isEveryChildChecked, isSomeChildChecked, isSomeNodeHasChildren, getSiblingNodeUncheckable, getEveryFisrtLevelNodeUncheckable, getUncheckableState, getFormattedTree, getDisabledState } from './utils';\nimport { compareArray, shouldShowNodeByExpanded, flattenTree, getNodeParents, getVirtualLisHeight, hasVisibleChildren, treeDeprecatedWarning, getExpandItemValues, getExpandAll, getExpandState } from '../utils/treeUtils';\n// default value for virtualized\nvar defaultHeight = 360;\nvar defaultWidth = 200;\n\nvar CheckTreePicker =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(CheckTreePicker, _React$Component);\n\n  function CheckTreePicker(_props) {\n    var _this;\n\n    _this = _React$Component.call(this, _props) || this;\n    _this.menuRef = void 0;\n    _this.treeViewRef = void 0;\n    _this.positionRef = void 0;\n    _this.listRef = void 0;\n    _this.triggerRef = void 0;\n    _this.toggleRef = void 0;\n\n    _this.getValue = function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n\n      var _props2 = props,\n          value = _props2.value,\n          defaultValue = _props2.defaultValue,\n          _props2$uncheckableIt = _props2.uncheckableItemValues,\n          uncheckableItemValues = _props2$uncheckableIt === void 0 ? [] : _props2$uncheckableIt;\n\n      if (value && value.length) {\n        return value.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n\n      if (defaultValue && defaultValue.length > 0) {\n        return defaultValue.filter(function (v) {\n          return !uncheckableItemValues.includes(v);\n        });\n      }\n\n      return [];\n    };\n\n    _this.getElementByDataKey = function (dataKey) {\n      var ele = _this.nodeRefs[dataKey];\n\n      if (ele instanceof Element) {\n        return ele.querySelector(\".\" + _this.addTreePrefix('node-label'));\n      }\n\n      return null;\n    };\n\n    _this.getFocusableMenuItems = function () {\n      var filterData = _this.state.filterData;\n      var childrenKey = _this.props.childrenKey;\n      var items = [];\n\n      var loop = function loop(treeNodes) {\n        treeNodes.forEach(function (node) {\n          var nodeData = _extends({}, node, {}, _this.nodes[node.refKey]);\n\n          if (!getDisabledState(_this.nodes, node, _this.props) && node.visible) {\n            items.push(node);\n          }\n\n          if (node[childrenKey] && getExpandState(nodeData, _this.props)) {\n            loop(node[childrenKey]);\n          }\n        });\n      };\n\n      loop(filterData);\n      return items;\n    };\n\n    _this.nodes = {};\n    _this.activeNode = null;\n    _this.cache = new CellMeasurerCache({\n      fixedWidth: true,\n      minHeight: 20\n    });\n    _this.nodeRefs = {};\n\n    _this.bindNodeRefs = function (refKey, ref) {\n      _this.nodeRefs[refKey] = ref;\n    };\n\n    _this.getPositionInstance = function () {\n      return _this.positionRef.current;\n    };\n\n    _this.getToggleInstance = function () {\n      return _this.toggleRef.current;\n    };\n\n    _this.selectActiveItem = function (event) {\n      var _this$getActiveItem = _this.getActiveItem(),\n          nodeData = _this$getActiveItem.nodeData;\n\n      _this.handleSelect(nodeData, event);\n    };\n\n    _this.focusNextItem = function () {\n      var _node$focus;\n\n      var _this$getItemsAndActi = _this.getItemsAndActiveIndex(),\n          items = _this$getItemsAndActi.items,\n          activeIndex = _this$getItemsAndActi.activeIndex;\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n\n      var node = _this.getElementByDataKey(items[nextIndex].refKey);\n\n      node === null || node === void 0 ? void 0 : (_node$focus = node.focus) === null || _node$focus === void 0 ? void 0 : _node$focus.call(node);\n    };\n\n    _this.focusPreviousItem = function () {\n      var _node$focus2;\n\n      var _this$getItemsAndActi2 = _this.getItemsAndActiveIndex(),\n          items = _this$getItemsAndActi2.items,\n          activeIndex = _this$getItemsAndActi2.activeIndex;\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var prevIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n      prevIndex = prevIndex >= 0 ? prevIndex : 0;\n\n      var node = _this.getElementByDataKey(items[prevIndex].refKey);\n\n      node === null || node === void 0 ? void 0 : (_node$focus2 = node.focus) === null || _node$focus2 === void 0 ? void 0 : _node$focus2.call(node);\n    };\n\n    _this.handleCloseDropdown = function () {\n      if (_this.triggerRef.current) {\n        _this.triggerRef.current.hide();\n      }\n    };\n\n    _this.handleOpenDropdown = function () {\n      if (_this.triggerRef.current) {\n        _this.triggerRef.current.show();\n      }\n    };\n\n    _this.open = function () {\n      var _this$handleOpenDropd, _this2;\n\n      (_this$handleOpenDropd = (_this2 = _this).handleOpenDropdown) === null || _this$handleOpenDropd === void 0 ? void 0 : _this$handleOpenDropd.call(_this2);\n    };\n\n    _this.close = function () {\n      var _this$handleCloseDrop, _this3;\n\n      (_this$handleCloseDrop = (_this3 = _this).handleCloseDropdown) === null || _this$handleCloseDrop === void 0 ? void 0 : _this$handleCloseDrop.call(_this3);\n    };\n\n    _this.handleToggleDropdown = function () {\n      var active = _this.state.active;\n\n      if (active) {\n        _this.handleCloseDropdown();\n\n        return;\n      }\n\n      _this.handleOpenDropdown();\n    };\n\n    _this.everyChildChecked = function (nodes, node) {\n      var list = [];\n      Object.keys(nodes).forEach(function (refKey) {\n        var _curNode$parentNode;\n\n        var curNode = nodes[refKey];\n\n        if (((_curNode$parentNode = curNode.parentNode) === null || _curNode$parentNode === void 0 ? void 0 : _curNode$parentNode.refKey) === node.refKey && !curNode.uncheckable) {\n          list.push(curNode);\n        }\n      });\n      return list.every(function (l) {\n        return l.check;\n      });\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.addTreePrefix = function (name) {\n      return prefix(defaultClassPrefix('check-tree'))(name);\n    };\n\n    _this.handleSelect = function (activeNode, event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          onSelect = _this$props.onSelect,\n          value = _this$props.value;\n\n      var selectedValues = _this.toggleChecked(activeNode, !_this.nodes[activeNode.refKey].check);\n\n      if (!_isUndefined(value)) {\n        _this.activeNode = activeNode;\n      } else {\n        _this.unserializeLists({\n          check: selectedValues\n        });\n\n        _this.setState({\n          activeNode: activeNode,\n          selectedValues: selectedValues,\n          hasValue: !!selectedValues.length\n        });\n      }\n\n      onChange === null || onChange === void 0 ? void 0 : onChange(selectedValues, event);\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(activeNode, selectedValues, event);\n    };\n\n    _this.handleToggle = function (node) {\n      var _this$props2 = _this.props,\n          valueKey = _this$props2.valueKey,\n          childrenKey = _this$props2.childrenKey,\n          onExpand = _this$props2.onExpand,\n          expandItemValues = _this$props2.expandItemValues;\n\n      var nextExpandItemValues = _this.toggleExpand(node, !node.expand);\n\n      if (_isUndefined(expandItemValues)) {\n        _this.unserializeLists({\n          expand: nextExpandItemValues\n        });\n\n        _this.setState({\n          expandItemValues: nextExpandItemValues\n        });\n      }\n\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(nextExpandItemValues, node, createConcatChildrenFunction(node, node[valueKey], {\n        valueKey: valueKey,\n        childrenKey: childrenKey\n      }));\n    };\n\n    _this.handleKeyDown = function (event) {\n      onMenuKeyDown(event, {\n        down: _this.focusNextItem,\n        up: _this.focusPreviousItem,\n        enter: _this.selectActiveItem,\n        del: _this.handleClean\n      });\n    };\n\n    _this.handleToggleKeyDown = function (event) {\n      var _this$state = _this.state,\n          activeNode = _this$state.activeNode,\n          active = _this$state.active; // enter\n\n      if ((!activeNode || !active) && event.keyCode === 13) {\n        _this.handleToggleDropdown();\n      } // delete\n\n\n      if (event.keyCode === 8) {\n        _this.handleClean(event);\n      }\n\n      if (!_this.treeViewRef.current) {\n        return;\n      }\n\n      if (event.target instanceof HTMLElement) {\n        var className = event.target.className;\n\n        if (className.includes(_this.addPrefix('toggle')) || className.includes(_this.addPrefix('toggle-custom')) || className.includes(_this.addPrefix('search-bar-input'))) {\n          onMenuKeyDown(event, {\n            down: _this.focusNextItem\n          });\n        }\n      }\n    };\n\n    _this.handleSearch = function (value, event) {\n      var filterData = _this.state.filterData;\n      var _this$props3 = _this.props,\n          onSearch = _this$props3.onSearch,\n          searchKeyword = _this$props3.searchKeyword;\n\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData(value, filterData),\n          searchKeyword: value\n        });\n      }\n\n      onSearch === null || onSearch === void 0 ? void 0 : onSearch(value, event);\n    };\n\n    _this.handleClean = function (evnet) {\n      var _this$props$onChange, _this$props4;\n\n      _this.setState({\n        selectedValues: [],\n        hasValue: false,\n        activeNode: {}\n      });\n\n      _this.unserializeLists({\n        check: []\n      });\n\n      (_this$props$onChange = (_this$props4 = _this.props).onChange) === null || _this$props$onChange === void 0 ? void 0 : _this$props$onChange.call(_this$props4, [], evnet);\n    };\n\n    _this.handleOnOpen = function () {\n      var _this$props$onOpen, _this$props5;\n\n      var activeNode = _this.state.activeNode;\n\n      if (activeNode) {\n        var _node$focus3;\n\n        var node = _this.getElementByDataKey(activeNode.refKey);\n\n        node === null || node === void 0 ? void 0 : (_node$focus3 = node.focus) === null || _node$focus3 === void 0 ? void 0 : _node$focus3.call(node);\n      }\n\n      (_this$props$onOpen = (_this$props5 = _this.props).onOpen) === null || _this$props$onOpen === void 0 ? void 0 : _this$props$onOpen.call(_this$props5);\n\n      _this.setState({\n        active: true\n      });\n    };\n\n    _this.handleOnClose = function () {\n      var filterData = _this.state.filterData;\n      var _this$props6 = _this.props,\n          onClose = _this$props6.onClose,\n          searchKeyword = _this$props6.searchKeyword;\n\n      if (_isUndefined(searchKeyword)) {\n        _this.setState({\n          filterData: _this.getFilterData('', filterData),\n          searchKeyword: ''\n        });\n      }\n\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n\n      _this.setState({\n        active: false\n      });\n    };\n\n    _this.measureRowRenderer = function (nodes) {\n      return function (_ref) {\n        var key = _ref.key,\n            index = _ref.index,\n            style = _ref.style,\n            parent = _ref.parent;\n        var node = nodes[index];\n        return React.createElement(CellMeasurer, {\n          cache: _this.cache,\n          columnIndex: 0,\n          key: key,\n          rowIndex: index,\n          parent: parent\n        }, function () {\n          return _this.renderVirtualNode(node, {\n            key: key,\n            style: style\n          });\n        });\n      };\n    };\n\n    var _value = _props.value,\n        data = _props.data,\n        cascade = _props.cascade,\n        _childrenKey = _props.childrenKey,\n        _searchKeyword = _props.searchKeyword;\n    _this.nodes = {};\n\n    var nextValue = _this.getValue(_props);\n\n    var _nextExpandItemValues = getExpandItemValues(_props);\n\n    var nextData = [].concat(data);\n\n    _this.flattenNodes(nextData, _props);\n\n    _this.unserializeLists({\n      check: nextValue,\n      expand: _nextExpandItemValues\n    }, _props);\n\n    _this.state = {\n      data: data,\n      value: _value,\n      cascade: cascade,\n      hasValue: _this.hasValue(nextValue),\n      expandAll: getExpandAll(_props),\n      filterData: _this.getFilterData(_searchKeyword, nextData, _props),\n      searchKeyword: _searchKeyword || '',\n      selectedValues: nextValue,\n      expandItemValues: _this.serializeList('expand'),\n      uncheckableItemValues: _props.uncheckableItemValues,\n      isSomeNodeHasChildren: isSomeNodeHasChildren(data, _childrenKey)\n    };\n    _this.treeViewRef = React.createRef();\n    _this.positionRef = React.createRef();\n    _this.listRef = React.createRef();\n    _this.triggerRef = React.createRef();\n    _this.toggleRef = React.createRef(); // for test\n\n    _this.menuRef = React.createRef();\n    treeDeprecatedWarning(_props, ['expandAll']);\n    return _this;\n  }\n\n  CheckTreePicker.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        data = nextProps.data,\n        cascade = nextProps.cascade,\n        expandAll = nextProps.expandAll,\n        searchKeyword = nextProps.searchKeyword,\n        uncheckableItemValues = nextProps.uncheckableItemValues,\n        expandItemValues = nextProps.expandItemValues;\n    var nextState = {};\n\n    if (_isArray(data) && _isArray(prevState.data) && prevState.data !== data) {\n      nextState.data = data;\n    }\n\n    if (compareArray(value, prevState.value)) {\n      nextState.value = value;\n    }\n\n    if (compareArray(expandItemValues, prevState.expandItemValues)) {\n      nextState.expandItemValues = expandItemValues;\n    }\n\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues)) {\n      nextState.uncheckableItemValues = uncheckableItemValues;\n    }\n\n    if (!_isUndefined(searchKeyword) && searchKeyword !== prevState.searchKeyword) {\n      nextState.searchKeyword = searchKeyword;\n    }\n\n    if (cascade !== prevState.cascade) {\n      nextState.cascade = cascade;\n    }\n\n    if (expandAll !== prevState.expandAll) {\n      nextState.expandAll = expandAll;\n    }\n\n    return Object.keys(nextState).length ? nextState : null;\n  };\n\n  var _proto = CheckTreePicker.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(_prevProps, prevState) {\n    this.updateDataChange(prevState);\n    this.updateValueChange(prevState);\n    this.updateExpandItemValuesChange(prevState);\n    this.updateUncheckableItemValuesChange(prevState);\n    this.updateCascadeChange(prevState);\n    this.updateSearchKeywordChange(prevState);\n\n    if (this.listRef.current) {\n      this.listRef.current.forceUpdateGrid();\n    }\n  };\n\n  _proto.updateDataChange = function updateDataChange(prevState) {\n    var _this$state2 = this.state,\n        searchKeyword = _this$state2.searchKeyword,\n        expandItemValues = _this$state2.expandItemValues;\n    var _this$props7 = this.props,\n        _this$props7$data = _this$props7.data,\n        data = _this$props7$data === void 0 ? [] : _this$props7$data,\n        childrenKey = _this$props7.childrenKey;\n\n    if (prevState.data !== data) {\n      var nextData = [].concat(data);\n      this.nodes = {};\n      this.flattenNodes(nextData);\n      this.unserializeLists({\n        check: this.getValue(),\n        expand: expandItemValues\n      });\n      this.setState({\n        data: nextData,\n        filterData: this.getFilterData(searchKeyword, nextData),\n        isSomeNodeHasChildren: isSomeNodeHasChildren(nextData, childrenKey),\n        hasValue: this.hasValue(),\n        expandItemValues: this.serializeList('expand')\n      });\n    }\n  };\n\n  _proto.updateValueChange = function updateValueChange(prevState) {\n    var expandItemValues = this.state.expandItemValues;\n    var value = this.props.value;\n\n    if (compareArray(value, prevState.value)) {\n      this.unserializeLists({\n        check: value,\n        expand: expandItemValues\n      });\n      this.setState({\n        selectedValues: value,\n        hasValue: this.hasValue(value),\n        activeNode: value.length ? this.activeNode : null\n      });\n    }\n  };\n\n  _proto.updateExpandItemValuesChange = function updateExpandItemValuesChange(prevState) {\n    var expandItemValues = this.props.expandItemValues;\n\n    if (compareArray(expandItemValues, prevState.expandItemValues)) {\n      this.unserializeLists({\n        expand: expandItemValues\n      });\n      this.setState({\n        expandItemValues: expandItemValues\n      });\n    }\n  };\n\n  _proto.updateUncheckableItemValuesChange = function updateUncheckableItemValuesChange(prevState) {\n    var _this$state3 = this.state,\n        filterData = _this$state3.filterData,\n        selectedValues = _this$state3.selectedValues,\n        expandItemValues = _this$state3.expandItemValues;\n    var uncheckableItemValues = this.props.uncheckableItemValues;\n\n    if (compareArray(uncheckableItemValues, prevState.uncheckableItemValues)) {\n      this.flattenNodes(filterData);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        hasValue: this.hasValue()\n      });\n    }\n  };\n\n  _proto.updateCascadeChange = function updateCascadeChange(prevState) {\n    var _this$state4 = this.state,\n        filterData = _this$state4.filterData,\n        selectedValues = _this$state4.selectedValues,\n        expandItemValues = _this$state4.expandItemValues;\n    var cascade = this.props.cascade; // cascade 改变时，重新初始化\n\n    if (cascade !== prevState.cascade && cascade) {\n      this.flattenNodes(filterData);\n      this.unserializeLists({\n        check: selectedValues,\n        expand: expandItemValues\n      });\n      this.setState({\n        cascade: cascade\n      });\n    }\n  };\n\n  _proto.updateSearchKeywordChange = function updateSearchKeywordChange(prevState) {\n    var filterData = this.state.filterData;\n    var searchKeyword = this.props.searchKeyword;\n\n    if (!_isUndefined(searchKeyword) && prevState.searchKeyword !== searchKeyword) {\n      this.setState({\n        filterData: this.getFilterData(searchKeyword, filterData)\n      });\n    }\n  };\n\n  _proto.getNodeCheckState = function getNodeCheckState(node, cascade) {\n    var childrenKey = this.props.childrenKey;\n\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      this.nodes[node.refKey].checkAll = false;\n      return node.check ? CHECK_STATE.CHECK : CHECK_STATE.UNCHECK;\n    }\n\n    if (isEveryChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = true;\n      return CHECK_STATE.CHECK;\n    }\n\n    if (isSomeChildChecked(node, this.nodes, this.props)) {\n      this.nodes[node.refKey].checkAll = false;\n      return CHECK_STATE.INDETERMINATE;\n    }\n\n    return CHECK_STATE.UNCHECK;\n  };\n\n  _proto.getFilterData = function getFilterData(searchKeyword, data, props) {\n    if (searchKeyword === void 0) {\n      searchKeyword = '';\n    }\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var _props3 = props,\n        labelKey = _props3.labelKey,\n        childrenKey = _props3.childrenKey,\n        searchBy = _props3.searchBy;\n\n    var setVisible = function setVisible(nodes) {\n      if (nodes === void 0) {\n        nodes = [];\n      }\n\n      return nodes.forEach(function (item) {\n        item.visible = searchBy ? searchBy(searchKeyword, item[labelKey], item) : shouldDisplay(item[labelKey], searchKeyword);\n\n        if (_isArray(item[childrenKey])) {\n          setVisible(item[childrenKey]);\n          item[childrenKey].forEach(function (child) {\n            if (child.visible) {\n              item.visible = child.visible;\n            }\n          });\n        }\n      });\n    };\n\n    setVisible(data);\n    return data;\n  };\n\n  _proto.getActiveElementOption = function getActiveElementOption(options, refKey) {\n    var childrenKey = this.props.childrenKey;\n\n    for (var i = 0; i < options.length; i += 1) {\n      var _options$i$childrenKe;\n\n      if (options[i].refKey === refKey) {\n        return options[i];\n      } else if ((_options$i$childrenKe = options[i][childrenKey]) === null || _options$i$childrenKe === void 0 ? void 0 : _options$i$childrenKe.length) {\n        var active = this.getActiveElementOption(options[i][childrenKey], refKey);\n\n        if (!_isEmpty(active)) {\n          return active;\n        }\n      }\n    }\n\n    return {};\n  };\n\n  _proto.getFlattenTreeData = function getFlattenTreeData(nodes) {\n    var _this4 = this;\n\n    var expandItemValues = this.state.expandItemValues;\n    var _this$props8 = this.props,\n        childrenKey = _this$props8.childrenKey,\n        valueKey = _this$props8.valueKey;\n    return flattenTree(nodes, childrenKey, function (node) {\n      var formatted = {};\n      var curNode = _this4.nodes[node.refKey];\n      var parentKeys = getNodeParents(curNode, 'parentNode', valueKey);\n\n      if (curNode) {\n        formatted = _extends({}, node, {\n          check: curNode.check,\n          expand: curNode.expand,\n          uncheckable: curNode.uncheckable,\n          layer: curNode.layer,\n          parentNode: curNode.parentNode,\n          showNode: shouldShowNodeByExpanded(expandItemValues, parentKeys)\n        });\n      }\n\n      return formatted;\n    });\n  };\n\n  _proto.getItemsAndActiveIndex = function getItemsAndActiveIndex() {\n    var items = this.getFocusableMenuItems();\n    var activeIndex = -1;\n    items.forEach(function (item, index) {\n      if (document.activeElement !== null) {\n        if (item.refKey === document.activeElement.getAttribute('data-key')) {\n          activeIndex = index;\n        }\n      }\n    });\n    return {\n      items: items,\n      activeIndex: activeIndex\n    };\n  };\n\n  _proto.getActiveItem = function getActiveItem() {\n    var filterData = this.state.filterData;\n    var activeItem = document.activeElement;\n\n    if (activeItem !== null) {\n      var _activeItem$dataset, _activeItem$dataset2, _this$nodes$nodeData$, _this$nodes$nodeData$2;\n\n      var key = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset = activeItem.dataset) === null || _activeItem$dataset === void 0 ? void 0 : _activeItem$dataset.key;\n      var layer = activeItem === null || activeItem === void 0 ? void 0 : (_activeItem$dataset2 = activeItem.dataset) === null || _activeItem$dataset2 === void 0 ? void 0 : _activeItem$dataset2.layer;\n      var nodeData = this.getActiveElementOption(filterData, key);\n      nodeData.check = !((_this$nodes$nodeData$ = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$ === void 0 ? void 0 : _this$nodes$nodeData$.check);\n      nodeData.parentNode = (_this$nodes$nodeData$2 = this.nodes[nodeData.refKey]) === null || _this$nodes$nodeData$2 === void 0 ? void 0 : _this$nodes$nodeData$2.parentNode;\n      return {\n        nodeData: nodeData,\n        layer: layer\n      };\n    }\n\n    return {};\n  }\n  /**\n   * 获取已选择的items，用于显示在placeholder\n   */\n  ;\n\n  _proto.getSelectedItems = function getSelectedItems(selectedValues) {\n    var _this5 = this;\n\n    var valueKey = this.props.valueKey;\n    var checkItems = [];\n    Object.keys(this.nodes).map(function (refKey) {\n      var node = _this5.nodes[refKey];\n\n      if (selectedValues.some(function (value) {\n        return shallowEqual(node[valueKey], value);\n      })) {\n        checkItems.push(node);\n      }\n    });\n    return checkItems;\n  }\n  /**\n   * 判断传入的 value 是否存在于data 中\n   * @param {*} values\n   */\n  ;\n\n  _proto.hasValue = function hasValue(values) {\n    var _this6 = this;\n\n    if (values === void 0) {\n      values = this.state.selectedValues;\n    }\n\n    var valueKey = this.props.valueKey;\n    var selectedValues = Object.keys(this.nodes).map(function (refKey) {\n      return _this6.nodes[refKey][valueKey];\n    }).filter(function (item) {\n      return values.some(function (v) {\n        return shallowEqual(v, item);\n      });\n    });\n    return !!selectedValues.length;\n  }\n  /**\n   * 拍平数组，将tree 转换为一维对象\n   * @param {*} nodes tree data\n   * @param {*} ref 当前层级\n   */\n  ;\n\n  _proto.flattenNodes = function flattenNodes(nodes, props, ref, parentNode, layer) {\n    var _this7 = this;\n\n    if (ref === void 0) {\n      ref = '0';\n    }\n\n    if (layer === void 0) {\n      layer = 0;\n    }\n\n    var _ref2 = props || this.props,\n        labelKey = _ref2.labelKey,\n        valueKey = _ref2.valueKey,\n        childrenKey = _ref2.childrenKey;\n\n    if (!Array.isArray(nodes) || nodes.length === 0) {\n      return;\n    }\n\n    nodes.forEach(function (node, index) {\n      var _this7$nodes$refKey;\n\n      var refKey = ref + \"-\" + index;\n      node.refKey = refKey;\n      _this7.nodes[refKey] = (_this7$nodes$refKey = {\n        layer: layer\n      }, _this7$nodes$refKey[labelKey] = node[labelKey], _this7$nodes$refKey[valueKey] = node[valueKey], _this7$nodes$refKey.expand = getExpandState(node, props || _this7.props), _this7$nodes$refKey.uncheckable = getUncheckableState(node, props || _this7.props), _this7$nodes$refKey.refKey = refKey, _this7$nodes$refKey);\n\n      if (parentNode) {\n        _this7.nodes[refKey].parentNode = parentNode;\n      }\n\n      _this7.flattenNodes(node[childrenKey], props, refKey, _this7.nodes[refKey], layer + 1);\n    });\n  }\n  /**\n   * 过滤选中的values中不包含 uncheckableItemValues 的那些值\n   * @param {*} values\n   */\n  ;\n\n  _proto.filterSelectedValues = function filterSelectedValues(values) {\n    var _this$props$uncheckab = this.props.uncheckableItemValues,\n        uncheckableItemValues = _this$props$uncheckab === void 0 ? [] : _this$props$uncheckab;\n    return values.filter(function (value) {\n      return !uncheckableItemValues.includes(value);\n    });\n  };\n\n  _proto.serializeList = function serializeList(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      if (nodes[refKey][key]) {\n        list.push(nodes[refKey][valueKey]);\n      }\n    });\n    return list;\n  };\n\n  _proto.serializeListOnlyParent = function serializeListOnlyParent(key, nodes) {\n    if (nodes === void 0) {\n      nodes = this.nodes;\n    }\n\n    var valueKey = this.props.valueKey;\n    var list = [];\n    Object.keys(nodes).forEach(function (refKey) {\n      var currentNode = nodes[refKey];\n\n      if (currentNode.parentNode) {\n        var _currentNode$parentNo;\n\n        var parentNode = nodes[(_currentNode$parentNo = currentNode.parentNode) === null || _currentNode$parentNo === void 0 ? void 0 : _currentNode$parentNo.refKey];\n\n        if (currentNode[key]) {\n          if (!(parentNode === null || parentNode === void 0 ? void 0 : parentNode.checkAll)) {\n            list.push(nodes[refKey][valueKey]);\n          } else if (parentNode === null || parentNode === void 0 ? void 0 : parentNode.uncheckable) {\n            list.push(nodes[refKey][valueKey]);\n          }\n        }\n      } else {\n        if (currentNode[key]) {\n          list.push(nodes[refKey][valueKey]);\n        }\n      }\n    });\n    return list;\n  };\n\n  _proto.unserializeLists = function unserializeLists(lists, nextProps) {\n    var _this8 = this;\n\n    if (nextProps === void 0) {\n      nextProps = this.props;\n    }\n\n    var _nextProps = nextProps,\n        valueKey = _nextProps.valueKey,\n        cascade = _nextProps.cascade,\n        _nextProps$uncheckabl = _nextProps.uncheckableItemValues,\n        uncheckableItemValues = _nextProps$uncheckabl === void 0 ? [] : _nextProps$uncheckabl;\n    var expandAll = getExpandAll(nextProps); // Reset values to false\n\n    Object.keys(this.nodes).forEach(function (refKey) {\n      Object.keys(lists).forEach(function (listKey) {\n        if (listKey === 'check') {\n          var node = _this8.nodes[refKey];\n\n          if (cascade && 'parentNode' in node) {\n            node[listKey] = node.parentNode[listKey];\n          } else {\n            node[listKey] = false;\n          }\n\n          lists[listKey].forEach(function (value) {\n            if (shallowEqual(_this8.nodes[refKey][valueKey], value) && !uncheckableItemValues.some(function (uncheckableValue) {\n              return shallowEqual(value, uncheckableValue);\n            })) {\n              _this8.nodes[refKey][listKey] = true;\n            }\n          });\n        }\n\n        if (listKey === 'expand') {\n          _this8.nodes[refKey][listKey] = false;\n\n          if (lists[listKey].length) {\n            lists[listKey].forEach(function (value) {\n              if (shallowEqual(_this8.nodes[refKey][valueKey], value)) {\n                _this8.nodes[refKey][listKey] = true;\n              }\n            });\n          } else {\n            _this8.nodes[refKey][listKey] = expandAll;\n          }\n        }\n      });\n    });\n  };\n\n  _proto.toggleChecked = function toggleChecked(node, isChecked) {\n    var nodes = clone(this.nodes);\n    this.toggleDownChecked(nodes, node, isChecked);\n    node.parentNode && this.toggleUpChecked(nodes, node.parentNode, isChecked);\n    var values = this.serializeListOnlyParent('check', nodes);\n    return this.filterSelectedValues(values);\n  };\n\n  _proto.toggleUpChecked = function toggleUpChecked(nodes, node, checked) {\n    var cascade = this.props.cascade;\n    var currentNode = nodes[node.refKey];\n\n    if (cascade) {\n      if (!checked) {\n        currentNode.check = checked;\n        currentNode.checkAll = checked;\n      } else {\n        if (this.everyChildChecked(nodes, node)) {\n          currentNode.check = true;\n          currentNode.checkAll = true;\n        } else {\n          currentNode.check = false;\n          currentNode.checkAll = false;\n        }\n      }\n\n      if (node.parentNode) {\n        this.toggleUpChecked(nodes, node.parentNode, checked);\n      }\n    }\n  };\n\n  _proto.toggleDownChecked = function toggleDownChecked(nodes, node, isChecked) {\n    var _this9 = this;\n\n    var _this$props9 = this.props,\n        childrenKey = _this$props9.childrenKey,\n        cascade = _this$props9.cascade;\n    nodes[node.refKey].check = isChecked;\n\n    if (!node[childrenKey] || !node[childrenKey].length || !cascade) {\n      nodes[node.refKey].checkAll = false;\n    } else {\n      nodes[node.refKey].checkAll = isChecked;\n      node[childrenKey].forEach(function (child) {\n        _this9.toggleDownChecked(nodes, child, isChecked);\n      });\n    }\n  };\n\n  _proto.toggleNode = function toggleNode(key, node, toggleValue) {\n    // 如果该节点处于 disabledChecbox，则忽略该值\n    if (!node.uncheckable) {\n      this.nodes[node.refKey][key] = toggleValue;\n    }\n  };\n\n  _proto.toggleExpand = function toggleExpand(node, isExpand) {\n    var valueKey = this.props.valueKey;\n    var expandItemValues = new Set(this.serializeList('expand'));\n\n    if (isExpand) {\n      expandItemValues.add(node[valueKey]);\n    } else {\n      expandItemValues.delete(node[valueKey]);\n    }\n\n    return Array.from(expandItemValues);\n  };\n\n  _proto.renderDropdownMenu = function renderDropdownMenu() {\n    var _this$props10 = this.props,\n        _this$props10$height = _this$props10.height,\n        height = _this$props10$height === void 0 ? defaultHeight : _this$props10$height,\n        locale = _this$props10.locale,\n        menuStyle = _this$props10.menuStyle,\n        searchable = _this$props10.searchable,\n        renderMenu = _this$props10.renderMenu,\n        virtualized = _this$props10.virtualized,\n        searchKeyword = _this$props10.searchKeyword,\n        renderExtraFooter = _this$props10.renderExtraFooter,\n        menuClassName = _this$props10.menuClassName,\n        menuAutoWidth = _this$props10.menuAutoWidth;\n    var keyword = !_isUndefined(searchKeyword) ? searchKeyword : this.state.searchKeyword;\n    var classes = classNames(menuClassName, this.addPrefix('check-tree-menu'));\n    var menu = this.renderCheckTree();\n    var styles = virtualized ? _extends({\n      height: height\n    }, menuStyle) : menuStyle;\n    return React.createElement(MenuWrapper, {\n      autoWidth: menuAutoWidth,\n      className: classes,\n      style: styles,\n      ref: this.menuRef,\n      getToggleInstance: this.getToggleInstance,\n      getPositionInstance: this.getPositionInstance\n    }, searchable ? React.createElement(SearchBar, {\n      placeholder: locale.searchPlaceholder,\n      key: \"searchBar\",\n      onChange: this.handleSearch,\n      value: keyword\n    }) : null, renderMenu ? renderMenu(menu) : menu, renderExtraFooter === null || renderExtraFooter === void 0 ? void 0 : renderExtraFooter());\n  };\n\n  _proto.renderNode = function renderNode(node, layer) {\n    var _this10 = this;\n\n    var _this$state5 = this.state,\n        activeNode = _this$state5.activeNode,\n        searchKeyword = _this$state5.searchKeyword;\n    var _this$props11 = this.props,\n        valueKey = _this$props11.valueKey,\n        labelKey = _this$props11.labelKey,\n        childrenKey = _this$props11.childrenKey,\n        renderTreeNode = _this$props11.renderTreeNode,\n        renderTreeIcon = _this$props11.renderTreeIcon,\n        cascade = _this$props11.cascade,\n        locale = _this$props11.locale;\n    var expand = node.expand,\n        visible = node.visible,\n        refKey = node.refKey;\n\n    if (!visible) {\n      return null;\n    }\n\n    var key = _isString(node[valueKey]) || _isNumber(node[valueKey]) ? node[valueKey] : refKey;\n    var children = node[childrenKey]; // 当用户进行搜索时，hasChildren的判断要变成判断是否存在 visible 为 true 的子节点\n\n    var visibleChildren = _isUndefined(searchKeyword) || searchKeyword.length === 0 ? !!children : hasVisibleChildren(node, childrenKey);\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      checkState: this.getNodeCheckState(node, cascade),\n      hasChildren: visibleChildren,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n\n    if (props.hasChildren) {\n      var _classNames;\n\n      layer += 1; // 是否展开树节点且子节点不为空\n\n      var openClass = this.addTreePrefix('open');\n      var expandALlState = node.expand;\n      var childrenClass = classNames(this.addTreePrefix('node-children'), (_classNames = {}, _classNames[openClass] = expandALlState && visibleChildren, _classNames));\n      var nodes = children || [];\n      return React.createElement(\"div\", {\n        className: childrenClass,\n        key: key,\n        ref: this.bindNodeRefs.bind(this, refKey)\n      }, React.createElement(CheckTreeNode, props), React.createElement(\"div\", {\n        className: this.addTreePrefix('children')\n      }, nodes.map(function (child) {\n        return _this10.renderNode(child, layer);\n      })));\n    }\n\n    return React.createElement(CheckTreeNode, _extends({\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n\n  _proto.renderVirtualNode = function renderVirtualNode(node, options) {\n    var _this$state6 = this.state,\n        activeNode = _this$state6.activeNode,\n        expandAll = _this$state6.expandAll;\n    var _this$props12 = this.props,\n        valueKey = _this$props12.valueKey,\n        labelKey = _this$props12.labelKey,\n        childrenKey = _this$props12.childrenKey,\n        renderTreeNode = _this$props12.renderTreeNode,\n        renderTreeIcon = _this$props12.renderTreeIcon,\n        cascade = _this$props12.cascade,\n        locale = _this$props12.locale;\n    var key = options.key,\n        style = options.style;\n    var layer = node.layer,\n        refKey = node.refKey,\n        expand = node.expand,\n        showNode = node.showNode;\n    var children = node[childrenKey];\n    var props = {\n      value: node[valueKey],\n      label: node[labelKey],\n      layer: layer,\n      expand: expand,\n      rtl: locale.rtl,\n      focus: activeNode ? shallowEqual(activeNode[valueKey], node[valueKey]) : false,\n      visible: node.visible,\n      disabled: getDisabledState(this.nodes, node, this.props),\n      nodeData: node,\n      children: children,\n      expandAll: expandAll,\n      checkState: this.getNodeCheckState(node, cascade),\n      parentNode: node.parentNode,\n      hasChildren: !!children,\n      uncheckable: node.uncheckable,\n      allUncheckable: getSiblingNodeUncheckable(node, this.nodes),\n      onSelect: this.handleSelect,\n      onTreeToggle: this.handleToggle,\n      onRenderTreeNode: renderTreeNode,\n      onRenderTreeIcon: renderTreeIcon\n    };\n    return showNode && React.createElement(CheckTreeNode, _extends({\n      style: style,\n      key: key,\n      innerRef: this.bindNodeRefs.bind(this, refKey)\n    }, props));\n  };\n\n  _proto.renderCheckTree = function renderCheckTree() {\n    var _classNames2,\n        _this11 = this,\n        _classNames3;\n\n    var _this$state7 = this.state,\n        filterData = _this$state7.filterData,\n        isSomeNodeHasChildren = _this$state7.isSomeNodeHasChildren;\n    var _this$props13 = this.props,\n        inline = _this$props13.inline,\n        style = _this$props13.style,\n        height = _this$props13.height,\n        className = _this$props13.className,\n        onScroll = _this$props13.onScroll,\n        locale = _this$props13.locale,\n        virtualized = _this$props13.virtualized,\n        searchable = _this$props13.searchable; // 树节点的层级\n\n    var layer = 0;\n    var classes = classNames(defaultClassPrefix('check-tree'), (_classNames2 = {}, _classNames2[className] = inline, _classNames2['without-children'] = !isSomeNodeHasChildren, _classNames2));\n    var formattedNodes = [];\n\n    if (!virtualized) {\n      formattedNodes = getFormattedTree(filterData, this.nodes, this.props).map(function (node) {\n        return _this11.renderNode(node, layer);\n      });\n\n      if (!formattedNodes.some(function (v) {\n        return v !== null;\n      })) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } else {\n      formattedNodes = this.getFlattenTreeData(filterData).filter(function (n) {\n        return n.showNode && n.visible;\n      });\n\n      if (!formattedNodes.length) {\n        return React.createElement(\"div\", {\n          className: this.addPrefix('none')\n        }, locale.noResultsText);\n      }\n    } // 当未定义 height 且 设置了 virtualized 为 true，treeHeight 设置默认高度\n\n\n    var treeHeight = _isUndefined(height) && virtualized ? defaultHeight : height;\n    var treeWidth = _isUndefined(style === null || style === void 0 ? void 0 : style.width) ? defaultWidth : style.width;\n    var styles = inline ? _extends({\n      height: treeHeight\n    }, style) : {};\n    var treeNodesClass = classNames(this.addTreePrefix('nodes'), (_classNames3 = {}, _classNames3[this.addTreePrefix('all-uncheckable')] = getEveryFisrtLevelNodeUncheckable(this.nodes), _classNames3));\n    var listHeight = getVirtualLisHeight(inline, searchable, treeHeight);\n    return React.createElement(\"div\", {\n      ref: this.treeViewRef,\n      className: classes,\n      style: styles,\n      onScroll: onScroll,\n      onKeyDown: this.handleKeyDown\n    }, React.createElement(\"div\", {\n      className: treeNodesClass\n    }, virtualized ? React.createElement(AutoSizer, {\n      defaultHeight: listHeight,\n      defaultWidth: treeWidth\n    }, function (_ref3) {\n      var height = _ref3.height,\n          width = _ref3.width;\n      return React.createElement(List, {\n        ref: _this11.listRef,\n        width: width || treeWidth,\n        height: height || listHeight,\n        rowHeight: 36,\n        rowCount: formattedNodes.length,\n        rowRenderer: _this11.measureRowRenderer(formattedNodes)\n      });\n    }) : formattedNodes));\n  };\n\n  _proto.render = function render() {\n    var _this$props14 = this.props,\n        cascade = _this$props14.cascade,\n        style = _this$props14.style,\n        locale = _this$props14.locale,\n        inline = _this$props14.inline,\n        disabled = _this$props14.disabled,\n        valueKey = _this$props14.valueKey,\n        labelKey = _this$props14.labelKey,\n        cleanable = _this$props14.cleanable,\n        countable = _this$props14.countable,\n        placeholder = _this$props14.placeholder,\n        toggleComponentClass = _this$props14.toggleComponentClass,\n        onExited = _this$props14.onExited,\n        onEntered = _this$props14.onEntered,\n        onClean = _this$props14.onClean,\n        renderValue = _this$props14.renderValue,\n        rest = _objectWithoutPropertiesLoose(_this$props14, [\"cascade\", \"style\", \"locale\", \"inline\", \"disabled\", \"valueKey\", \"labelKey\", \"cleanable\", \"countable\", \"placeholder\", \"toggleComponentClass\", \"onExited\", \"onEntered\", \"onClean\", \"renderValue\"]);\n\n    var _this$state8 = this.state,\n        hasValue = _this$state8.hasValue,\n        selectedValues = _this$state8.selectedValues;\n    var classes = getToggleWrapperClassName('check-tree', this.addPrefix, this.props, hasValue);\n    var selectedItems = this.getSelectedItems(selectedValues);\n    var selectedElement = placeholder;\n\n    if (hasValue && selectedValues.length) {\n      selectedElement = React.createElement(SelectedElement, {\n        selectedItems: selectedItems,\n        countable: countable,\n        valueKey: valueKey,\n        labelKey: labelKey,\n        prefix: this.addPrefix,\n        cascade: cascade,\n        locale: locale\n      });\n\n      if (renderValue) {\n        selectedElement = renderValue(selectedValues, selectedItems, selectedElement);\n      }\n    }\n\n    var unhandled = getUnhandledProps(CheckTreePicker, rest);\n\n    if (inline) {\n      return this.renderCheckTree();\n    }\n\n    return React.createElement(PickerToggleTrigger, {\n      pickerProps: this.props,\n      ref: this.triggerRef,\n      positionRef: this.positionRef,\n      onEntered: createChainedFunction(this.handleOnOpen, onEntered),\n      onExit: createChainedFunction(this.handleOnClose, onExited),\n      speaker: this.renderDropdownMenu()\n    }, React.createElement(\"div\", {\n      className: classes,\n      style: style\n    }, React.createElement(PickerToggle, _extends({}, unhandled, {\n      ref: this.toggleRef,\n      onKeyDown: this.handleToggleKeyDown,\n      onClean: createChainedFunction(this.handleClean, onClean),\n      componentClass: toggleComponentClass,\n      cleanable: cleanable && !disabled,\n      hasValue: hasValue,\n      active: this.state.active\n    }), selectedElement || locale.placeholder)));\n  };\n\n  return CheckTreePicker;\n}(React.Component);\n\nCheckTreePicker.propTypes = {\n  data: PropTypes.array,\n  open: PropTypes.bool,\n  block: PropTypes.bool,\n  style: PropTypes.object,\n  value: PropTypes.array,\n  height: PropTypes.number,\n  inline: PropTypes.bool,\n  locale: PropTypes.object,\n  cascade: PropTypes.bool,\n  disabled: PropTypes.bool,\n  valueKey: PropTypes.string,\n  labelKey: PropTypes.string,\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  className: PropTypes.string,\n  cleanable: PropTypes.bool,\n  countable: PropTypes.bool,\n  expandAll: PropTypes.bool,\n  placement: PropTypes.oneOf(PLACEMENT),\n  searchable: PropTypes.bool,\n  appearance: PropTypes.oneOf(['default', 'subtle']),\n  virtualized: PropTypes.bool,\n  classPrefix: PropTypes.string,\n  defaultOpen: PropTypes.bool,\n  childrenKey: PropTypes.string,\n  placeholder: PropTypes.node,\n  preventOverflow: PropTypes.bool,\n  defaultValue: PropTypes.array,\n  searchKeyword: PropTypes.string,\n  menuStyle: PropTypes.object,\n  menuClassName: PropTypes.string,\n  menuAutoWidth: PropTypes.bool,\n  defaultExpandAll: PropTypes.bool,\n  containerPadding: PropTypes.number,\n  disabledItemValues: PropTypes.array,\n  expandItemValues: PropTypes.array,\n  defaultExpandItemValues: PropTypes.array,\n  uncheckableItemValues: PropTypes.array,\n  toggleComponentClass: PropTypes.elementType,\n  onOpen: PropTypes.func,\n  onExit: PropTypes.func,\n  onEnter: PropTypes.func,\n  onClose: PropTypes.func,\n  onHide: PropTypes.func,\n  onSearch: PropTypes.func,\n  onChange: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSelect: PropTypes.func,\n  onScroll: PropTypes.func,\n  onClean: PropTypes.func,\n  onExited: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExiting: PropTypes.func,\n  onEntering: PropTypes.func,\n  renderMenu: PropTypes.func,\n  renderValue: PropTypes.func,\n  renderTreeNode: PropTypes.func,\n  renderTreeIcon: PropTypes.func,\n  renderExtraFooter: PropTypes.func,\n  searchBy: PropTypes.func\n};\nCheckTreePicker.defaultProps = {\n  locale: {\n    placeholder: 'Select',\n    searchPlaceholder: 'Search',\n    noResultsText: 'No results found',\n    checkAll: 'All'\n  },\n  cascade: true,\n  valueKey: 'value',\n  labelKey: 'label',\n  cleanable: true,\n  countable: true,\n  placement: 'bottomStart',\n  appearance: 'default',\n  searchable: true,\n  menuAutoWidth: true,\n  defaultValue: [],\n  childrenKey: 'children',\n  uncheckableItemValues: []\n};\npolyfill(CheckTreePicker);\nexport default defaultProps({\n  classPrefix: 'picker'\n})(CheckTreePicker);"]},"metadata":{},"sourceType":"module"}