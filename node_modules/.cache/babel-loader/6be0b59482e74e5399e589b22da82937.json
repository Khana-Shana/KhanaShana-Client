{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/profile/CustomerProfile.jsx\";\nimport React from \"react\";\nimport firebase_integration from \"../fire.js\";\nimport \"./profilestyles.css\";\nimport Header from \"../navigation/Header\";\nimport { Link } from \"react-router-dom\";\n\nfunction CustomerProfile() {\n  const [editname, seteditname] = React.useState(false);\n  const [editemail, seteditemail] = React.useState(false);\n  const [editnumber, seteditnumber] = React.useState(false);\n  const [editpassword, seteditpassword] = React.useState(false);\n  const [editgender, seteditgender] = React.useState(false);\n  const [ID, setID] = React.useState();\n  const [name, setname] = React.useState();\n  const [email, setemail] = React.useState();\n  const [number, setnumber] = React.useState();\n  const [dob, setdob] = React.useState();\n  const [password, setpassword] = React.useState();\n  const [gender, setgender] = React.useState();\n  React.useEffect(() => {\n    firebase_integration.database.collection(\"CustomerDatabase\").where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot(snapshot => {\n      console.log(firebase_integration.auth.currentUser);\n      var customerdata = {};\n      snapshot.docs.forEach(doc => {\n        customerdata = doc.data();\n      });\n      setID(customerdata.CustomerID);\n      setname(customerdata.Name);\n      setemail(customerdata.Email);\n      setnumber(customerdata.ContactNo);\n      setdob(customerdata.DOB.toDate().getDate() + \"-\" + customerdata.DOB.toDate().getMonth() + 1 + \"-\" + customerdata.DOB.toDate().getFullYear());\n      setpassword(customerdata.Password);\n      setgender(customerdata.Gender);\n    });\n  }, [ID]);\n\n  async function updatename(value) {\n    firebase_integration.auth.currentUser.updateProfile({\n      displayName: value\n    }).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Name: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updateemail(value) {\n    firebase_integration.auth.currentUser.updateEmail(value).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Email: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatenumber(value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      ContactNo: value\n    });\n  }\n\n  async function updatepassword(value) {\n    firebase_integration.auth.currentUser.updatePassword(value).then(function () {\n      alert(\"Your password has been updated\");\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updategender(value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      Gender: value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-9 order-lg-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"nav nav-tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    \"data-target\": \"#profile\",\n    \"data-toggle\": \"tab\",\n    class: \"nav-link active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Profile\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"./orderhistory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    //   href=\"\"\n    //   data-target=\"#messages\"\n    //   data-toggle=\"tab\"\n    class: \"nav-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Order History\"))), /*#__PURE__*/React.createElement(Link, {\n    to: \"./feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    //   href=\"\"\n    //   data-target=\"#edit\"\n    //   data-toggle=\"tab\"\n    class: \"nav-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"Feedback\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"tab-content py-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    role: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-2 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, \"Full name\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    value: \"Jane\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n    size: \"large\",\n    name: \"create-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-2 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"email\",\n    value: \"email@gmail.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n    size: \"large\",\n    name: \"create-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-2 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, \"Number\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    value: \"03009493838\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n    size: \"large\",\n    name: \"create-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-2 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 29\n    }\n  }, \"Date Of Birth\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    value: \"23/12/1998\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-3 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    value: \"\",\n    placeholder: \"Street\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-3 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 29\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"password\",\n    value: \"11111122333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-3 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, \"Confirm password\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control\",\n    type: \"password\",\n    value: \"11111122333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"col-lg-3 col-form-label form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"reset\",\n    class: \"btn btn-secondary\",\n    value: \"Cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    value: \"Save Changes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  })))))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-lg-4 order-lg-1 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profilepic\",\n    className: \"mx-auto img-fluid img-circle d-block\",\n    alt: \"ProfilePicture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }), firebase_integration.getImageURL(\"profilepic\", \"CustomerProfile\", \"\", \"profilepic.svg\"))));\n}\n\nexport default CustomerProfile;","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/profile/CustomerProfile.jsx"],"names":["React","firebase_integration","Header","Link","CustomerProfile","editname","seteditname","useState","editemail","seteditemail","editnumber","seteditnumber","editpassword","seteditpassword","editgender","seteditgender","ID","setID","name","setname","email","setemail","number","setnumber","dob","setdob","password","setpassword","gender","setgender","useEffect","database","collection","where","auth","currentUser","uid","toString","onSnapshot","snapshot","console","log","customerdata","docs","forEach","doc","data","CustomerID","Name","Email","ContactNo","DOB","toDate","getDate","getMonth","getFullYear","Password","Gender","updatename","value","updateProfile","displayName","then","update","catch","error","alert","message","updateemail","updateEmail","updatenumber","updatepassword","updatePassword","updategender","getImageURL"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AACA,OAAO,qBAAP;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AACA,SAASC,eAAT,GAA2B;AACzB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,KAAK,CAACO,QAAN,CAAe,KAAf,CAAhC;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BT,KAAK,CAACO,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAACG,UAAD,EAAaC,aAAb,IAA8BX,KAAK,CAACO,QAAN,CAAe,KAAf,CAApC;AACA,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkCb,KAAK,CAACO,QAAN,CAAe,KAAf,CAAxC;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8Bf,KAAK,CAACO,QAAN,CAAe,KAAf,CAApC;AACA,QAAM,CAACS,EAAD,EAAKC,KAAL,IAAcjB,KAAK,CAACO,QAAN,EAApB;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBnB,KAAK,CAACO,QAAN,EAAxB;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBrB,KAAK,CAACO,QAAN,EAA1B;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBvB,KAAK,CAACO,QAAN,EAA5B;AACA,QAAM,CAACiB,GAAD,EAAMC,MAAN,IAAgBzB,KAAK,CAACO,QAAN,EAAtB;AACA,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0B3B,KAAK,CAACO,QAAN,EAAhC;AACA,QAAM,CAACqB,MAAD,EAASC,SAAT,IAAsB7B,KAAK,CAACO,QAAN,EAA5B;AAEAP,EAAAA,KAAK,CAAC8B,SAAN,CAAgB,MAAM;AACpB7B,IAAAA,oBAAoB,CAAC8B,QAArB,CACGC,UADH,CACc,kBADd,EAEGC,KAFH,CAGI,YAHJ,EAII,IAJJ,EAKIhC,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CAAsCC,GAAtC,CAA0CC,QAA1C,EALJ,EAOGC,UAPH,CAOeC,QAAD,IAAc;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYxC,oBAAoB,CAACiC,IAArB,CAA0BC,WAAtC;AACA,UAAIO,YAAY,GAAG,EAAnB;AACAH,MAAAA,QAAQ,CAACI,IAAT,CAAcC,OAAd,CAAuBC,GAAD,IAAS;AAC7BH,QAAAA,YAAY,GAAGG,GAAG,CAACC,IAAJ,EAAf;AACD,OAFD;AAGA7B,MAAAA,KAAK,CAACyB,YAAY,CAACK,UAAd,CAAL;AACA5B,MAAAA,OAAO,CAACuB,YAAY,CAACM,IAAd,CAAP;AACA3B,MAAAA,QAAQ,CAACqB,YAAY,CAACO,KAAd,CAAR;AACA1B,MAAAA,SAAS,CAACmB,YAAY,CAACQ,SAAd,CAAT;AACAzB,MAAAA,MAAM,CACJiB,YAAY,CAACS,GAAb,CAAiBC,MAAjB,GAA0BC,OAA1B,KACE,GADF,GAEEX,YAAY,CAACS,GAAb,CAAiBC,MAAjB,GAA0BE,QAA1B,EAFF,GAGE,CAHF,GAIE,GAJF,GAKEZ,YAAY,CAACS,GAAb,CAAiBC,MAAjB,GAA0BG,WAA1B,EANE,CAAN;AAQA5B,MAAAA,WAAW,CAACe,YAAY,CAACc,QAAd,CAAX;AACA3B,MAAAA,SAAS,CAACa,YAAY,CAACe,MAAd,CAAT;AACD,KA3BH;AA4BD,GA7BD,EA6BG,CAACzC,EAAD,CA7BH;;AA+BA,iBAAe0C,UAAf,CAA0BC,KAA1B,EAAiC;AAC/B1D,IAAAA,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CACGyB,aADH,CACiB;AACbC,MAAAA,WAAW,EAAEF;AADA,KADjB,EAIGG,IAJH,CAIQ,YAAY;AAChB7D,MAAAA,oBAAoB,CAAC8B,QAArB,CACGC,UADH,CACc,kBADd,EAEGa,GAFH,CAEO5C,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CAAsCC,GAAtC,CAA0CC,QAA1C,EAFP,EAGG0B,MAHH,CAGU;AACNf,QAAAA,IAAI,EAAEW;AADA,OAHV;AAMD,KAXH,EAYGK,KAZH,CAYS,UAAUC,KAAV,EAAiB;AACtBC,MAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACD,KAdH;AAeD;;AACD,iBAAeC,WAAf,CAA2BT,KAA3B,EAAkC;AAChC1D,IAAAA,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CACGkC,WADH,CACeV,KADf,EAEGG,IAFH,CAEQ,YAAY;AAChB7D,MAAAA,oBAAoB,CAAC8B,QAArB,CACGC,UADH,CACc,kBADd,EAEGa,GAFH,CAEO5C,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CAAsCC,GAAtC,CAA0CC,QAA1C,EAFP,EAGG0B,MAHH,CAGU;AACNd,QAAAA,KAAK,EAAEU;AADD,OAHV;AAMD,KATH,EAUGK,KAVH,CAUS,UAAUC,KAAV,EAAiB;AACtBC,MAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACD,KAZH;AAaD;;AACD,iBAAeG,YAAf,CAA4BX,KAA5B,EAAmC;AACjC1D,IAAAA,oBAAoB,CAAC8B,QAArB,CACGC,UADH,CACc,kBADd,EAEGa,GAFH,CAEO5C,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CAAsCC,GAAtC,CAA0CC,QAA1C,EAFP,EAGG0B,MAHH,CAGU;AACNb,MAAAA,SAAS,EAAES;AADL,KAHV;AAMD;;AACD,iBAAeY,cAAf,CAA8BZ,KAA9B,EAAqC;AACnC1D,IAAAA,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CACGqC,cADH,CACkBb,KADlB,EAEGG,IAFH,CAEQ,YAAY;AAChBI,MAAAA,KAAK,CAAC,gCAAD,CAAL;AACD,KAJH,EAKGF,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBC,MAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACD,KAPH;AAQD;;AACD,iBAAeM,YAAf,CAA4Bd,KAA5B,EAAmC;AACjC1D,IAAAA,oBAAoB,CAAC8B,QAArB,CACGC,UADH,CACc,kBADd,EAEGa,GAFH,CAEO5C,oBAAoB,CAACiC,IAArB,CAA0BC,WAA1B,CAAsCC,GAAtC,CAA0CC,QAA1C,EAFP,EAGG0B,MAHH,CAGU;AACNN,MAAAA,MAAM,EAAEE;AADF,KAHV;AAMD;;AACD,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAC,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAC,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,EADP;AAEE,mBAAY,UAFd;AAGE,mBAAY,KAHd;AAIE,IAAA,KAAK,EAAC,iBAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,eAWE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAI,IAAA,KAAK,EAAC,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACA;AACA;AACA;AACE,IAAA,KAAK,EAAC,UAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADA,CAXF,eAuBE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAI,IAAA,KAAK,EAAC,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACA;AACA;AACA;AACE,IAAA,KAAK,EAAC,UAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADA,CAvBF,CADF,eAsCE;AAAK,IAAA,KAAK,EAAC,kBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ;AAAM,IAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,MAAjC;AAAwC,IAAA,KAAK,EAAC,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,eAMI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAU,IAAA,IAAI,EAAC,OAAf;AAAuB,IAAA,IAAI,EAAC,gBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CANJ,CADJ,eAYI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,OAAjC;AAAyC,IAAA,KAAK,EAAC,iBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,eAKI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAU,IAAA,IAAI,EAAC,OAAf;AAAuB,IAAA,IAAI,EAAC,gBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,CAZJ,eAsBI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,MAAjC;AAAwC,IAAA,KAAK,EAAC,aAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,eAKI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAU,IAAA,IAAI,EAAC,OAAf;AAAuB,IAAA,IAAI,EAAC,gBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,CAtBJ,eAgCI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,MAAjC;AAAwC,IAAA,KAAK,EAAC,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CAhCJ,eAsCI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,MAAjC;AAAwC,IAAA,KAAK,EAAC,EAA9C;AAAiD,IAAA,WAAW,EAAC,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CAtCJ,eA4CI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,UAAjC;AAA4C,IAAA,KAAK,EAAC,aAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CA5CJ,eAkDI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,cAAb;AAA4B,IAAA,IAAI,EAAC,UAAjC;AAA4C,IAAA,KAAK,EAAC,aAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CAlDJ,eAwDI;AAAK,IAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,KAAK,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,KAAK,EAAC,mBAA1B;AAA8C,IAAA,KAAK,EAAC,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,iBAA3B;AAA6C,IAAA,KAAK,EAAC,cAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAFJ,CAxDJ,CADR,CADA,CAtCF,CADF,CADF,eA8GE;AAAK,IAAA,KAAK,EAAC,iCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,SAAS,EAAC,sCAFZ;AAGE,IAAA,GAAG,EAAC,gBAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAMG1D,oBAAoB,CAACyE,WAArB,CACC,YADD,EAEC,iBAFD,EAGC,EAHD,EAIC,gBAJD,CANH,CA9GF,CAFF,CADF;AAkID;;AACD,eAAetE,eAAf","sourcesContent":["import React from \"react\";\r\nimport firebase_integration from \"../fire.js\";\r\nimport \"./profilestyles.css\";\r\nimport Header from \"../navigation/Header\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction CustomerProfile() {\r\n  const [editname, seteditname] = React.useState(false);\r\n  const [editemail, seteditemail] = React.useState(false);\r\n  const [editnumber, seteditnumber] = React.useState(false);\r\n  const [editpassword, seteditpassword] = React.useState(false);\r\n  const [editgender, seteditgender] = React.useState(false);\r\n  const [ID, setID] = React.useState();\r\n  const [name, setname] = React.useState();\r\n  const [email, setemail] = React.useState();\r\n  const [number, setnumber] = React.useState();\r\n  const [dob, setdob] = React.useState();\r\n  const [password, setpassword] = React.useState();\r\n  const [gender, setgender] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    firebase_integration.database\r\n      .collection(\"CustomerDatabase\")\r\n      .where(\r\n        \"CustomerID\",\r\n        \"==\",\r\n        firebase_integration.auth.currentUser.uid.toString()\r\n      )\r\n      .onSnapshot((snapshot) => {\r\n        console.log(firebase_integration.auth.currentUser);\r\n        var customerdata = {};\r\n        snapshot.docs.forEach((doc) => {\r\n          customerdata = doc.data();\r\n        });\r\n        setID(customerdata.CustomerID);\r\n        setname(customerdata.Name);\r\n        setemail(customerdata.Email);\r\n        setnumber(customerdata.ContactNo);\r\n        setdob(\r\n          customerdata.DOB.toDate().getDate() +\r\n            \"-\" +\r\n            customerdata.DOB.toDate().getMonth() +\r\n            1 +\r\n            \"-\" +\r\n            customerdata.DOB.toDate().getFullYear()\r\n        );\r\n        setpassword(customerdata.Password);\r\n        setgender(customerdata.Gender);\r\n      });\r\n  }, [ID]);\r\n\r\n  async function updatename(value) {\r\n    firebase_integration.auth.currentUser\r\n      .updateProfile({\r\n        displayName: value,\r\n      })\r\n      .then(function () {\r\n        firebase_integration.database\r\n          .collection(\"CustomerDatabase\")\r\n          .doc(firebase_integration.auth.currentUser.uid.toString())\r\n          .update({\r\n            Name: value,\r\n          });\r\n      })\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  }\r\n  async function updateemail(value) {\r\n    firebase_integration.auth.currentUser\r\n      .updateEmail(value)\r\n      .then(function () {\r\n        firebase_integration.database\r\n          .collection(\"CustomerDatabase\")\r\n          .doc(firebase_integration.auth.currentUser.uid.toString())\r\n          .update({\r\n            Email: value,\r\n          });\r\n      })\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  }\r\n  async function updatenumber(value) {\r\n    firebase_integration.database\r\n      .collection(\"CustomerDatabase\")\r\n      .doc(firebase_integration.auth.currentUser.uid.toString())\r\n      .update({\r\n        ContactNo: value,\r\n      });\r\n  }\r\n  async function updatepassword(value) {\r\n    firebase_integration.auth.currentUser\r\n      .updatePassword(value)\r\n      .then(function () {\r\n        alert(\"Your password has been updated\");\r\n      })\r\n      .catch(function (error) {\r\n        alert(error.message);\r\n      });\r\n  }\r\n  async function updategender(value) {\r\n    firebase_integration.database\r\n      .collection(\"CustomerDatabase\")\r\n      .doc(firebase_integration.auth.currentUser.uid.toString())\r\n      .update({\r\n        Gender: value,\r\n      });\r\n  }\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div class=\"container\">\r\n        <div class=\"row my-2\">\r\n          <div class=\"col-lg-9 order-lg-2\">\r\n            <ul class=\"nav nav-tabs\">\r\n              <li class=\"nav-item\">\r\n                <a\r\n                  href=\"\"\r\n                  data-target=\"#profile\"\r\n                  data-toggle=\"tab\"\r\n                  class=\"nav-link active\"\r\n                >\r\n                  Profile\r\n                </a>\r\n              </li>\r\n              <Link to = \"./orderhistory\">\r\n              <li class=\"nav-item\">\r\n                <a\r\n                //   href=\"\"\r\n                //   data-target=\"#messages\"\r\n                //   data-toggle=\"tab\"\r\n                  class=\"nav-link\"\r\n                >\r\n                  Order History\r\n                </a>\r\n              </li>\r\n              </Link>\r\n              <Link to = \"./feedback\">\r\n              <li class=\"nav-item\">\r\n                <a\r\n                //   href=\"\"\r\n                //   data-target=\"#edit\"\r\n                //   data-toggle=\"tab\"\r\n                  class=\"nav-link\"\r\n                >\r\n                  Feedback\r\n                </a>\r\n              </li>\r\n              </Link>\r\n            </ul>\r\n\r\n            <div class=\"tab-content py-8\">\r\n            <div id=\"edit\">\r\n                    <form role=\"form\">\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-2 col-form-label form-control-label\">Full name</label>\r\n                            <div class=\"col-lg-8\">\r\n                                <input class=\"form-control\" type=\"text\" value=\"Jane\"/>\r\n                                {/* <ion-icon size=\"large\" name=\"create-outline\"></ion-icon> */}\r\n                            </div>\r\n                            <div class=\"col-lg-1\">\r\n                                {/* <input class=\"form-control\" type=\"text\" value=\"Jane\"/> */}\r\n                                <ion-icon size=\"large\" name=\"create-outline\"></ion-icon>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-2 col-form-label form-control-label\">Email</label>\r\n                            <div class=\"col-lg-8\">\r\n                                <input class=\"form-control\" type=\"email\" value=\"email@gmail.com\"/>\r\n                            </div>\r\n                            <div class=\"col-lg-1\">\r\n                                {/* <input class=\"form-control\" type=\"text\" value=\"Jane\"/> */}\r\n                                <ion-icon size=\"large\" name=\"create-outline\"></ion-icon>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-2 col-form-label form-control-label\">Number</label>\r\n                            <div class=\"col-lg-8\">\r\n                                <input class=\"form-control\" type=\"text\" value=\"03009493838\"/>\r\n                            </div>\r\n                            <div class=\"col-lg-1\">\r\n                                {/* <input class=\"form-control\" type=\"text\" value=\"Jane\"/> */}\r\n                                <ion-icon size=\"large\" name=\"create-outline\"></ion-icon>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-2 col-form-label form-control-label\">Date Of Birth</label>\r\n                            <div class=\"col-lg-8\">\r\n                                <input class=\"form-control\" type=\"text\" value=\"23/12/1998\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-3 col-form-label form-control-label\">Gender</label>\r\n                            <div class=\"col-lg-9\">\r\n                                <input class=\"form-control\" type=\"text\" value=\"\" placeholder=\"Street\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-3 col-form-label form-control-label\">Password</label>\r\n                            <div class=\"col-lg-9\">\r\n                                <input class=\"form-control\" type=\"password\" value=\"11111122333\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-3 col-form-label form-control-label\">Confirm password</label>\r\n                            <div class=\"col-lg-9\">\r\n                                <input class=\"form-control\" type=\"password\" value=\"11111122333\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                            <label class=\"col-lg-3 col-form-label form-control-label\"></label>\r\n                            <div class=\"col-lg-9\">\r\n                                <input type=\"reset\" class=\"btn btn-secondary\" value=\"Cancel\"/>\r\n                                <input type=\"button\" class=\"btn btn-primary\" value=\"Save Changes\"/>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 order-lg-1 text-center\">\r\n          <img\r\n            id=\"profilepic\"\r\n            className=\"mx-auto img-fluid img-circle d-block\"\r\n            alt=\"ProfilePicture\"\r\n          />\r\n          {firebase_integration.getImageURL(\r\n            \"profilepic\",\r\n            \"CustomerProfile\",\r\n            \"\",\r\n            \"profilepic.svg\"\r\n          )}\r\n          {/* <img src=\"//placehold.it/150\" class=\"mx-auto img-fluid img-circle d-block\" alt=\"avatar\"/> */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CustomerProfile;\r\n"]},"metadata":{},"sourceType":"module"}