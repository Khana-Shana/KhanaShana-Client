{"ast":null,"code":"import { ADD_TO_CART, REMOVE_ITEM, DEC_CART, INC_CART, FETCH_ITEMS } from '../actions/cart-action-types';\nimport img1 from '../images/4.jpg';\nimport img2 from '../images/8.jpg';\nimport img3 from '../images/9.jpg';\nimport img4 from '../images/5.png';\nimport img5 from '../images/1.jpg';\nimport img6 from '../images/7.jpg';\nconst initState = {\n  items: [{\n    DishID: 0,\n    Name: 'Winter body',\n    PrepTime: \"30mins\",\n    SalePrice: 110,\n    img: Item1\n  }, {\n    DishID: 1,\n    Name: 'AdDishIDas',\n    PrepTime: \"30mins\",\n    SalePrice: 80,\n    img: Item2\n  }, {\n    DishID: 2,\n    Name: 'Vans',\n    PrepTime: \"30mins\",\n    SalePrice: 120,\n    img: Item3\n  }, {\n    DishID: 3,\n    Name: 'White',\n    PrepTime: \"30mins\",\n    SalePrice: 260,\n    img: Item4\n  }, {\n    DishID: 4,\n    Name: 'Cropped-sho',\n    PrepTime: \"30mins\",\n    SalePrice: 160,\n    img: Item5\n  }, {\n    DishID: 5,\n    Name: 'Blues',\n    PrepTime: \"30mins\",\n    SalePrice: 90,\n    img: Item6\n  }],\n  cart: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  //INSIDE HOME COMPONENT\n  if (action.type === ADD_TO_CART) {\n    console.log(state.items);\n    let fooditem = state.items.find(item => item.DishID === action.payload); //   console.log(action.payload);\n    //   console.log(item.DishID);\n    //check if the action.payload exists in the cart\n\n    let existed_item = state.cart.find(item => action.payload === item.DishID);\n\n    if (existed_item) {\n      fooditem.quantity += 1;\n      return { ...state,\n        total: state.total + fooditem.SalePrice\n      };\n    } else {\n      fooditem.quantity = 1; //calculating the total\n\n      let newTotal = state.total + fooditem.SalePrice;\n      return { ...state,\n        cart: [...state.cart, fooditem],\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.cart.find(item => action.payload === item.DishID);\n    let new_items = state.cart.filter(item => action.payload !== item.DishID); //calculating the total\n\n    let newTotal = state.total - itemToRemove.SalePrice * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return { ...state,\n      cart: new_items,\n      total: newTotal\n    };\n  } //INSIDE CART COMPONENT\n\n\n  if (action.type === INC_CART) {\n    // console.log(action.payload)\n    let fooditem = state.items.find(item => item.DishID === action.payload);\n    fooditem.quantity += 1;\n    console.log(fooditem);\n    let newTotal = state.total + fooditem.SalePrice;\n    return { ...state,\n      total: newTotal\n    };\n  }\n\n  if (action.type === DEC_CART) {\n    let fooditem = state.items.find(item => item.DishID === action.payload); //if the qt == 0 then it should be removed\n\n    if (fooditem.quantity === 1) {\n      let new_items = state.cart.filter(item => item.DishID !== action.payload);\n      let newTotal = state.total - fooditem.SalePrice;\n      return { ...state,\n        cart: new_items,\n        total: newTotal\n      };\n    } else {\n      fooditem.quantity -= 1;\n      let newTotal = state.total - fooditem.SalePrice;\n      return { ...state,\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === FETCH_ITEMS) {\n    return { ...state,\n      items: action.payload\n    };\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/order/reducers/reducer.jsx"],"names":["ADD_TO_CART","REMOVE_ITEM","DEC_CART","INC_CART","FETCH_ITEMS","img1","img2","img3","img4","img5","img6","initState","items","DishID","Name","PrepTime","SalePrice","img","Item1","Item2","Item3","Item4","Item5","Item6","cart","total","cartReducer","state","action","type","console","log","fooditem","find","item","payload","existed_item","quantity","newTotal","itemToRemove","new_items","filter"],"mappings":"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","sourcesContent":["import { ADD_TO_CART,REMOVE_ITEM,DEC_CART,INC_CART, FETCH_ITEMS } from '../actions/cart-action-types';\r\nimport img1 from '../images/4.jpg'\r\nimport img2 from '../images/8.jpg'\r\nimport img3 from '../images/9.jpg'\r\nimport img4 from '../images/5.png'\r\nimport img5 from '../images/1.jpg'\r\nimport img6 from '../images/7.jpg'\r\n\r\n\r\n\r\nconst initState = {\r\n    items: [{DishID:0,Name:'Winter body', PrepTime: \"30mins\", SalePrice:110,img:Item1},\r\n    {DishID:1,Name:'AdDishIDas', PrepTime: \"30mins\", SalePrice:80,img: Item2},\r\n    {DishID:2,Name:'Vans', PrepTime: \"30mins\",SalePrice:120,img: Item3},\r\n    {DishID:3,Name:'White', PrepTime: \"30mins\", SalePrice:260,img:Item4},\r\n    {DishID:4,Name:'Cropped-sho', PrepTime: \"30mins\", SalePrice:160,img: Item5},\r\n    {DishID:5,Name:'Blues', PrepTime: \"30mins\",SalePrice:90,img: Item6}],\r\n    cart:[],\r\n    total: 0\r\n\r\n}\r\n\r\nconst cartReducer= (state = initState,action)=>{\r\n   \r\n    //INSIDE HOME COMPONENT\r\n    if(action.type === ADD_TO_CART){\r\n        console.log(state.items)\r\n          let fooditem = state.items.find(item=> item.DishID === action.payload)\r\n        //   console.log(action.payload);\r\n        //   console.log(item.DishID);\r\n          //check if the action.payload exists in the cart\r\n         let existed_item= state.cart.find(item=> action.payload === item.DishID)\r\n         if(existed_item)\r\n         {\r\n            fooditem.quantity += 1 \r\n             return{\r\n                ...state,\r\n                 total: state.total + fooditem.SalePrice \r\n                  }\r\n        }\r\n         else{\r\n            fooditem.quantity = 1;\r\n            //calculating the total\r\n            let newTotal = state.total + fooditem.SalePrice \r\n            \r\n            return{\r\n                ...state,\r\n                cart: [...state.cart, fooditem],\r\n                total : newTotal\r\n            }\r\n            \r\n        }\r\n    }\r\n    if(action.type === REMOVE_ITEM){\r\n        let itemToRemove= state.cart.find(item=> action.payload === item.DishID)\r\n        let new_items = state.cart.filter(item=> action.payload !== item.DishID)\r\n        \r\n        //calculating the total\r\n        let newTotal = state.total - (itemToRemove.SalePrice * itemToRemove.quantity )\r\n        console.log(itemToRemove)\r\n        return{\r\n            ...state,\r\n            cart: new_items,\r\n            total: newTotal\r\n        }\r\n    }\r\n    //INSIDE CART COMPONENT\r\n    if(action.type=== INC_CART){\r\n        // console.log(action.payload)\r\n        let fooditem = state.items.find(item=> item.DishID === action.payload)\r\n          fooditem.quantity += 1 \r\n          console.log(fooditem);\r\n          let newTotal = state.total + fooditem.SalePrice\r\n          return{\r\n              ...state,\r\n              total: newTotal\r\n          }\r\n    }\r\n    if(action.type=== DEC_CART){  \r\n        let fooditem = state.items.find(item=> item.DishID === action.payload) \r\n        //if the qt == 0 then it should be removed\r\n        if(fooditem.quantity === 1){\r\n            let new_items = state.cart.filter(item=>item.DishID !== action.payload)\r\n            let newTotal = state.total - fooditem.SalePrice\r\n            return{\r\n                ...state,\r\n                cart: new_items,\r\n                total: newTotal\r\n            }\r\n        }\r\n        else {\r\n            fooditem.quantity -= 1\r\n            let newTotal = state.total - fooditem.SalePrice\r\n            return{\r\n                ...state,\r\n                total: newTotal\r\n            }\r\n        }\r\n        \r\n    }\r\n    if(action.type=== FETCH_ITEMS)\r\n    {\r\n        return{\r\n            ...state,\r\n            items: action.payload\r\n        }\r\n    }\r\n    \r\n  else{\r\n    return state\r\n    }\r\n    \r\n}\r\n\r\nexport default cartReducer\r\n"]},"metadata":{},"sourceType":"module"}