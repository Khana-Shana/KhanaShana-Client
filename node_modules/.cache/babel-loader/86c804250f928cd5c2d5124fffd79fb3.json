{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _pick from \"lodash/pick\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport setStatic from 'recompose/setStatic';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport BaseModal from './BaseModal';\nimport Bounce from '../Animation/Bounce';\nimport { on, getHeight } from 'dom-lib';\nimport { prefix, defaultProps, createChainedFunction } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { SIZE } from '../constants';\nimport ModalContext from './ModalContext';\nimport mergeRefs from '../utils/mergeRefs';\nvar BACKDROP_TRANSITION_DURATION = 150;\n\nvar Modal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Modal, _React$Component); // for test\n\n\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.dialogElement = void 0;\n    _this.modalRef = void 0;\n    _this.windowResizeListener = null;\n    _this.contentElement = null;\n\n    _this.getBodyStyles = function () {\n      return _this.state.bodyStyles;\n    };\n\n    _this.bindDialogRef = function (ref) {\n      _this.dialogElement = ref;\n    };\n\n    _this.handleShow = function () {\n      var dialogElement = _this.dialogElement;\n\n      _this.updateModalStyles(dialogElement);\n\n      _this.contentElement = dialogElement.querySelector(\".\" + _this.addPrefix('content'));\n      _this.windowResizeListener = on(window, 'resize', _this.handleResize);\n      bindElementResize(_this.contentElement, _this.handleResize);\n    };\n\n    _this.handleHide = function () {\n      _this.destroyEvent();\n    };\n\n    _this.handleDialogClick = function (event) {\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      var onHide = _this.props.onHide;\n      onHide && onHide(event);\n    };\n\n    _this.handleResize = function () {\n      _this.updateModalStyles(_this.dialogElement);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.state = {\n      bodyStyles: {}\n    };\n    _this.modalRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.destroyEvent();\n  };\n\n  _proto.getBodyStylesByDialog = function getBodyStylesByDialog(dialogElement) {\n    var _this$props = this.props,\n        overflow = _this$props.overflow,\n        drawer = _this$props.drawer;\n    var node = dialogElement || this.dialogElement;\n    var scrollHeight = node ? node.scrollHeight : 0;\n\n    if (!overflow) {\n      return {};\n    }\n\n    var bodyStyles = {\n      overflow: 'auto'\n    };\n\n    if (node) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = node.querySelector(\".\" + this.addPrefix('header'));\n      var footerDOM = node.querySelector(\".\" + this.addPrefix('footer'));\n      var contentDOM = node.querySelector(\".\" + this.addPrefix('content'));\n      headerHeight = headerDOM ? getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        bodyStyles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + 60;\n        var bodyHeight = getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        bodyStyles.maxHeight = maxHeight;\n      }\n    }\n\n    return bodyStyles;\n  };\n\n  _proto.destroyEvent = function destroyEvent() {\n    if (this.windowResizeListener) {\n      this.windowResizeListener.off();\n    }\n\n    if (this.contentElement) {\n      unbindElementResize(this.contentElement);\n    }\n  };\n\n  _proto.updateModalStyles = function updateModalStyles(dialogElement) {\n    this.setState({\n      bodyStyles: this.getBodyStylesByDialog(dialogElement)\n    });\n  };\n\n  _proto.render = function render() {\n    var _classNames,\n        _classNames2,\n        _this2 = this;\n\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        children = _this$props2.children,\n        dialogClassName = _this$props2.dialogClassName,\n        backdropClassName = _this$props2.backdropClassName,\n        dialogStyle = _this$props2.dialogStyle,\n        animation = _this$props2.animation,\n        classPrefix = _this$props2.classPrefix,\n        show = _this$props2.show,\n        size = _this$props2.size,\n        full = _this$props2.full,\n        dialogComponentClass = _this$props2.dialogComponentClass,\n        animationProps = _this$props2.animationProps,\n        animationTimeout = _this$props2.animationTimeout,\n        onHide = _this$props2.onHide,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"className\", \"children\", \"dialogClassName\", \"backdropClassName\", \"dialogStyle\", \"animation\", \"classPrefix\", \"show\", \"size\", \"full\", \"dialogComponentClass\", \"animationProps\", \"animationTimeout\", \"onHide\"]);\n\n    var inClass = {\n      in: show && !animation\n    };\n    var Dialog = dialogComponentClass;\n    var classes = classNames(this.addPrefix(size), className, (_classNames = {}, _classNames[this.addPrefix('full')] = full, _classNames));\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        onModalHide: onHide,\n        getBodyStyles: this.getBodyStyles\n      }\n    }, React.createElement(BaseModal, _extends({}, rest, {\n      ref: this.modalRef,\n      show: show,\n      onHide: onHide,\n      className: this.addPrefix('wrapper'),\n      onEntering: createChainedFunction(this.handleShow, this.props.onEntering),\n      onExited: createChainedFunction(this.handleHide, this.props.onExited),\n      backdropClassName: classNames(this.addPrefix('backdrop'), backdropClassName, inClass),\n      containerClassName: classNames(this.addPrefix('open'), (_classNames2 = {}, _classNames2[this.addPrefix('has-backdrop')] = rest.backdrop, _classNames2)),\n      transition: animation ? animation : undefined,\n      animationProps: animationProps,\n      dialogTransitionTimeout: animationTimeout,\n      backdropTransitionTimeout: BACKDROP_TRANSITION_DURATION\n    }), function (transitionProps, ref) {\n      var transitionClassName = transitionProps.className,\n          transitionRest = _objectWithoutPropertiesLoose(transitionProps, [\"className\"]);\n\n      return React.createElement(Dialog, _extends({}, transitionRest, _pick(rest, Object.keys(modalDialogPropTypes)), {\n        classPrefix: classPrefix,\n        className: classNames(classes, transitionClassName),\n        dialogClassName: dialogClassName,\n        dialogStyle: dialogStyle,\n        onClick: rest.backdrop === true ? _this2.handleDialogClick : null,\n        dialogRef: mergeRefs(_this2.bindDialogRef, ref)\n      }), children);\n    }));\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  classPrefix: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  onRendered: PropTypes.func,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  dialogClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  style: PropTypes.object,\n  dialogStyle: PropTypes.object,\n  backdropStyle: PropTypes.object,\n  show: PropTypes.bool,\n  full: PropTypes.bool,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  keyboard: PropTypes.bool,\n  transition: PropTypes.elementType,\n  dialogTransitionTimeout: PropTypes.number,\n  backdropTransitionTimeout: PropTypes.number,\n  autoFocus: PropTypes.bool,\n  enforceFocus: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool,\n  dialogComponentClass: PropTypes.elementType,\n  animation: PropTypes.any,\n  animationProps: PropTypes.object,\n  animationTimeout: PropTypes.number,\n  onEscapeKeyUp: PropTypes.func,\n  onBackdropClick: PropTypes.func,\n  onShow: PropTypes.func,\n  onHide: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n};\nModal.defaultProps = {\n  size: 'sm',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  animation: Bounce,\n  animationTimeout: 300,\n  dialogComponentClass: ModalDialog,\n  overflow: true\n};\nvar EnhancedModal = defaultProps({\n  classPrefix: 'modal'\n})(Modal);\nsetStatic('Body', ModalBody)(EnhancedModal);\nsetStatic('Header', ModalHeader)(EnhancedModal);\nsetStatic('Title', ModalTitle)(EnhancedModal);\nsetStatic('Footer', ModalFooter)(EnhancedModal);\nsetStatic('Dialog', ModalDialog)(EnhancedModal);\nexport default EnhancedModal;","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/node_modules/rsuite/es/Modal/Modal.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","_pick","React","PropTypes","classNames","setStatic","bindElementResize","unbind","unbindElementResize","BaseModal","Bounce","on","getHeight","prefix","defaultProps","createChainedFunction","ModalDialog","modalDialogPropTypes","ModalBody","ModalHeader","ModalTitle","ModalFooter","SIZE","ModalContext","mergeRefs","BACKDROP_TRANSITION_DURATION","Modal","_React$Component","props","_this","call","dialogElement","modalRef","windowResizeListener","contentElement","getBodyStyles","state","bodyStyles","bindDialogRef","ref","handleShow","updateModalStyles","querySelector","addPrefix","window","handleResize","handleHide","destroyEvent","handleDialogClick","event","target","currentTarget","onHide","name","classPrefix","createRef","_proto","prototype","componentWillUnmount","getBodyStylesByDialog","_this$props","overflow","drawer","node","scrollHeight","headerHeight","footerHeight","contentHeight","headerDOM","footerDOM","contentDOM","height","excludeHeight","bodyHeight","maxHeight","off","setState","render","_classNames","_classNames2","_this2","_this$props2","className","children","dialogClassName","backdropClassName","dialogStyle","animation","show","size","full","dialogComponentClass","animationProps","animationTimeout","rest","inClass","in","Dialog","classes","createElement","Provider","value","onModalHide","onEntering","onExited","containerClassName","backdrop","transition","undefined","dialogTransitionTimeout","backdropTransitionTimeout","transitionProps","transitionClassName","transitionRest","Object","keys","onClick","dialogRef","Component","propTypes","string","oneOf","container","oneOfType","func","onRendered","style","object","backdropStyle","bool","keyboard","elementType","number","autoFocus","enforceFocus","any","onEscapeKeyUp","onBackdropClick","onShow","onEnter","onEntered","onExit","onExiting","EnhancedModal"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _pick from \"lodash/pick\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport setStatic from 'recompose/setStatic';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport BaseModal from './BaseModal';\nimport Bounce from '../Animation/Bounce';\nimport { on, getHeight } from 'dom-lib';\nimport { prefix, defaultProps, createChainedFunction } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { SIZE } from '../constants';\nimport ModalContext from './ModalContext';\nimport mergeRefs from '../utils/mergeRefs';\nvar BACKDROP_TRANSITION_DURATION = 150;\n\nvar Modal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  // for test\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.dialogElement = void 0;\n    _this.modalRef = void 0;\n    _this.windowResizeListener = null;\n    _this.contentElement = null;\n\n    _this.getBodyStyles = function () {\n      return _this.state.bodyStyles;\n    };\n\n    _this.bindDialogRef = function (ref) {\n      _this.dialogElement = ref;\n    };\n\n    _this.handleShow = function () {\n      var dialogElement = _this.dialogElement;\n\n      _this.updateModalStyles(dialogElement);\n\n      _this.contentElement = dialogElement.querySelector(\".\" + _this.addPrefix('content'));\n      _this.windowResizeListener = on(window, 'resize', _this.handleResize);\n      bindElementResize(_this.contentElement, _this.handleResize);\n    };\n\n    _this.handleHide = function () {\n      _this.destroyEvent();\n    };\n\n    _this.handleDialogClick = function (event) {\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      var onHide = _this.props.onHide;\n      onHide && onHide(event);\n    };\n\n    _this.handleResize = function () {\n      _this.updateModalStyles(_this.dialogElement);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.state = {\n      bodyStyles: {}\n    };\n    _this.modalRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.destroyEvent();\n  };\n\n  _proto.getBodyStylesByDialog = function getBodyStylesByDialog(dialogElement) {\n    var _this$props = this.props,\n        overflow = _this$props.overflow,\n        drawer = _this$props.drawer;\n    var node = dialogElement || this.dialogElement;\n    var scrollHeight = node ? node.scrollHeight : 0;\n\n    if (!overflow) {\n      return {};\n    }\n\n    var bodyStyles = {\n      overflow: 'auto'\n    };\n\n    if (node) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = node.querySelector(\".\" + this.addPrefix('header'));\n      var footerDOM = node.querySelector(\".\" + this.addPrefix('footer'));\n      var contentDOM = node.querySelector(\".\" + this.addPrefix('content'));\n      headerHeight = headerDOM ? getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        bodyStyles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + 60;\n        var bodyHeight = getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        bodyStyles.maxHeight = maxHeight;\n      }\n    }\n\n    return bodyStyles;\n  };\n\n  _proto.destroyEvent = function destroyEvent() {\n    if (this.windowResizeListener) {\n      this.windowResizeListener.off();\n    }\n\n    if (this.contentElement) {\n      unbindElementResize(this.contentElement);\n    }\n  };\n\n  _proto.updateModalStyles = function updateModalStyles(dialogElement) {\n    this.setState({\n      bodyStyles: this.getBodyStylesByDialog(dialogElement)\n    });\n  };\n\n  _proto.render = function render() {\n    var _classNames,\n        _classNames2,\n        _this2 = this;\n\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        children = _this$props2.children,\n        dialogClassName = _this$props2.dialogClassName,\n        backdropClassName = _this$props2.backdropClassName,\n        dialogStyle = _this$props2.dialogStyle,\n        animation = _this$props2.animation,\n        classPrefix = _this$props2.classPrefix,\n        show = _this$props2.show,\n        size = _this$props2.size,\n        full = _this$props2.full,\n        dialogComponentClass = _this$props2.dialogComponentClass,\n        animationProps = _this$props2.animationProps,\n        animationTimeout = _this$props2.animationTimeout,\n        onHide = _this$props2.onHide,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"className\", \"children\", \"dialogClassName\", \"backdropClassName\", \"dialogStyle\", \"animation\", \"classPrefix\", \"show\", \"size\", \"full\", \"dialogComponentClass\", \"animationProps\", \"animationTimeout\", \"onHide\"]);\n\n    var inClass = {\n      in: show && !animation\n    };\n    var Dialog = dialogComponentClass;\n    var classes = classNames(this.addPrefix(size), className, (_classNames = {}, _classNames[this.addPrefix('full')] = full, _classNames));\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        onModalHide: onHide,\n        getBodyStyles: this.getBodyStyles\n      }\n    }, React.createElement(BaseModal, _extends({}, rest, {\n      ref: this.modalRef,\n      show: show,\n      onHide: onHide,\n      className: this.addPrefix('wrapper'),\n      onEntering: createChainedFunction(this.handleShow, this.props.onEntering),\n      onExited: createChainedFunction(this.handleHide, this.props.onExited),\n      backdropClassName: classNames(this.addPrefix('backdrop'), backdropClassName, inClass),\n      containerClassName: classNames(this.addPrefix('open'), (_classNames2 = {}, _classNames2[this.addPrefix('has-backdrop')] = rest.backdrop, _classNames2)),\n      transition: animation ? animation : undefined,\n      animationProps: animationProps,\n      dialogTransitionTimeout: animationTimeout,\n      backdropTransitionTimeout: BACKDROP_TRANSITION_DURATION\n    }), function (transitionProps, ref) {\n      var transitionClassName = transitionProps.className,\n          transitionRest = _objectWithoutPropertiesLoose(transitionProps, [\"className\"]);\n\n      return React.createElement(Dialog, _extends({}, transitionRest, _pick(rest, Object.keys(modalDialogPropTypes)), {\n        classPrefix: classPrefix,\n        className: classNames(classes, transitionClassName),\n        dialogClassName: dialogClassName,\n        dialogStyle: dialogStyle,\n        onClick: rest.backdrop === true ? _this2.handleDialogClick : null,\n        dialogRef: mergeRefs(_this2.bindDialogRef, ref)\n      }), children);\n    }));\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  classPrefix: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  onRendered: PropTypes.func,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  dialogClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  style: PropTypes.object,\n  dialogStyle: PropTypes.object,\n  backdropStyle: PropTypes.object,\n  show: PropTypes.bool,\n  full: PropTypes.bool,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  keyboard: PropTypes.bool,\n  transition: PropTypes.elementType,\n  dialogTransitionTimeout: PropTypes.number,\n  backdropTransitionTimeout: PropTypes.number,\n  autoFocus: PropTypes.bool,\n  enforceFocus: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool,\n  dialogComponentClass: PropTypes.elementType,\n  animation: PropTypes.any,\n  animationProps: PropTypes.object,\n  animationTimeout: PropTypes.number,\n  onEscapeKeyUp: PropTypes.func,\n  onBackdropClick: PropTypes.func,\n  onShow: PropTypes.func,\n  onHide: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n};\nModal.defaultProps = {\n  size: 'sm',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  animation: Bounce,\n  animationTimeout: 300,\n  dialogComponentClass: ModalDialog,\n  overflow: true\n};\nvar EnhancedModal = defaultProps({\n  classPrefix: 'modal'\n})(Modal);\nsetStatic('Body', ModalBody)(EnhancedModal);\nsetStatic('Header', ModalHeader)(EnhancedModal);\nsetStatic('Title', ModalTitle)(EnhancedModal);\nsetStatic('Footer', ModalFooter)(EnhancedModal);\nsetStatic('Dialog', ModalDialog)(EnhancedModal);\nexport default EnhancedModal;"]},"metadata":{},"sourceType":"module"}