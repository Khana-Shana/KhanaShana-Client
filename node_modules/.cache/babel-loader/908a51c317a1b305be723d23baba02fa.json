{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/profile/CustomerProfile.jsx\";\nimport React from 'react';\nimport firebase_integration from '../fire.js';\nimport './profilestyles.css';\nimport Header from '../navigation/Header';\n\nfunction CustomerProfile() {\n  const [editname, seteditname] = React.useState(false);\n  const [editemail, seteditemail] = React.useState(false);\n  const [editnumber, seteditnumber] = React.useState(false);\n  const [editpassword, seteditpassword] = React.useState(false);\n  const [editgender, seteditgender] = React.useState(false);\n  const [ID, setID] = React.useState();\n  const [name, setname] = React.useState();\n  const [email, setemail] = React.useState();\n  const [number, setnumber] = React.useState();\n  const [dob, setdob] = React.useState();\n  const [password, setpassword] = React.useState();\n  const [gender, setgender] = React.useState();\n  React.useEffect(() => {\n    firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot(snapshot => {\n      console.log(firebase_integration.auth.currentUser);\n      var customerdata = {};\n      snapshot.docs.forEach(doc => {\n        customerdata = doc.data();\n      });\n      setID(customerdata.CustomerID);\n      setname(customerdata.Name);\n      setemail(customerdata.Email);\n      setnumber(customerdata.ContactNo);\n      setdob(customerdata.DOB.toDate().getDate() + \"-\" + customerdata.DOB.toDate().getMonth() + 1 + \"-\" + customerdata.DOB.toDate().getFullYear());\n      setpassword(customerdata.Password);\n      setgender(customerdata.Gender);\n    });\n  }, [ID]);\n\n  async function updatename(value) {\n    firebase_integration.auth.currentUser.updateProfile({\n      displayName: value\n    }).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Name: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updateemail(value) {\n    firebase_integration.auth.currentUser.updateEmail(value).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Email: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatenumber(value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      ContactNo: value\n    });\n  }\n\n  async function updatepassword(value) {\n    firebase_integration.auth.currentUser.updatePassword(value).then(function () {\n      alert(\"Your password has been updated\");\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updategender(value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      Gender: value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"wholepage\",\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profilepic\",\n    className: \"img-fluid\",\n    alt: \"ProfilePicture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('profilepic', 'CustomerProfile', '', 'profilepic.svg')), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c2\",\n    className: \"col-4\",\n    style: {\n      paddingLeft: \"0px\",\n      paddingRight: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"namebox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group d-flex\",\n    role: \"group\",\n    \"aria-label\": \"Basic example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary w-100 buttonbar\",\n    style: {\n      borderLeft: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"./orderhistory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary w-100 buttonbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, \"Order History\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"./feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    href: \"./feedback\",\n    type: \"button\",\n    className: \"btn btn-secondary w-100 buttonbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, \"Feedback\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c3\",\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c4\",\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"loyaltypoints\",\n    className: \"img-fluid\",\n    alt: \"LoyaltyPoints\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('loyaltypoints', 'CustomerProfile', '', 'pointslogo.svg'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c1\",\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c2\",\n    className: \"col d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, \"Name\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editname\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditname(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editname', 'CustomerProfile', '', 'pencil.svg'), editname === false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, name) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Enter Name\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: name,\n    onChange: e => setname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditname(false);\n      updatename(name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"Email\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editemail\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditemail(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editemail', 'CustomerProfile', '', 'pencil.svg'), editemail === false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, email) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Enter Email\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: email,\n    onChange: e => setemail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditemail(false);\n      updateemail(email);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"Phone Number\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editnumber\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditnumber(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editnumber', 'CustomerProfile', '', 'pencil.svg'), editnumber === false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  }, number) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Enter Phone Number\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: number,\n    onChange: e => setnumber(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditnumber(false);\n      updatenumber(number);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, \"Date of Birth\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  }, dob)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editpassword\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditpassword(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editpassword', 'CustomerProfile', '', 'pencil.svg'), editpassword === false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, \"**********\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Enter New Password\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: password,\n    onChange: e => setpassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditpassword(false);\n      updatepassword(password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, \"Gender\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editgender\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditgender(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editgender', 'CustomerProfile', '', 'pencil.svg'), editgender === false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, gender) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Enter Gender\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: gender,\n    onChange: e => setgender(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditgender(false);\n      updategender(gender);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 41\n    }\n  }, \"Save\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c3\",\n    className: \"col d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profileaunty\",\n    className: \"img-fluid\",\n    alt: \"ProfileAunty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('profileaunty', 'CustomerProfile', '', 'profileaunty.svg')))));\n}\n\nexport default CustomerProfile;","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/se/KhanaShana-Client/src/components/profile/CustomerProfile.jsx"],"names":["React","firebase_integration","Header","CustomerProfile","editname","seteditname","useState","editemail","seteditemail","editnumber","seteditnumber","editpassword","seteditpassword","editgender","seteditgender","ID","setID","name","setname","email","setemail","number","setnumber","dob","setdob","password","setpassword","gender","setgender","useEffect","database","collection","where","auth","currentUser","uid","toString","onSnapshot","snapshot","console","log","customerdata","docs","forEach","doc","data","CustomerID","Name","Email","ContactNo","DOB","toDate","getDate","getMonth","getFullYear","Password","Gender","updatename","value","updateProfile","displayName","then","update","catch","error","alert","message","updateemail","updateEmail","updatenumber","updatepassword","updatePassword","updategender","getImageURL","paddingLeft","paddingRight","borderLeft","e","target"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport firebase_integration from '../fire.js';\r\nimport './profilestyles.css';\r\nimport Header from '../navigation/Header';\r\nfunction CustomerProfile() {\r\n    const [editname, seteditname] = React.useState(false)\r\n    const [editemail, seteditemail] = React.useState(false)\r\n    const [editnumber, seteditnumber] = React.useState(false)\r\n    const [editpassword, seteditpassword] = React.useState(false)\r\n    const [editgender, seteditgender] = React.useState(false)\r\n    const [ID, setID] = React.useState()\r\n    const [name, setname] = React.useState()\r\n    const [email, setemail] = React.useState()\r\n    const [number, setnumber] = React.useState()\r\n    const [dob, setdob] = React.useState()\r\n    const [password, setpassword] = React.useState()\r\n    const [gender, setgender] = React.useState()\r\n\r\n    React.useEffect(() => {\r\n        firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot((snapshot) => {\r\n            console.log(firebase_integration.auth.currentUser)\r\n            var customerdata = {};\r\n            snapshot.docs.forEach(doc => {\r\n                customerdata = doc.data()\r\n            });\r\n            setID(customerdata.CustomerID)\r\n            setname(customerdata.Name)\r\n            setemail(customerdata.Email)\r\n            setnumber(customerdata.ContactNo)\r\n            setdob(customerdata.DOB.toDate().getDate()+\"-\"+customerdata.DOB.toDate().getMonth()+1+\"-\"+customerdata.DOB.toDate().getFullYear())\r\n            setpassword(customerdata.Password)\r\n            setgender(customerdata.Gender)\r\n        })\r\n    },[ID]);\r\n\r\n    async function updatename(value){\r\n        firebase_integration.auth.currentUser.updateProfile({\r\n            displayName: value,\r\n          }).then(function() {\r\n                firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                    Name : value\r\n                })\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n        \r\n    }\r\n    async function updateemail(value){\r\n        firebase_integration.auth.currentUser.updateEmail(value).then(function() {\r\n            firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                Email : value\r\n            })\r\n        }).catch(function(error) {\r\n            alert(error.message);\r\n        });\r\n        \r\n    }\r\n    async function updatenumber(value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            ContactNo : value\r\n        })\r\n    }\r\n    async function updatepassword(value){\r\n        firebase_integration.auth.currentUser.updatePassword(value).then(function() {\r\n            alert(\"Your password has been updated\");\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n    }\r\n    async function updategender(value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            Gender : value\r\n        })\r\n    }        \r\n    return (\r\n        <div>\r\n        <Header/>\r\n        <div id=\"wholepage\" className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className =\"col-2 d-flex justify-content-center\">\r\n                    <img id=\"profilepic\" className = \"img-fluid\" alt=\"ProfilePicture\" />\r\n                    {firebase_integration.getImageURL('profilepic', 'CustomerProfile', '','profilepic.svg')}\r\n                </div>\r\n                <div id=\"r1c2\" className =\"col-4\" style={{paddingLeft: \"0px\", paddingRight: \"0px\"}}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col d-flex justify-content-center\">\r\n                            <div id=\"namebox\">\r\n                                {name}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <div className=\"btn-group d-flex\" role=\"group\" aria-label=\"Basic example\">\r\n                                <button type=\"button\" className=\"btn btn-secondary w-100 buttonbar\" style = {{borderLeft: \"0px\"}}>Profile</button>\r\n                                <Link to = \"./orderhistory\">\r\n                                <button type=\"button\" className=\"btn btn-secondary w-100 buttonbar\">Order History</button>\r\n                                </Link>\r\n                                <Link to = \"./feedback\">\r\n                                <button  href = './feedback' type=\"button\" className=\"btn btn-secondary w-100 buttonbar\">Feedback</button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"r1c3\" className=\"col-4\"/>\r\n                <div id=\"r1c4\" className=\"col-2 d-flex justify-content-center\">\r\n                    <img id =\"loyaltypoints\" className = \"img-fluid\" alt=\"LoyaltyPoints\" />\r\n                    {firebase_integration.getImageURL('loyaltypoints', 'CustomerProfile', '', 'pointslogo.svg')}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div id =\"r2c1\" className =\"col-2\"/>\r\n                <div id =\"r2c2\" className = \"col d-flex\">\r\n                    <form>\r\n                        <div className =\"infotitle\">\r\n                            Name\r\n                            <img id =\"editname\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditname(true)}/>\r\n                            {firebase_integration.getImageURL('editname', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editname === false?\r\n                                <div className=\"info\">{name}</div>:\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter Name\"aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {name} onChange={(e) => setname(e.target.value)}/>\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditname(false) \r\n                                            updatename(name)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div className=\"infotitle\">\r\n                            Email\r\n                            <img id =\"editemail\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditemail(true)}/>\r\n                            {firebase_integration.getImageURL('editemail', 'CustomerProfile', '', 'pencil.svg')}\r\n\r\n                            {editemail === false?\r\n                                <div className=\"info\">{email}</div>:\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter Email\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {email}  onChange={(e) => setemail(e.target.value)}/>\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditemail(false) \r\n                                            updateemail(email)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div className=\"infotitle\">\r\n                            Phone Number\r\n                            <img id =\"editnumber\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditnumber(true)}/>\r\n                            {firebase_integration.getImageURL('editnumber', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editnumber === false?\r\n                                <div className=\"info\">{number}</div>:\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter Phone Number\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {number}  onChange={(e) => setnumber(e.target.value)}/>\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditnumber(false) \r\n                                            updatenumber( number)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div className =\"infotitle\">\r\n                            Date of Birth\r\n                            <div className=\"info\">{dob}</div>\r\n                        </div>\r\n                        <div className=\"infotitle\">\r\n                            Password\r\n                            <img id =\"editpassword\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditpassword(true)}/>\r\n                            {firebase_integration.getImageURL('editpassword', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editpassword === false?\r\n                                <div className=\"info\">**********</div>:\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"Enter New Password\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {password}  onChange={(e) => setpassword(e.target.value)}/>\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditpassword(false) \r\n                                            updatepassword(password)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div className=\"infotitle\">\r\n                            Gender\r\n                            <img id =\"editgender\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditgender(true)}/>\r\n                            {firebase_integration.getImageURL('editgender', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editgender === false?\r\n                                <div className=\"info\">{gender}</div>:\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter Gender\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {gender}  onChange={(e) => setgender(e.target.value)}/>\r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditgender(false) \r\n                                            updategender(gender)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div id = \"r2c3\" className =\"col d-flex justify-content-center\">\r\n                    <img id=\"profileaunty\" className = \"img-fluid\" alt=\"ProfileAunty\" />\r\n                    {firebase_integration.getImageURL('profileaunty', 'CustomerProfile', '', 'profileaunty.svg')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CustomerProfile;"]},"metadata":{},"sourceType":"module"}