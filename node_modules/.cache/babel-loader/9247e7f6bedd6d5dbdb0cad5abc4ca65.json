{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { reactToString } from 'rsuite-utils/lib/utils';\nimport { defaultProps, prefix, refType } from '../utils';\nimport { CHECK_STATE, TREE_NODE_PADDING, TREE_NODE_ROOT_PADDING } from '../constants';\nimport DropdownMenuCheckItem from '../Picker/DropdownMenuCheckItem';\n\nvar TreeCheckNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TreeCheckNode, _React$Component);\n\n  function TreeCheckNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleTreeToggle = function (event) {\n      var _event$nativeEvent, _event$nativeEvent$st;\n\n      var _this$props = _this.props,\n          onTreeToggle = _this$props.onTreeToggle,\n          layer = _this$props.layer,\n          nodeData = _this$props.nodeData; // 异步加载数据自定义loading图标时，阻止原生冒泡，不触发 document.click\n\n      event === null || event === void 0 ? void 0 : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : (_event$nativeEvent$st = _event$nativeEvent.stopImmediatePropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n      onTreeToggle === null || onTreeToggle === void 0 ? void 0 : onTreeToggle(nodeData, layer, event);\n    };\n\n    _this.handleSelect = function (_value, event) {\n      var _this$props2 = _this.props,\n          onSelect = _this$props2.onSelect,\n          disabled = _this$props2.disabled,\n          uncheckable = _this$props2.uncheckable,\n          nodeData = _this$props2.nodeData,\n          checkState = _this$props2.checkState;\n\n      if (disabled || uncheckable) {\n        return;\n      }\n\n      var isChecked = false;\n\n      if (checkState === CHECK_STATE.UNCHECK || checkState === CHECK_STATE.INDETERMINATE) {\n        isChecked = true;\n      }\n\n      if (checkState === CHECK_STATE.CHECK) {\n        isChecked = false;\n      }\n\n      var nextNodeData = _extends({}, nodeData, {\n        check: isChecked\n      });\n\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(nextNodeData, event);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.renderIcon = function () {\n      var _classNames;\n\n      var _this$props3 = _this.props,\n          expand = _this$props3.expand,\n          onRenderTreeIcon = _this$props3.onRenderTreeIcon,\n          hasChildren = _this$props3.hasChildren,\n          nodeData = _this$props3.nodeData;\n      var expandIconClasses = classNames(_this.addPrefix('expand-icon'), 'icon', (_classNames = {}, _classNames[_this.addPrefix('expanded')] = expand, _classNames));\n      var expandIcon = React.createElement(\"i\", {\n        className: expandIconClasses\n      });\n\n      if (typeof onRenderTreeIcon === 'function') {\n        var customIcon = onRenderTreeIcon(nodeData);\n        expandIcon = customIcon !== null ? React.createElement(\"div\", {\n          className: _this.addPrefix('custom-icon')\n        }, customIcon) : expandIcon;\n      }\n\n      return hasChildren ? React.createElement(\"div\", {\n        role: \"button\",\n        tabIndex: -1,\n        \"data-ref\": nodeData.refKey,\n        className: _this.addPrefix('expand-icon-wrapper'),\n        onClick: _this.handleTreeToggle\n      }, expandIcon) : null;\n    };\n\n    _this.renderLabel = function () {\n      var _this$props4 = _this.props,\n          nodeData = _this$props4.nodeData,\n          focus = _this$props4.focus,\n          onRenderTreeNode = _this$props4.onRenderTreeNode,\n          label = _this$props4.label,\n          layer = _this$props4.layer,\n          disabled = _this$props4.disabled,\n          uncheckable = _this$props4.uncheckable,\n          checkState = _this$props4.checkState;\n      return React.createElement(DropdownMenuCheckItem, {\n        componentClass: \"div\",\n        active: checkState === CHECK_STATE.CHECK,\n        indeterminate: checkState === CHECK_STATE.INDETERMINATE,\n        focus: focus,\n        checkable: !uncheckable,\n        disabled: disabled,\n        \"data-layer\": layer,\n        \"data-key\": nodeData.refKey,\n        className: _this.addPrefix('label'),\n        title: _this.getTitle(),\n        onSelect: _this.handleSelect\n      }, React.createElement(\"span\", {\n        className: _this.addPrefix('text-wrapper')\n      }, typeof onRenderTreeNode === 'function' ? onRenderTreeNode(nodeData) : label));\n    };\n\n    return _this;\n  }\n\n  var _proto = TreeCheckNode.prototype;\n\n  _proto.getTitle = function getTitle() {\n    var label = this.props.label;\n\n    if (typeof label === 'string') {\n      return label;\n    } else if (React.isValidElement(label)) {\n      var nodes = reactToString(label);\n      return nodes.join('');\n    }\n  };\n\n  _proto.render = function render() {\n    var _classNames2;\n\n    var _this$props5 = this.props,\n        style = _this$props5.style,\n        className = _this$props5.className,\n        classPrefix = _this$props5.classPrefix,\n        visible = _this$props5.visible,\n        layer = _this$props5.layer,\n        disabled = _this$props5.disabled,\n        allUncheckable = _this$props5.allUncheckable,\n        innerRef = _this$props5.innerRef,\n        rtl = _this$props5.rtl;\n    var classes = classNames(className, classPrefix, (_classNames2 = {\n      'text-muted': disabled\n    }, _classNames2[this.addPrefix('all-uncheckable')] = !!allUncheckable, _classNames2));\n    var padding = layer * TREE_NODE_PADDING + TREE_NODE_ROOT_PADDING;\n    var styles = rtl ? {\n      paddingRight: padding\n    } : {\n      paddingLeft: padding\n    };\n    return visible ? React.createElement(\"div\", {\n      style: _extends({}, style, {}, styles),\n      className: classes,\n      ref: innerRef\n    }, this.renderIcon(), this.renderLabel()) : null;\n  };\n\n  return TreeCheckNode;\n}(React.Component);\n\nTreeCheckNode.propTypes = {\n  classPrefix: PropTypes.string,\n  visible: PropTypes.bool,\n  style: PropTypes.object,\n  label: PropTypes.any,\n  layer: PropTypes.number,\n  value: PropTypes.any,\n  focus: PropTypes.bool,\n  expand: PropTypes.bool,\n  nodeData: PropTypes.object,\n  disabled: PropTypes.bool,\n  checkState: PropTypes.oneOf([CHECK_STATE.UNCHECK, CHECK_STATE.CHECK, CHECK_STATE.INDETERMINATE]),\n  hasChildren: PropTypes.bool,\n  uncheckable: PropTypes.bool,\n  allUncheckable: PropTypes.bool,\n  innerRef: refType,\n  onTreeToggle: PropTypes.func,\n  onSelect: PropTypes.func,\n  onRenderTreeIcon: PropTypes.func,\n  onRenderTreeNode: PropTypes.func\n};\nTreeCheckNode.defaultProps = {\n  visible: true\n};\nexport default defaultProps({\n  classPrefix: 'check-tree-node'\n})(TreeCheckNode);","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/KhanaWeb/khanaweb/node_modules/rsuite/es/CheckTreePicker/CheckTreeNode.js"],"names":["_extends","_inheritsLoose","React","PropTypes","classNames","reactToString","defaultProps","prefix","refType","CHECK_STATE","TREE_NODE_PADDING","TREE_NODE_ROOT_PADDING","DropdownMenuCheckItem","TreeCheckNode","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","handleTreeToggle","event","_event$nativeEvent","_event$nativeEvent$st","_this$props","props","onTreeToggle","layer","nodeData","nativeEvent","stopImmediatePropagation","handleSelect","_value","_this$props2","onSelect","disabled","uncheckable","checkState","isChecked","UNCHECK","INDETERMINATE","CHECK","nextNodeData","check","addPrefix","name","classPrefix","renderIcon","_classNames","_this$props3","expand","onRenderTreeIcon","hasChildren","expandIconClasses","expandIcon","createElement","className","customIcon","role","tabIndex","refKey","onClick","renderLabel","_this$props4","focus","onRenderTreeNode","label","componentClass","active","indeterminate","checkable","title","getTitle","_proto","prototype","isValidElement","nodes","join","render","_classNames2","_this$props5","style","visible","allUncheckable","innerRef","rtl","classes","padding","styles","paddingRight","paddingLeft","ref","Component","propTypes","string","bool","object","any","number","value","oneOf","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { reactToString } from 'rsuite-utils/lib/utils';\nimport { defaultProps, prefix, refType } from '../utils';\nimport { CHECK_STATE, TREE_NODE_PADDING, TREE_NODE_ROOT_PADDING } from '../constants';\nimport DropdownMenuCheckItem from '../Picker/DropdownMenuCheckItem';\n\nvar TreeCheckNode =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TreeCheckNode, _React$Component);\n\n  function TreeCheckNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleTreeToggle = function (event) {\n      var _event$nativeEvent, _event$nativeEvent$st;\n\n      var _this$props = _this.props,\n          onTreeToggle = _this$props.onTreeToggle,\n          layer = _this$props.layer,\n          nodeData = _this$props.nodeData; // 异步加载数据自定义loading图标时，阻止原生冒泡，不触发 document.click\n\n      event === null || event === void 0 ? void 0 : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : (_event$nativeEvent$st = _event$nativeEvent.stopImmediatePropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n      onTreeToggle === null || onTreeToggle === void 0 ? void 0 : onTreeToggle(nodeData, layer, event);\n    };\n\n    _this.handleSelect = function (_value, event) {\n      var _this$props2 = _this.props,\n          onSelect = _this$props2.onSelect,\n          disabled = _this$props2.disabled,\n          uncheckable = _this$props2.uncheckable,\n          nodeData = _this$props2.nodeData,\n          checkState = _this$props2.checkState;\n\n      if (disabled || uncheckable) {\n        return;\n      }\n\n      var isChecked = false;\n\n      if (checkState === CHECK_STATE.UNCHECK || checkState === CHECK_STATE.INDETERMINATE) {\n        isChecked = true;\n      }\n\n      if (checkState === CHECK_STATE.CHECK) {\n        isChecked = false;\n      }\n\n      var nextNodeData = _extends({}, nodeData, {\n        check: isChecked\n      });\n\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(nextNodeData, event);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.renderIcon = function () {\n      var _classNames;\n\n      var _this$props3 = _this.props,\n          expand = _this$props3.expand,\n          onRenderTreeIcon = _this$props3.onRenderTreeIcon,\n          hasChildren = _this$props3.hasChildren,\n          nodeData = _this$props3.nodeData;\n      var expandIconClasses = classNames(_this.addPrefix('expand-icon'), 'icon', (_classNames = {}, _classNames[_this.addPrefix('expanded')] = expand, _classNames));\n      var expandIcon = React.createElement(\"i\", {\n        className: expandIconClasses\n      });\n\n      if (typeof onRenderTreeIcon === 'function') {\n        var customIcon = onRenderTreeIcon(nodeData);\n        expandIcon = customIcon !== null ? React.createElement(\"div\", {\n          className: _this.addPrefix('custom-icon')\n        }, customIcon) : expandIcon;\n      }\n\n      return hasChildren ? React.createElement(\"div\", {\n        role: \"button\",\n        tabIndex: -1,\n        \"data-ref\": nodeData.refKey,\n        className: _this.addPrefix('expand-icon-wrapper'),\n        onClick: _this.handleTreeToggle\n      }, expandIcon) : null;\n    };\n\n    _this.renderLabel = function () {\n      var _this$props4 = _this.props,\n          nodeData = _this$props4.nodeData,\n          focus = _this$props4.focus,\n          onRenderTreeNode = _this$props4.onRenderTreeNode,\n          label = _this$props4.label,\n          layer = _this$props4.layer,\n          disabled = _this$props4.disabled,\n          uncheckable = _this$props4.uncheckable,\n          checkState = _this$props4.checkState;\n      return React.createElement(DropdownMenuCheckItem, {\n        componentClass: \"div\",\n        active: checkState === CHECK_STATE.CHECK,\n        indeterminate: checkState === CHECK_STATE.INDETERMINATE,\n        focus: focus,\n        checkable: !uncheckable,\n        disabled: disabled,\n        \"data-layer\": layer,\n        \"data-key\": nodeData.refKey,\n        className: _this.addPrefix('label'),\n        title: _this.getTitle(),\n        onSelect: _this.handleSelect\n      }, React.createElement(\"span\", {\n        className: _this.addPrefix('text-wrapper')\n      }, typeof onRenderTreeNode === 'function' ? onRenderTreeNode(nodeData) : label));\n    };\n\n    return _this;\n  }\n\n  var _proto = TreeCheckNode.prototype;\n\n  _proto.getTitle = function getTitle() {\n    var label = this.props.label;\n\n    if (typeof label === 'string') {\n      return label;\n    } else if (React.isValidElement(label)) {\n      var nodes = reactToString(label);\n      return nodes.join('');\n    }\n  };\n\n  _proto.render = function render() {\n    var _classNames2;\n\n    var _this$props5 = this.props,\n        style = _this$props5.style,\n        className = _this$props5.className,\n        classPrefix = _this$props5.classPrefix,\n        visible = _this$props5.visible,\n        layer = _this$props5.layer,\n        disabled = _this$props5.disabled,\n        allUncheckable = _this$props5.allUncheckable,\n        innerRef = _this$props5.innerRef,\n        rtl = _this$props5.rtl;\n    var classes = classNames(className, classPrefix, (_classNames2 = {\n      'text-muted': disabled\n    }, _classNames2[this.addPrefix('all-uncheckable')] = !!allUncheckable, _classNames2));\n    var padding = layer * TREE_NODE_PADDING + TREE_NODE_ROOT_PADDING;\n    var styles = rtl ? {\n      paddingRight: padding\n    } : {\n      paddingLeft: padding\n    };\n    return visible ? React.createElement(\"div\", {\n      style: _extends({}, style, {}, styles),\n      className: classes,\n      ref: innerRef\n    }, this.renderIcon(), this.renderLabel()) : null;\n  };\n\n  return TreeCheckNode;\n}(React.Component);\n\nTreeCheckNode.propTypes = {\n  classPrefix: PropTypes.string,\n  visible: PropTypes.bool,\n  style: PropTypes.object,\n  label: PropTypes.any,\n  layer: PropTypes.number,\n  value: PropTypes.any,\n  focus: PropTypes.bool,\n  expand: PropTypes.bool,\n  nodeData: PropTypes.object,\n  disabled: PropTypes.bool,\n  checkState: PropTypes.oneOf([CHECK_STATE.UNCHECK, CHECK_STATE.CHECK, CHECK_STATE.INDETERMINATE]),\n  hasChildren: PropTypes.bool,\n  uncheckable: PropTypes.bool,\n  allUncheckable: PropTypes.bool,\n  innerRef: refType,\n  onTreeToggle: PropTypes.func,\n  onSelect: PropTypes.func,\n  onRenderTreeIcon: PropTypes.func,\n  onRenderTreeNode: PropTypes.func\n};\nTreeCheckNode.defaultProps = {\n  visible: true\n};\nexport default defaultProps({\n  classPrefix: 'check-tree-node'\n})(TreeCheckNode);"]},"metadata":{},"sourceType":"module"}