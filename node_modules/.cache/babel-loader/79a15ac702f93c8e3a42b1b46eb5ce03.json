{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _get from \"lodash/get\";\nimport _pick from \"lodash/pick\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport setStatic from 'recompose/setStatic';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport BaseModal from 'rsuite-utils/lib/Overlay/Modal';\nimport Bounce from 'rsuite-utils/lib/Animation/Bounce';\nimport { on, getHeight } from 'dom-lib';\nimport { prefix, defaultProps, createChainedFunction } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { SIZE } from '../constants';\nimport ModalContext from './ModalContext';\nvar BACKDROP_TRANSITION_DURATION = 150;\n\nvar Modal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.dialogRef = void 0;\n    _this.modalRef = void 0;\n    _this.windowResizeListener = null;\n    _this.contentElement = null;\n\n    _this.getBodyStyles = function () {\n      return _this.state.bodyStyles;\n    };\n\n    _this.handleShow = function () {\n      var dialogElement = _this.dialogRef.current;\n\n      _this.updateModalStyles(dialogElement);\n\n      _this.contentElement = dialogElement.querySelector(\".\" + _this.addPrefix('content'));\n      _this.windowResizeListener = on(window, 'resize', _this.handleResize);\n      bindElementResize(_this.contentElement, _this.handleResize);\n    };\n\n    _this.handleHide = function () {\n      _this.destroyEvent();\n    };\n\n    _this.handleDialogClick = function (event) {\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      var onHide = _this.props.onHide;\n      onHide && onHide(event);\n    };\n\n    _this.handleResize = function () {\n      _this.updateModalStyles(_this.dialogRef.current);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.state = {\n      bodyStyles: {}\n    };\n    _this.dialogRef = React.createRef();\n    _this.modalRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.destroyEvent();\n  };\n\n  _proto.getBodyStylesByDialog = function getBodyStylesByDialog(dialogElement) {\n    var _this$props = this.props,\n        overflow = _this$props.overflow,\n        drawer = _this$props.drawer;\n    var node = dialogElement || this.dialogRef.current;\n    var scrollHeight = node ? node.scrollHeight : 0;\n\n    if (!overflow) {\n      return {};\n    }\n\n    var bodyStyles = {\n      overflow: 'auto'\n    };\n\n    if (node) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = node.querySelector(\".\" + this.addPrefix('header'));\n      var footerDOM = node.querySelector(\".\" + this.addPrefix('footer'));\n      var contentDOM = node.querySelector(\".\" + this.addPrefix('content'));\n      headerHeight = headerDOM ? getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        bodyStyles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + 60;\n        var bodyHeight = getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        bodyStyles.maxHeight = maxHeight;\n      }\n    }\n\n    return bodyStyles;\n  };\n\n  _proto.destroyEvent = function destroyEvent() {\n    if (this.windowResizeListener) {\n      this.windowResizeListener.off();\n    }\n\n    if (this.contentElement) {\n      unbindElementResize(this.contentElement);\n    }\n  };\n\n  _proto.updateModalStyles = function updateModalStyles(dialogElement) {\n    this.setState({\n      bodyStyles: this.getBodyStylesByDialog(dialogElement)\n    });\n  };\n\n  _proto.render = function render() {\n    var _classNames, _classNames2;\n\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        children = _this$props2.children,\n        dialogClassName = _this$props2.dialogClassName,\n        backdropClassName = _this$props2.backdropClassName,\n        dialogStyle = _this$props2.dialogStyle,\n        animation = _this$props2.animation,\n        classPrefix = _this$props2.classPrefix,\n        show = _this$props2.show,\n        size = _this$props2.size,\n        full = _this$props2.full,\n        dialogComponentClass = _this$props2.dialogComponentClass,\n        animationProps = _this$props2.animationProps,\n        animationTimeout = _this$props2.animationTimeout,\n        onHide = _this$props2.onHide,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"className\", \"children\", \"dialogClassName\", \"backdropClassName\", \"dialogStyle\", \"animation\", \"classPrefix\", \"show\", \"size\", \"full\", \"dialogComponentClass\", \"animationProps\", \"animationTimeout\", \"onHide\"]);\n\n    var inClass = {\n      in: show && !animation\n    };\n    var Dialog = dialogComponentClass;\n\n    var parentProps = _pick(rest, _get(BaseModal, 'handledProps'));\n\n    var classes = classNames(this.addPrefix(size), className, (_classNames = {}, _classNames[this.addPrefix('full')] = full, _classNames));\n    var modal = React.createElement(Dialog, _extends({}, _pick(rest, Object.keys(modalDialogPropTypes)), {\n      classPrefix: classPrefix,\n      className: classes,\n      dialogClassName: dialogClassName,\n      dialogStyle: dialogStyle,\n      onClick: rest.backdrop === true ? this.handleDialogClick : null,\n      dialogRef: this.dialogRef\n    }), children);\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        onModalHide: onHide,\n        getBodyStyles: this.getBodyStyles\n      }\n    }, React.createElement(BaseModal, _extends({\n      ref: this.modalRef,\n      show: show,\n      onHide: onHide,\n      className: this.addPrefix('wrapper'),\n      onEntering: createChainedFunction(this.handleShow, this.props.onEntering),\n      onExited: createChainedFunction(this.handleHide, this.props.onExited),\n      backdropClassName: classNames(this.addPrefix('backdrop'), backdropClassName, inClass),\n      containerClassName: classNames(this.addPrefix('open'), (_classNames2 = {}, _classNames2[this.addPrefix('has-backdrop')] = rest.backdrop, _classNames2)),\n      transition: animation ? animation : undefined,\n      animationProps: animationProps,\n      dialogTransitionTimeout: animationTimeout,\n      backdropTransitionTimeout: BACKDROP_TRANSITION_DURATION\n    }, parentProps), modal));\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  classPrefix: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  onRendered: PropTypes.func,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  dialogClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  style: PropTypes.object,\n  dialogStyle: PropTypes.object,\n  backdropStyle: PropTypes.object,\n  show: PropTypes.bool,\n  full: PropTypes.bool,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  keyboard: PropTypes.bool,\n  transition: PropTypes.elementType,\n  dialogTransitionTimeout: PropTypes.number,\n  backdropTransitionTimeout: PropTypes.number,\n  autoFocus: PropTypes.bool,\n  enforceFocus: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool,\n  dialogComponentClass: PropTypes.elementType,\n  animation: PropTypes.any,\n  animationProps: PropTypes.object,\n  animationTimeout: PropTypes.number,\n  onEscapeKeyUp: PropTypes.func,\n  onBackdropClick: PropTypes.func,\n  onShow: PropTypes.func,\n  onHide: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n};\nModal.defaultProps = {\n  size: 'sm',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  animation: Bounce,\n  animationTimeout: 300,\n  dialogComponentClass: ModalDialog,\n  overflow: true\n};\nvar EnhancedModal = defaultProps({\n  classPrefix: 'modal'\n})(Modal);\nsetStatic('Body', ModalBody)(EnhancedModal);\nsetStatic('Header', ModalHeader)(EnhancedModal);\nsetStatic('Title', ModalTitle)(EnhancedModal);\nsetStatic('Footer', ModalFooter)(EnhancedModal);\nsetStatic('Dialog', ModalDialog)(EnhancedModal);\nexport default EnhancedModal;","map":{"version":3,"sources":["/mnt/c/Users/Dell/Desktop/KhanaWeb/khanaweb/node_modules/rsuite/es/Modal/Modal.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","_get","_pick","React","PropTypes","classNames","setStatic","bindElementResize","unbind","unbindElementResize","BaseModal","Bounce","on","getHeight","prefix","defaultProps","createChainedFunction","ModalDialog","modalDialogPropTypes","ModalBody","ModalHeader","ModalTitle","ModalFooter","SIZE","ModalContext","BACKDROP_TRANSITION_DURATION","Modal","_React$Component","props","_this","call","dialogRef","modalRef","windowResizeListener","contentElement","getBodyStyles","state","bodyStyles","handleShow","dialogElement","current","updateModalStyles","querySelector","addPrefix","window","handleResize","handleHide","destroyEvent","handleDialogClick","event","target","currentTarget","onHide","name","classPrefix","createRef","_proto","prototype","componentWillUnmount","getBodyStylesByDialog","_this$props","overflow","drawer","node","scrollHeight","headerHeight","footerHeight","contentHeight","headerDOM","footerDOM","contentDOM","height","excludeHeight","bodyHeight","maxHeight","off","setState","render","_classNames","_classNames2","_this$props2","className","children","dialogClassName","backdropClassName","dialogStyle","animation","show","size","full","dialogComponentClass","animationProps","animationTimeout","rest","inClass","in","Dialog","parentProps","classes","modal","createElement","Object","keys","onClick","backdrop","Provider","value","onModalHide","ref","onEntering","onExited","containerClassName","transition","undefined","dialogTransitionTimeout","backdropTransitionTimeout","Component","propTypes","string","oneOf","container","oneOfType","func","onRendered","style","object","backdropStyle","bool","keyboard","elementType","number","autoFocus","enforceFocus","any","onEscapeKeyUp","onBackdropClick","onShow","onEnter","onEntered","onExit","onExiting","EnhancedModal"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _get from \"lodash/get\";\nimport _pick from \"lodash/pick\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport setStatic from 'recompose/setStatic';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport BaseModal from 'rsuite-utils/lib/Overlay/Modal';\nimport Bounce from 'rsuite-utils/lib/Animation/Bounce';\nimport { on, getHeight } from 'dom-lib';\nimport { prefix, defaultProps, createChainedFunction } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { SIZE } from '../constants';\nimport ModalContext from './ModalContext';\nvar BACKDROP_TRANSITION_DURATION = 150;\n\nvar Modal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.dialogRef = void 0;\n    _this.modalRef = void 0;\n    _this.windowResizeListener = null;\n    _this.contentElement = null;\n\n    _this.getBodyStyles = function () {\n      return _this.state.bodyStyles;\n    };\n\n    _this.handleShow = function () {\n      var dialogElement = _this.dialogRef.current;\n\n      _this.updateModalStyles(dialogElement);\n\n      _this.contentElement = dialogElement.querySelector(\".\" + _this.addPrefix('content'));\n      _this.windowResizeListener = on(window, 'resize', _this.handleResize);\n      bindElementResize(_this.contentElement, _this.handleResize);\n    };\n\n    _this.handleHide = function () {\n      _this.destroyEvent();\n    };\n\n    _this.handleDialogClick = function (event) {\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      var onHide = _this.props.onHide;\n      onHide && onHide(event);\n    };\n\n    _this.handleResize = function () {\n      _this.updateModalStyles(_this.dialogRef.current);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.state = {\n      bodyStyles: {}\n    };\n    _this.dialogRef = React.createRef();\n    _this.modalRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.destroyEvent();\n  };\n\n  _proto.getBodyStylesByDialog = function getBodyStylesByDialog(dialogElement) {\n    var _this$props = this.props,\n        overflow = _this$props.overflow,\n        drawer = _this$props.drawer;\n    var node = dialogElement || this.dialogRef.current;\n    var scrollHeight = node ? node.scrollHeight : 0;\n\n    if (!overflow) {\n      return {};\n    }\n\n    var bodyStyles = {\n      overflow: 'auto'\n    };\n\n    if (node) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = node.querySelector(\".\" + this.addPrefix('header'));\n      var footerDOM = node.querySelector(\".\" + this.addPrefix('footer'));\n      var contentDOM = node.querySelector(\".\" + this.addPrefix('content'));\n      headerHeight = headerDOM ? getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        bodyStyles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + 60;\n        var bodyHeight = getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        bodyStyles.maxHeight = maxHeight;\n      }\n    }\n\n    return bodyStyles;\n  };\n\n  _proto.destroyEvent = function destroyEvent() {\n    if (this.windowResizeListener) {\n      this.windowResizeListener.off();\n    }\n\n    if (this.contentElement) {\n      unbindElementResize(this.contentElement);\n    }\n  };\n\n  _proto.updateModalStyles = function updateModalStyles(dialogElement) {\n    this.setState({\n      bodyStyles: this.getBodyStylesByDialog(dialogElement)\n    });\n  };\n\n  _proto.render = function render() {\n    var _classNames, _classNames2;\n\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        children = _this$props2.children,\n        dialogClassName = _this$props2.dialogClassName,\n        backdropClassName = _this$props2.backdropClassName,\n        dialogStyle = _this$props2.dialogStyle,\n        animation = _this$props2.animation,\n        classPrefix = _this$props2.classPrefix,\n        show = _this$props2.show,\n        size = _this$props2.size,\n        full = _this$props2.full,\n        dialogComponentClass = _this$props2.dialogComponentClass,\n        animationProps = _this$props2.animationProps,\n        animationTimeout = _this$props2.animationTimeout,\n        onHide = _this$props2.onHide,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"className\", \"children\", \"dialogClassName\", \"backdropClassName\", \"dialogStyle\", \"animation\", \"classPrefix\", \"show\", \"size\", \"full\", \"dialogComponentClass\", \"animationProps\", \"animationTimeout\", \"onHide\"]);\n\n    var inClass = {\n      in: show && !animation\n    };\n    var Dialog = dialogComponentClass;\n\n    var parentProps = _pick(rest, _get(BaseModal, 'handledProps'));\n\n    var classes = classNames(this.addPrefix(size), className, (_classNames = {}, _classNames[this.addPrefix('full')] = full, _classNames));\n    var modal = React.createElement(Dialog, _extends({}, _pick(rest, Object.keys(modalDialogPropTypes)), {\n      classPrefix: classPrefix,\n      className: classes,\n      dialogClassName: dialogClassName,\n      dialogStyle: dialogStyle,\n      onClick: rest.backdrop === true ? this.handleDialogClick : null,\n      dialogRef: this.dialogRef\n    }), children);\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        onModalHide: onHide,\n        getBodyStyles: this.getBodyStyles\n      }\n    }, React.createElement(BaseModal, _extends({\n      ref: this.modalRef,\n      show: show,\n      onHide: onHide,\n      className: this.addPrefix('wrapper'),\n      onEntering: createChainedFunction(this.handleShow, this.props.onEntering),\n      onExited: createChainedFunction(this.handleHide, this.props.onExited),\n      backdropClassName: classNames(this.addPrefix('backdrop'), backdropClassName, inClass),\n      containerClassName: classNames(this.addPrefix('open'), (_classNames2 = {}, _classNames2[this.addPrefix('has-backdrop')] = rest.backdrop, _classNames2)),\n      transition: animation ? animation : undefined,\n      animationProps: animationProps,\n      dialogTransitionTimeout: animationTimeout,\n      backdropTransitionTimeout: BACKDROP_TRANSITION_DURATION\n    }, parentProps), modal));\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  classPrefix: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  onRendered: PropTypes.func,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  dialogClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  style: PropTypes.object,\n  dialogStyle: PropTypes.object,\n  backdropStyle: PropTypes.object,\n  show: PropTypes.bool,\n  full: PropTypes.bool,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  keyboard: PropTypes.bool,\n  transition: PropTypes.elementType,\n  dialogTransitionTimeout: PropTypes.number,\n  backdropTransitionTimeout: PropTypes.number,\n  autoFocus: PropTypes.bool,\n  enforceFocus: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool,\n  dialogComponentClass: PropTypes.elementType,\n  animation: PropTypes.any,\n  animationProps: PropTypes.object,\n  animationTimeout: PropTypes.number,\n  onEscapeKeyUp: PropTypes.func,\n  onBackdropClick: PropTypes.func,\n  onShow: PropTypes.func,\n  onHide: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n};\nModal.defaultProps = {\n  size: 'sm',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  animation: Bounce,\n  animationTimeout: 300,\n  dialogComponentClass: ModalDialog,\n  overflow: true\n};\nvar EnhancedModal = defaultProps({\n  classPrefix: 'modal'\n})(Modal);\nsetStatic('Body', ModalBody)(EnhancedModal);\nsetStatic('Header', ModalHeader)(EnhancedModal);\nsetStatic('Title', ModalTitle)(EnhancedModal);\nsetStatic('Footer', ModalFooter)(EnhancedModal);\nsetStatic('Dialog', ModalDialog)(EnhancedModal);\nexport default EnhancedModal;"]},"metadata":{},"sourceType":"module"}