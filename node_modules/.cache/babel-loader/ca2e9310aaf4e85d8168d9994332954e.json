{"ast":null,"code":"var _jsxFileName = \"/media/muji/Local Disk/University/1902/Software_Engineering/SE Project/Development/KhanaShana-Client/src/components/profile/CustomerProfile.jsx\";\nimport React from 'react';\nimport firebase_integration from '../fire.js';\nimport './profilestyles.css';\n\nfunction CustomerProfile() {\n  console.log(firebase_integration.auth.currentUser);\n  const [editname, seteditname] = React.useState(false);\n  const [editemail, seteditemail] = React.useState(false);\n  const [editnumber, seteditnumber] = React.useState(false);\n  const [editpassword, seteditpassword] = React.useState(false);\n  const [editgender, seteditgender] = React.useState(false);\n  const [ID, setID] = React.useState();\n  const [name, setname] = React.useState();\n  const [email, setemail] = React.useState();\n  const [number, setnumber] = React.useState();\n  const [dob, setdob] = React.useState();\n  const [password, setpassword] = React.useState();\n  const [gender, setgender] = React.useState();\n  React.useEffect(() => {// firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot((snapshot) => {\n    //     console.log(firebase_integration.auth.currentUser)\n    //     var customerdata = {};\n    //     snapshot.docs.forEach(doc => {\n    //         customerdata = doc.data()\n    //     });\n    //     setID(customerdata.CustomerID)\n    //     setname(customerdata.Name)\n    //     setemail(customerdata.Email)\n    //     setnumber(customerdata.ContactNo)\n    //     setdob(customerdata.DOB.toDate().getDate()+\"-\"+customerdata.DOB.toDate().getMonth()+1+\"-\"+customerdata.DOB.toDate().getFullYear())\n    //     setpassword(customerdata.Password)\n    //     setgender(customerdata.Gender)\n    // }).catch(function(error) {\n    //     alert(error.message)\n    // });\n  }, [ID]);\n\n  async function updatename(CustomerID, value) {\n    firebase_integration.auth.currentUser.updateProfile({\n      displayName: value\n    }).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Name: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updateemail(CustomerID, value) {\n    firebase_integration.auth.currentUser.updateEmail(value).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Email: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatenumber(CustomerID, value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      ContactNo: value\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatepassword(CustomerID, value) {\n    firebase_integration.auth.currentUser.updatePassword(value).then(function () {\n      alert(\"Your password has been updated\");\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updategender(CustomerID, value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      Gender: value\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"wholepage\",\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profilepic\",\n    className: \"img-fluid\",\n    alt: \"ProfilePicture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('profilepic', 'CustomerProfile', '', 'profilepic.svg')), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c2\",\n    className: \"col-3\",\n    style: {\n      paddingLeft: \"0px\",\n      paddingRight: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"namebox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, name))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"btn-group d-flex\",\n    role: \"group\",\n    \"aria-label\": \"Basic example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary w-100 buttonbar\",\n    style: {\n      borderLeft: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"./orderhistory\",\n    type: \"button\",\n    class: \"btn btn-secondary w-100 buttonbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, \"Order History\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"./feedback\",\n    type: \"button\",\n    class: \"btn btn-secondary w-100 buttonbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, \"Feedback\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c3\",\n    className: \"col-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c4\",\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"loyaltypoints\",\n    className: \"img-fluid\",\n    alt: \"LoyaltyPoints\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('loyaltypoints', 'CustomerProfile', '', 'pointslogo.svg'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c1\",\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c2\",\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, \"Name\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editname\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditname(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editname', 'CustomerProfile', '', 'pencil.svg'), editname === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, name) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Enter name\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: name,\n    onChange: e => setname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditname(false);\n      updatename(ID, name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"Email\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editemail\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditemail(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editemail', 'CustomerProfile', '', 'pencil.svg'), editemail === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, email) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Enter email\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: email,\n    onChange: e => setemail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditemail(false);\n      updateemail(ID, email);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \"Phone Number\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editnumber\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditnumber(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editnumber', 'CustomerProfile', '', 'pencil.svg'), editnumber === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, number) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Enter password\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: number,\n    onChange: e => setnumber(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditnumber(false);\n      updatenumber(ID, number);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, \"Date of Birth\", /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, dob)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editpassword\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditpassword(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editpassword', 'CustomerProfile', '', 'pencil.svg'), editpassword === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, \"**********\") : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    placeholder: \"Enter New Password\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: password,\n    onChange: e => setpassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditpassword(false);\n      updatepassword(ID, password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, \"Gender\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editgender\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditgender(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editgender', 'CustomerProfile', '', 'pencil.svg'), editgender === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, gender) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: gender,\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: gender,\n    onChange: e => setgender(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditgender(false);\n      updategender(ID, gender);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 41\n    }\n  }, \"Save\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c3\",\n    className: \"col d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profileaunty\",\n    className: \"img-fluid\",\n    alt: \"ProfileAunty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('profileaunty', 'CustomerProfile', '', 'aunty.svg'))));\n}\n\nexport default CustomerProfile;","map":{"version":3,"sources":["/media/muji/Local Disk/University/1902/Software_Engineering/SE Project/Development/KhanaShana-Client/src/components/profile/CustomerProfile.jsx"],"names":["React","firebase_integration","CustomerProfile","console","log","auth","currentUser","editname","seteditname","useState","editemail","seteditemail","editnumber","seteditnumber","editpassword","seteditpassword","editgender","seteditgender","ID","setID","name","setname","email","setemail","number","setnumber","dob","setdob","password","setpassword","gender","setgender","useEffect","updatename","CustomerID","value","updateProfile","displayName","then","database","collection","doc","uid","toString","update","Name","catch","error","alert","message","updateemail","updateEmail","Email","updatenumber","ContactNo","updatepassword","updatePassword","updategender","Gender","getImageURL","paddingLeft","paddingRight","borderLeft","e","target"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport firebase_integration from '../fire.js';\r\nimport './profilestyles.css';\r\nfunction CustomerProfile() {\r\n    console.log(firebase_integration.auth.currentUser)\r\n\r\n    const [editname, seteditname] = React.useState(false)\r\n    const [editemail, seteditemail] = React.useState(false)\r\n    const [editnumber, seteditnumber] = React.useState(false)\r\n    const [editpassword, seteditpassword] = React.useState(false)\r\n    const [editgender, seteditgender] = React.useState(false)\r\n    const [ID, setID] = React.useState()\r\n    const [name, setname] = React.useState()\r\n    const [email, setemail] = React.useState()\r\n    const [number, setnumber] = React.useState()\r\n    const [dob, setdob] = React.useState()\r\n    const [password, setpassword] = React.useState()\r\n    const [gender, setgender] = React.useState()\r\n\r\n    React.useEffect(() => {\r\n        // firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot((snapshot) => {\r\n        //     console.log(firebase_integration.auth.currentUser)\r\n        //     var customerdata = {};\r\n        //     snapshot.docs.forEach(doc => {\r\n        //         customerdata = doc.data()\r\n        //     });\r\n        //     setID(customerdata.CustomerID)\r\n        //     setname(customerdata.Name)\r\n        //     setemail(customerdata.Email)\r\n        //     setnumber(customerdata.ContactNo)\r\n        //     setdob(customerdata.DOB.toDate().getDate()+\"-\"+customerdata.DOB.toDate().getMonth()+1+\"-\"+customerdata.DOB.toDate().getFullYear())\r\n        //     setpassword(customerdata.Password)\r\n        //     setgender(customerdata.Gender)\r\n        // }).catch(function(error) {\r\n        //     alert(error.message)\r\n        // });\r\n    },[ID]);\r\n\r\n    async function updatename(CustomerID, value){\r\n        firebase_integration.auth.currentUser.updateProfile({\r\n            displayName: value,\r\n          }).then(function() {\r\n                firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                    Name : value\r\n                })\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n        \r\n    }\r\n    async function updateemail(CustomerID, value){\r\n        firebase_integration.auth.currentUser.updateEmail(value).then(function() {\r\n            firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                Email : value\r\n            })\r\n        }).catch(function(error) {\r\n            alert(error.message);\r\n        });\r\n        \r\n    }\r\n    async function updatenumber(CustomerID, value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            ContactNo : value\r\n        }).catch(function(error) {\r\n            alert(error.message)\r\n        });\r\n    }\r\n    async function updatepassword(CustomerID, value){\r\n        firebase_integration.auth.currentUser.updatePassword(value).then(function() {\r\n            alert(\"Your password has been updated\");\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n    }\r\n    async function updategender(CustomerID, value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            Gender : value\r\n        }).catch(function(error) {\r\n            alert(error.message)\r\n        });\r\n    }          \r\n    return (\r\n        <div id=\"wholepage\" className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className =\"col-2 d-flex justify-content-center\">\r\n                    <img id=\"profilepic\" className = \"img-fluid\" alt=\"ProfilePicture\" />\r\n                    {firebase_integration.getImageURL('profilepic', 'CustomerProfile', '','profilepic.svg')}\r\n                </div>\r\n                <div id=\"r1c2\" className =\"col-3\" style={{paddingLeft: \"0px\", paddingRight: \"0px\"}}>\r\n                    <div class=\"row\">\r\n                        <div class=\"col d-flex justify-content-center\">\r\n                            <div id=\"namebox\">\r\n                                {name}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <div class=\"btn-group d-flex\" role=\"group\" aria-label=\"Basic example\">\r\n                                <button type=\"button\" class=\"btn btn-secondary w-100 buttonbar\" style = {{borderLeft: \"0px\"}}>Profile</button>\r\n                                <a href = './orderhistory' type=\"button\" class=\"btn btn-secondary w-100 buttonbar\">Order History</a>\r\n                                <a  href = './feedback' type=\"button\" class=\"btn btn-secondary w-100 buttonbar\">Feedback</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"r1c3\" className=\"col-5\"/>\r\n                <div id=\"r1c4\" className=\"col-2 d-flex justify-content-center\">\r\n                    <img id =\"loyaltypoints\" className = \"img-fluid\" alt=\"LoyaltyPoints\" />\r\n                    {firebase_integration.getImageURL('loyaltypoints', 'CustomerProfile', '', 'pointslogo.svg')}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div id =\"r2c1\" className =\"col-2\"/>\r\n                <div id =\"r2c2\" className = \"col-2 d-flex justify-content-center\">\r\n                    <form>\r\n                        <div class =\"infotitle\">\r\n                            Name\r\n                            <img id =\"editname\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditname(true)}/>\r\n                            {firebase_integration.getImageURL('editname', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editname === false?\r\n                                <div class=\"info\">{name}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter name\"aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {name} onChange={(e) => setname(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditname(false) \r\n                                            updatename(ID,name)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Email\r\n                            <img id =\"editemail\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditemail(true)}/>\r\n                            {firebase_integration.getImageURL('editemail', 'CustomerProfile', '', 'pencil.svg')}\r\n\r\n                            {editemail === false?\r\n                                <div class=\"info\">{email}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter email\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {email}  onChange={(e) => setemail(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditemail(false) \r\n                                            updateemail(ID,email)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Phone Number\r\n                            <img id =\"editnumber\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditnumber(true)}/>\r\n                            {firebase_integration.getImageURL('editnumber', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editnumber === false?\r\n                                <div class=\"info\">{number}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter password\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {number}  onChange={(e) => setnumber(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditnumber(false) \r\n                                            updatenumber(ID, number)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class =\"infotitle\">\r\n                            Date of Birth\r\n                            <div class=\"info\">{dob}</div>\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Password\r\n                            <img id =\"editpassword\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditpassword(true)}/>\r\n                            {firebase_integration.getImageURL('editpassword', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editpassword === false?\r\n                                <div class=\"info\">**********</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"password\" class=\"form-control\" placeholder=\"Enter New Password\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {password}  onChange={(e) => setpassword(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditpassword(false) \r\n                                            updatepassword(ID,password)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Gender\r\n                            <img id =\"editgender\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditgender(true)}/>\r\n                            {firebase_integration.getImageURL('editgender', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editgender === false?\r\n                                <div class=\"info\">{gender}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder={gender} aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {gender}  onChange={(e) => setgender(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditgender(false) \r\n                                            updategender(ID,gender)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div id = \"r2c3\" className =\"col d-flex justify-content-center\">\r\n                    <img id=\"profileaunty\" className = \"img-fluid\" alt=\"ProfileAunty\" />\r\n                    {firebase_integration.getImageURL('profileaunty', 'CustomerProfile', '', 'aunty.svg')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CustomerProfile;"]},"metadata":{},"sourceType":"module"}