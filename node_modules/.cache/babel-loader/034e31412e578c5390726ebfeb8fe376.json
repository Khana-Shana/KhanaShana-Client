{"ast":null,"code":"var _jsxFileName = \"/media/muji/Local Disk/University/1902/Software_Engineering/SE Project/Development/KhanaShana-Client/src/components/profile/CustomerProfile.jsx\";\nimport React from 'react';\nimport firebase_integration from '../fire.js';\nimport './profilestyles.css';\n\nfunction CustomerProfile() {\n  const [editname, seteditname] = React.useState(false);\n  const [editemail, seteditemail] = React.useState(false);\n  const [editnumber, seteditnumber] = React.useState(false);\n  const [editpassword, seteditpassword] = React.useState(false);\n  const [editgender, seteditgender] = React.useState(false);\n  const [ID, setID] = React.useState();\n  const [name, setname] = React.useState();\n  const [email, setemail] = React.useState();\n  const [number, setnumber] = React.useState();\n  const [dob, setdob] = React.useState();\n  const [password, setpassword] = React.useState();\n  const [gender, setgender] = React.useState();\n  React.useEffect(() => {\n    console.log(firebase_integration.auth.currentUser);\n    firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot(snapshot => {\n      console.log(firebase_integration.auth.currentUser);\n      var customerdata = {};\n      snapshot.docs.forEach(doc => {\n        customerdata = doc.data();\n      });\n      setID(customerdata.CustomerID);\n      setname(customerdata.Name);\n      setemail(customerdata.Email);\n      setnumber(customerdata.ContactNo);\n      setdob(customerdata.DOB.toDate().getDate() + \"-\" + customerdata.DOB.toDate().getMonth() + 1 + \"-\" + customerdata.DOB.toDate().getFullYear());\n      setpassword(customerdata.Password);\n      setgender(customerdata.Gender);\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }, [ID]);\n\n  async function updatename(CustomerID, value) {\n    firebase_integration.auth.currentUser.updateProfile({\n      displayName: value\n    }).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Name: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updateemail(CustomerID, value) {\n    firebase_integration.auth.currentUser.updateEmail(value).then(function () {\n      firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n        Email: value\n      });\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatenumber(CustomerID, value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      ContactNo: value\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updatepassword(CustomerID, value) {\n    firebase_integration.auth.currentUser.updatePassword(value).then(function () {\n      alert(\"Your password has been updated\");\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  async function updategender(CustomerID, value) {\n    firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\n      Gender: value\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"wholepage\",\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profilepic\",\n    className: \"img-fluid\",\n    alt: \"ProfilePicture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('profilepic', 'CustomerProfile', '', 'profilepic.svg')), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c2\",\n    className: \"col-3\",\n    style: {\n      paddingLeft: \"0px\",\n      paddingRight: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"namebox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, name))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"btn-group d-flex\",\n    role: \"group\",\n    \"aria-label\": \"Basic example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary w-100 buttonbar\",\n    style: {\n      borderLeft: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, \"Profile\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"./orderhistory\",\n    type: \"button\",\n    class: \"btn btn-secondary w-100 buttonbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, \"Order History\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"./feedback\",\n    type: \"button\",\n    class: \"btn btn-secondary w-100 buttonbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, \"Feedback\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c3\",\n    className: \"col-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r1c4\",\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"loyaltypoints\",\n    className: \"img-fluid\",\n    alt: \"LoyaltyPoints\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('loyaltypoints', 'CustomerProfile', '', 'pointslogo.svg'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c1\",\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c2\",\n    className: \"col-2 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, \"Name\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editname\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditname(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editname', 'CustomerProfile', '', 'pencil.svg'), editname === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, name) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Enter name\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: name,\n    onChange: e => setname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditname(false);\n      updatename(ID, name);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"Email\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editemail\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditemail(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editemail', 'CustomerProfile', '', 'pencil.svg'), editemail === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, email) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Enter email\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: email,\n    onChange: e => setemail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditemail(false);\n      updateemail(ID, email);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \"Phone Number\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editnumber\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditnumber(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editnumber', 'CustomerProfile', '', 'pencil.svg'), editnumber === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  }, number) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Enter password\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: number,\n    onChange: e => setnumber(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditnumber(false);\n      updatenumber(ID, number);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, \"Date of Birth\", /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  }, dob)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editpassword\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditpassword(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editpassword', 'CustomerProfile', '', 'pencil.svg'), editpassword === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, \"**********\") : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    placeholder: \"Enter New Password\",\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: password,\n    onChange: e => setpassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditpassword(false);\n      updatepassword(ID, password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"infotitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, \"Gender\", /*#__PURE__*/React.createElement(\"img\", {\n    id: \"editgender\",\n    className: \"img-fluid pencil\",\n    alt: \"pencil\",\n    onClick: () => seteditgender(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }), firebase_integration.getImageURL('editgender', 'CustomerProfile', '', 'pencil.svg'), editgender === false ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, gender) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: gender,\n    \"aria-label\": \"Recipient's username\",\n    \"aria-describedby\": \"button-addon2\",\n    value: gender,\n    onChange: e => setgender(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-outline-secondary\",\n    type: \"button\",\n    id: \"button-addon2\",\n    onClick: () => {\n      seteditgender(false);\n      updategender(ID, gender);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 41\n    }\n  }, \"Save\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"r2c3\",\n    className: \"col d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"profileaunty\",\n    className: \"img-fluid\",\n    alt: \"ProfileAunty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }), firebase_integration.getImageURL('profileaunty', 'CustomerProfile', '', 'aunty.svg'))));\n}\n\nexport default CustomerProfile;","map":{"version":3,"sources":["/media/muji/Local Disk/University/1902/Software_Engineering/SE Project/Development/KhanaShana-Client/src/components/profile/CustomerProfile.jsx"],"names":["React","firebase_integration","CustomerProfile","editname","seteditname","useState","editemail","seteditemail","editnumber","seteditnumber","editpassword","seteditpassword","editgender","seteditgender","ID","setID","name","setname","email","setemail","number","setnumber","dob","setdob","password","setpassword","gender","setgender","useEffect","console","log","auth","currentUser","database","collection","where","uid","toString","onSnapshot","snapshot","customerdata","docs","forEach","doc","data","CustomerID","Name","Email","ContactNo","DOB","toDate","getDate","getMonth","getFullYear","Password","Gender","catch","error","alert","message","updatename","value","updateProfile","displayName","then","update","updateemail","updateEmail","updatenumber","updatepassword","updatePassword","updategender","getImageURL","paddingLeft","paddingRight","borderLeft","e","target"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport firebase_integration from '../fire.js';\r\nimport './profilestyles.css';\r\nfunction CustomerProfile() {\r\n    const [editname, seteditname] = React.useState(false)\r\n    const [editemail, seteditemail] = React.useState(false)\r\n    const [editnumber, seteditnumber] = React.useState(false)\r\n    const [editpassword, seteditpassword] = React.useState(false)\r\n    const [editgender, seteditgender] = React.useState(false)\r\n    const [ID, setID] = React.useState()\r\n    const [name, setname] = React.useState()\r\n    const [email, setemail] = React.useState()\r\n    const [number, setnumber] = React.useState()\r\n    const [dob, setdob] = React.useState()\r\n    const [password, setpassword] = React.useState()\r\n    const [gender, setgender] = React.useState()\r\n\r\n    React.useEffect(() => {\r\n        console.log(firebase_integration.auth.currentUser)\r\n        firebase_integration.database.collection('CustomerDatabase').where(\"CustomerID\", \"==\", firebase_integration.auth.currentUser.uid.toString()).onSnapshot((snapshot) => {\r\n            console.log(firebase_integration.auth.currentUser)\r\n            var customerdata = {};\r\n            snapshot.docs.forEach(doc => {\r\n                customerdata = doc.data()\r\n            });\r\n            setID(customerdata.CustomerID)\r\n            setname(customerdata.Name)\r\n            setemail(customerdata.Email)\r\n            setnumber(customerdata.ContactNo)\r\n            setdob(customerdata.DOB.toDate().getDate()+\"-\"+customerdata.DOB.toDate().getMonth()+1+\"-\"+customerdata.DOB.toDate().getFullYear())\r\n            setpassword(customerdata.Password)\r\n            setgender(customerdata.Gender)\r\n        }).catch(function(error) {\r\n            alert(error.message)\r\n        });\r\n    },[ID]);\r\n\r\n    async function updatename(CustomerID, value){\r\n        firebase_integration.auth.currentUser.updateProfile({\r\n            displayName: value,\r\n          }).then(function() {\r\n                firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                    Name : value\r\n                })\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n        \r\n    }\r\n    async function updateemail(CustomerID, value){\r\n        firebase_integration.auth.currentUser.updateEmail(value).then(function() {\r\n            firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n                Email : value\r\n            })\r\n        }).catch(function(error) {\r\n            alert(error.message);\r\n        });\r\n        \r\n    }\r\n    async function updatenumber(CustomerID, value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            ContactNo : value\r\n        }).catch(function(error) {\r\n            alert(error.message)\r\n        });\r\n    }\r\n    async function updatepassword(CustomerID, value){\r\n        firebase_integration.auth.currentUser.updatePassword(value).then(function() {\r\n            alert(\"Your password has been updated\");\r\n          }).catch(function(error) {\r\n            alert(error.message);\r\n          });\r\n    }\r\n    async function updategender(CustomerID, value){\r\n        firebase_integration.database.collection(\"CustomerDatabase\").doc(firebase_integration.auth.currentUser.uid.toString()).update({\r\n            Gender : value\r\n        }).catch(function(error) {\r\n            alert(error.message)\r\n        });\r\n    }          \r\n    return (\r\n        <div id=\"wholepage\" className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className =\"col-2 d-flex justify-content-center\">\r\n                    <img id=\"profilepic\" className = \"img-fluid\" alt=\"ProfilePicture\" />\r\n                    {firebase_integration.getImageURL('profilepic', 'CustomerProfile', '','profilepic.svg')}\r\n                </div>\r\n                <div id=\"r1c2\" className =\"col-3\" style={{paddingLeft: \"0px\", paddingRight: \"0px\"}}>\r\n                    <div class=\"row\">\r\n                        <div class=\"col d-flex justify-content-center\">\r\n                            <div id=\"namebox\">\r\n                                {name}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col\">\r\n                            <div class=\"btn-group d-flex\" role=\"group\" aria-label=\"Basic example\">\r\n                                <button type=\"button\" class=\"btn btn-secondary w-100 buttonbar\" style = {{borderLeft: \"0px\"}}>Profile</button>\r\n                                <a href = './orderhistory' type=\"button\" class=\"btn btn-secondary w-100 buttonbar\">Order History</a>\r\n                                <a  href = './feedback' type=\"button\" class=\"btn btn-secondary w-100 buttonbar\">Feedback</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"r1c3\" className=\"col-5\"/>\r\n                <div id=\"r1c4\" className=\"col-2 d-flex justify-content-center\">\r\n                    <img id =\"loyaltypoints\" className = \"img-fluid\" alt=\"LoyaltyPoints\" />\r\n                    {firebase_integration.getImageURL('loyaltypoints', 'CustomerProfile', '', 'pointslogo.svg')}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div id =\"r2c1\" className =\"col-2\"/>\r\n                <div id =\"r2c2\" className = \"col-2 d-flex justify-content-center\">\r\n                    <form>\r\n                        <div class =\"infotitle\">\r\n                            Name\r\n                            <img id =\"editname\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditname(true)}/>\r\n                            {firebase_integration.getImageURL('editname', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editname === false?\r\n                                <div class=\"info\">{name}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter name\"aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {name} onChange={(e) => setname(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditname(false) \r\n                                            updatename(ID,name)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Email\r\n                            <img id =\"editemail\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditemail(true)}/>\r\n                            {firebase_integration.getImageURL('editemail', 'CustomerProfile', '', 'pencil.svg')}\r\n\r\n                            {editemail === false?\r\n                                <div class=\"info\">{email}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter email\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {email}  onChange={(e) => setemail(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditemail(false) \r\n                                            updateemail(ID,email)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Phone Number\r\n                            <img id =\"editnumber\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditnumber(true)}/>\r\n                            {firebase_integration.getImageURL('editnumber', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editnumber === false?\r\n                                <div class=\"info\">{number}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter password\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {number}  onChange={(e) => setnumber(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditnumber(false) \r\n                                            updatenumber(ID, number)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class =\"infotitle\">\r\n                            Date of Birth\r\n                            <div class=\"info\">{dob}</div>\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Password\r\n                            <img id =\"editpassword\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditpassword(true)}/>\r\n                            {firebase_integration.getImageURL('editpassword', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editpassword === false?\r\n                                <div class=\"info\">**********</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"password\" class=\"form-control\" placeholder=\"Enter New Password\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {password}  onChange={(e) => setpassword(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditpassword(false) \r\n                                            updatepassword(ID,password)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div class=\"infotitle\">\r\n                            Gender\r\n                            <img id =\"editgender\" className = \"img-fluid pencil\" alt=\"pencil\" onClick={() => seteditgender(true)}/>\r\n                            {firebase_integration.getImageURL('editgender', 'CustomerProfile', '', 'pencil.svg')}\r\n                            {editgender === false?\r\n                                <div class=\"info\">{gender}</div>:\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder={gender} aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" value = {gender}  onChange={(e) => setgender(e.target.value)}/>\r\n                                    <div class=\"input-group-append\">\r\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={() => {seteditgender(false) \r\n                                            updategender(ID,gender)}}>Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div id = \"r2c3\" className =\"col d-flex justify-content-center\">\r\n                    <img id=\"profileaunty\" className = \"img-fluid\" alt=\"ProfileAunty\" />\r\n                    {firebase_integration.getImageURL('profileaunty', 'CustomerProfile', '', 'aunty.svg')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default CustomerProfile;"]},"metadata":{},"sourceType":"module"}